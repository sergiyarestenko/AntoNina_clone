GoToTrip=function(){var t=this,e=$(document.body),i=$(document),s=$(window),n={top:!1,left:!1},o=$("#gt-is-360"),a=($("#gt-is-480"),$("#gt-is-667")),r=$("#gt-is-768"),c=$("#gt-is-1024"),l=($("#gt-is-1231"),$("header")),d=$("footer"),g=$("#gt-wrapper"),h=$("#gt-up"),u=$("#gt-mobile-menu-switch"),f=$(".gt-enter"),p=$("#gt-header-enter-wrapper"),v=$("#gt-header-enter"),m=$("#gt-header-enter-chose"),C=$("#gt-header-enter-close");$("html").niceScroll({cursorborder:"1px solid #6d6d6d",mousescrollstep:"60",bouncescroll:!0,cursorcolor:"#6d6d6d"}),this.fixBody=function(){n.top||n.left||(n.top=i.scrollTop(),n.left=e.offset().left,e.css({position:"fixed",left:n.left+"px",top:-1*n.top+"px"}))},this.unfixBody=function(){e.css({position:"",left:"",top:""}),i.scrollTop(n.top),n.top=!1,n.left=!1},this.footerHeight=function(){d.outerHeight()>s.height()-50?(d.css("position","static"),g.css("margin-bottom",""),h.css("position","static")):(d.css("position",""),h.css("position",""),g.css("margin-bottom",d.outerHeight()+"px"))},this.deskTopMenuScroll=function(){s.scrollTop()>l.outerHeight()?l.addClass("gt-header-scrolled"):l.removeClass("gt-header-scrolled")},$("*").is(".gt-top-plane")&&$(".gt-header").addClass("gt-header-plane-top"),this.mobileMenuClose=function(){t.unfixBody(),u.removeClass("gt-open"),l.removeClass("gt-open")},this.mobileMenuOpen=function(){t.fixBody(),l.addClass("gt-open"),u.addClass("gt-open")},u.on("click",function(){$(this).hasClass("gt-open")?t.mobileMenuClose():t.mobileMenuOpen()}),this.openEnterForm=function(){p.addClass("gt-open"),setTimeout(function(){$("#gt-header-registered").addClass("gt-open"),v.addClass("gt-open"),C.addClass("gt-open")})},this.closeEnterForm=function(){C.removeClass("gt-open"),v.removeClass("gt-open"),$("#gt-header-registered").removeClass("gt-open"),t.closeRestorePass(),setTimeout(function(){p.removeClass("gt-open")},750)},this.changeEnterRegistration=function(t){v.hasClass($(t.target).attr("class"))||v.removeClass("gt-chosen-enter").removeClass("gt-chosen-registration").addClass($(t.target).attr("class"))},this.openRestorePass=function(){$("#gt-enter-pass-restore-wrapper").addClass("gt-open")},this.closeRestorePass=function(){$("#gt-enter-pass-restore-wrapper").removeClass("gt-open")},f.each(function(){$(this).on("click",t.openEnterForm)}),C.on("click",t.closeEnterForm),m.on("click",function(e){t.changeEnterRegistration(e)}),$("#gt-enter-form-restore-pass").on("click",t.openRestorePass),$("#gt-enter-pass-restore-submit").on("click",t.closeRestorePass),this.imgHolderFunc=function(t){$(t).removeClass("gt-width"),$(t).removeClass("gt-height"),$(t).removeClass("gt-visible");var e=t.outerHeight()/t.outerWidth(),i=t.find("img");i.outerHeight()/i.outerWidth()>e?$(t).addClass("gt-width"):$(t).addClass("gt-height"),i.lazy({placeholder:"data:image/gif;base64,R0lGODlhEALAPQAPzl5uLr9Nrl8e7...",scrollDirection:"vertical",effect:"fadeIn",visibleOnly:!0,onError:function(t){console.log("error loading "+t.data("src"))}})},this.setBg=function(t){function e(){a.is(":visible")?(i=t.attr("data-src-phone"),s=0):c.is(":visible")?(i=t.attr("data-src-tablet"),s=1):(i=t.attr("data-src-desctop"),s=2),t.css("background-image","url('./img/bgs/"+i+"'")}var i,s,n,o;e(),$(window).resize(function(){clearTimeout(o),o=setTimeout(function(){(n=a.is(":visible")?0:c.is(":visible")?1:2)>s&&e()},250)})},$("div").is(".gt-bgs-holder")&&$(".gt-bgs-holder").each(function(){t.setBg($(this))}),t.setBg($("#gt-footer")),this.createSlider=function(e,i){function n(){if(S>w){var t="";B&&(t='<div class="gt-slider-arrow-num"><i class="gt-slider-num-curr"></i><i>из</i><i class="gt-slider-num-max"></i></div>'),e.find(".gt-slider-arrow-holder").html('<span class = "gt-slider-arrow left"></span>'+t+'<span class = "gt-slider-arrow right"></span>'),e.find(".left").on("click",function(){l(!1)}),e.find(".right").on("click",function(){l(!0)}),B&&h(),h()}k=!0}function c(t){var i=t||e;i.find(".left").off(),i.find(".right").off(),i.find(".gt-slider-arrow-holder").html(""),k=!1}function l(i,s){var n,o;if(s||0===s?y=s:i?y++:y--,P&&(y>S-w&&(y=0),y<0&&(y=S-w),g()),A&&(y>S-w&&(n=x.children().first().clone(),o=x.children().first(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(o),t.createViewCardListeners(n)),x.css("left",-(y-2)*C+"px"),x.append(n),o.remove(),y--),y<0?(n=x.children().last(),o=x.children().last(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(o),t.createViewCardListeners(n)),x.css("left",-(y+2)*C+"px"),x.prepend(n.clone()),o.remove(),y++,d()):d()),B&&h(),V){var a=e.find(".gt-slider-nav span");a.removeClass("gt-active"),$(a[x.find(".gt-open").attr("data-count")]).addClass("gt-active")}}function d(){x.children().removeClass("gt-open"),x.animate({left:-y*C},M),x.children().eq(y).addClass("gt-open")}function g(t){var e=t||y;$(b).removeClass("gt-open"),$(b[e]).addClass("gt-open")}function h(){e.find(".gt-slider-num-curr").text(+x.find(".gt-open").attr("data-count")+1),e.find(".gt-slider-num-max").text(S)}function u(){var t=0,i=0;e.on("touchstart",function(e){var i=e.originalEvent;t=Math.abs(i.touches[0].pageX),console.log("touchstart")}),e.on("touchend",function(e){var s=e.originalEvent;i=Math.abs(s.changedTouches[0].pageX),Math.abs(t-i)>50&&l(t>i?!0:!1)})}function f(t){(t||e).off()}function p(){e.attr("data-count")&&(w=parseInt(e.attr("data-count")),$(r).is(":visible")&&(w=3),$(a).is(":visible")&&(w=2),$(o).is(":visible")&&(w=1))}function v(){console.log("setBaseWidth"),C=e.outerWidth()/w,e.find(".gt-slider-container").outerWidth((S+1)*C),b.each(function(){$(this).outerWidth(C),$(this).attr("data-count",$(this).index())})}var m,C,w=1,k=!1,b=e.find(".gt-slider-inner"),x=e.find(".gt-slider-container"),S=b.length,y=i||0,T=e.hasClass("gt-slider-has-arrow"),V=e.hasClass("gt-slider-has-dots"),B=e.hasClass("gt-slider-num"),A=e.hasClass("gt-slider-tram"),M=+e.attr("data-duration")||300,P=e.hasClass("gt-slider-fade"),E=e.hasClass("gt-slider-has-clone");P&&g(i),A&&(p(),v(),d()),T&&(e.append('<div class="gt-slider-arrow-holder"></div>'),n()),V&&function(){e.append('<div class="gt-slider-nav"></div>');for(var t=e.find(".gt-slider-nav"),i="",s=0;s<S;s++)i+="<span data-num = "+s+"></span>";t.html(i),t.find("span").first().addClass("gt-active"),e.find(".gt-slider-nav span").on("click",function(){l(!0,+$(this).attr("data-num"))})}(),S>w&&u(),E&&e.find(".gt-slider-inner-cover").each(function(){$(this).on("click",function(){!function(i){if(!$("div").is("#gt-clone")){t.fixBody();var s=$("#gt-body-wrapper");s.append('<div id = "gt-clone-wrapper"   class="container"><div id = "gt-clone" class="gt-slider gt-slider-clone gt-slider-fade gt-slider-num  gt-slider-has-arrow"><div id = "gt-clone-close" class = "gt-slider-clone-close"></div><div  id = "gt-clone-container" class="gt-slider-container"></div></div></div>'),s.show();var n=$("#gt-clone");e.find(".gt-slider-inner").clone(!0).each(function(){$(this).outerWidth(""),$("#gt-clone-container").append($(this))}),t.createSlider(n,i),$("#gt-clone-close").on("click",function(){!function(e){c(e),f(e),$("#gt-clone-close").off(),$("#gt-clone-wrapper").remove(),$("#gt-body-wrapper").hide(),t.unfixBody()}(n)})}}($(this).parent().index())})}),s.resize(function(){m||(m=setTimeout(function(){m=null,f(),A&&(p(),v(),y>S-w&&(y=S-w),S<=w&&(y=0),d()),k&&(c(),n()),S>w&&u()},132))})},$("div").is(".gt-slider")&&$(".gt-slider").each(function(){t.createSlider($(this))}),this.numberCollectionArticle=function(t){t.find(".gt-collection-link-wrapper").each(function(){$(this).find(".gt-collection-link-slider-wrapper").after('<div class = "gt-collection-link-number"><span>'+($(this).index()+1)+"</span></div>")})},$("div").is(".gt-collection-wrapper-num")&&$(".gt-collection-wrapper-num").each(function(){t.numberCollectionArticle($(this))}),this.manageGtActiveUlMenu=function(t){"li"!=t.tagName&&(t=$(t).closest("li")),$(t).closest($("ul")).find("li").removeClass("gt-active"),$(t).addClass("gt-active")},$("*").is(".gt-button-menu")&&$(".gt-button-menu").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),$("*").is(".gt-menu-news_items")&&$(".gt-menu-news_items").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),this.setPlayers=function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.youtube.com/player_api";var i=$("script")[$("script").length-1];i.parentNode.insertBefore(e,i);$(".gt-video").each(function(){var e=$(this);e.find(".gt-video-switch").on("click",function(){$(this).addClass("gt-open"),e.addClass("gt-open"),t.addYouTube(e)})})},this.addYouTube=function(t){function e(){s.mute(),s.playVideo(),t.addClass("gt-video-on"),t.find(".gt-video-uncover").on("click",i),t.find(".gt-video-pause").on("click",function(){s.pauseVideo()}),t.find(".gt-video-play").on("click",function(){s.playVideo()})}function i(){console.log("playFullScreen");var e=t.find("iframe")[0],i=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen;i&&i.bind(e)()}var s,n="gt-video-"+t.index();t.find(".gt-video-switch").hide("slow"),t.find(".gt-video-inner").attr("id",n).addClass("gt-video-foreground"),s=new YT.Player(n,{width:600,height:400,videoId:t.attr("data-youtube"),playerVars:{playlist:t.attr("data-youtube"),color:"white",loop:1,autoplay:1},events:{onReady:e}})},$("div").is(".gt-video")&&t.setPlayers(),this.fixArticleScrollTablePosition=function(t){var e=t,s=e.parent(),n=e.outerHeight(),o=s.position().top,a=o+s.outerHeight(),r=e.outerWidth(),c=i.scrollTop();o+90>c&&e.hasClass("gt-fixed")&&(e.removeClass("gt-fixed"),e.css({left:"",width:""})),o<c+90&&(e.hasClass("gt-fixed")||(e.css({left:e.offset().left+"px",width:r}),e.addClass("gt-fixed")),c-a+n+90>=0?e.addClass("gt-fixed-bottom"):e.removeClass("gt-fixed-bottom"))},this.createArticteScrollTable=function(){if($("div").is(".gt-article")){var e=$(".gt-article"),i=$("#gt-article-scroll-table"),s="";e.each(function(){s+='<div class = "gt-article-scroll"   data-href= "'+$(this).attr("id")+'" ><div class = "gt-article-scroll-shadow"></div><p>'+$(this).find("h2").text()+"</p></div>"}),i.html(s),i.find(".gt-article-scroll").each(function(){$(this).on("click",function(){t.scrollToArticle($(this).attr("data-href"))})})}},this.scrollToArticle=function(t){$("html").animate({scrollTop:$("#"+t).offset().top-110},1100)},this.showArtidleShadow=function(){$(".gt-article").each(function(){var t=$(this).position().top,e=$(this).outerHeight(),i=$(document).scrollTop(),s=0;(s=t>i?0:(i-t)/e)>1&&(s=1);var n=$(".gt-article-scroll")[$(this).index()];$(n).find(".gt-article-scroll-shadow").css("width",100*s+"%")})},$("div").is(".gt-article-table-wrapper")&&$(".gt-article-table-wrapper").each(function(){function e(){r&&(n||(n=setTimeout(function(){n=null,t.fixArticleScrollTablePosition(o),a&&t.showArtidleShadow()})))}function i(){o.outerHeight()>o.parent().outerHeight()?(r=!1,o.css({position:"relative",right:"15px"})):(r=!0,o.css({position:"",right:""}))}var n,o=$(this),a=!1,r=!0;$("div").is(".gt-article-scroll-table")&&(a=!0,t.createArticteScrollTable(),t.showArtidleShadow()),i(),s.scroll(e),s.resize(function(){i(),e()})}),this.setCurrTime=function(){t.currTime();setInterval(t.currTime,3e4)},this.currTime=function(){$(".gt-curr-time").each(function(){var t=new Date;$(this).attr("data-gmt")&&t.setUTCHours(+$(this).attr("data-gmt"));var e=t.getHours(),i=t.getMinutes(),s=t.getDay(),n=t.getDate(),o=t.getMonth(),a=t.getFullYear();e<10&&(e="0"+e),i<10&&(i="0"+i),s=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][s],o=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][o],$(".gt-curr-time-time")&&$(".gt-curr-time-time").html(e+":"+i),$(".gt-curr-time-date")&&$(".gt-curr-time-date").html(s+", "+n+" "+o+" "+a)})},$("div").is(".gt-curr-time")&&t.setCurrTime(),$("div").is(".gt-inner-scroll")&&$(".gt-inner-scroll").each(function(){$(this).niceScroll({cursoropacitymin:"1",cursoropacitymax:"1",cursorwidth:"2px",cursorborder:"none",mousescrollstep:"60",background:"#CECECE",railoffset:"left",zindex:"auto",cursorcolor:"#CECECE"})}),this.tabSlider=function(){$(".gt-tabs").each(function(){var e=$(this);e.find(".gt-tabs-button").each(function(){$(this).on("click",function(){t.tabSliderAction(e,$(this).index())})}),t.tabSliderAction(e,0,!0)})},this.tabSliderAction=function(t,e,i){var s=$(t.find(".gt-tabs-button")),n=$(t.find(".gt-tabs-main"));t.find(".gt-inner-scroll-tab").each(function(){$("#"+$(this).attr("data-scroll")).hide()}),s.removeClass("active"),n.removeClass("active"),$(s[e]).addClass("active"),$(n[e]).addClass("active"),(0!=$("#"+$(n[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).find(".gt-scroll-cursor").height()||i)&&$("#"+$(n[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).show()},$("div").is(".gt-tabs")&&t.tabSlider(),this.columnPartnership=function(){$("#gt-partnership").addClass("gt-partnership-column")},this.rowPartnership=function(){$("#gt-partnership").removeClass("gt-partnership-column")},$("*").is("#gt-partnership")&&($("#gt-partnership-row").on("click",t.columnPartnership),$("#gt-partnership-column").on("click",t.rowPartnership),$("*").is("#gt-partnership-menu")&&$("#gt-partnership-menu").find("div").each(function(){$(this).on("click",function(){t.scrollToArticle($(this).attr("data-href"))})})),this.createSelectWrapper=function(t){var e,i=t.find("option"),s=i.length,n=i.filter(":selected");e=t.attr("data-name")&&void 0!=t.attr("data-name")&&null!=t.attr("data-name")?t.attr("data-name"):$(n[0]).text(),t.hide(),t.wrap('<div class="select gt-select"></div>'),$("<div>",{class:"select__gap",html:"<p>"+e+"</p>"}).insertAfter(t);var o=t.next(".select__gap");$("<ul>",{class:"select__list"}).insertAfter(o);for(var a=o.next(".select__list"),r=0;r<s;r++)$("<li>",{class:"select__item",html:$("<span>",{text:i.eq(r).text()})}).attr("data-value",i.eq(r).val()).appendTo(a);var c=a.find("li");a.slideUp(0),o.on("click",function(){$(this).hasClass("on")?($(this).removeClass("on"),a.slideUp(500)):($(this).addClass("on"),a.slideDown(500),c.on("click",function(){var t=$(this).data("value");$("select").val(t).attr("selected","selected"),o.text($(this).find("span").text()),a.slideUp(500),o.removeClass("on")}))})},$("select").is(".js-gt-select")&&$(".js-gt-select").each(function(){t.createSelectWrapper($(this))}),this.initTopCards=function(){var t=$(".gt-top"),e=t.find(".gt-top-card");e.each(function(){$(this).on("mouseover",function(){$(this).addClass("gt-active")})}),t.on("mouseleave",function(){e.removeClass("gt-active")})},$("div").is(".gt-top-card-wrapper")&&t.initTopCards(),this.createViewCardListeners=function(e){e.find(".gt-view-cards-icons-visit").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickVisitViewCard(e)}),e.find(".gt-view-cards-icons-pin-plus").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickSeenViewCard(e)}),e.find(".gt-view-cards-icons-bookmarks").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickMarkViewCard(e)}),e.find(".gt-view-cards-icons-share").on("click",function(i){event.stopPropagation(),t.clickShareViewCard(e)}),e.find(".gt-view-cards-icons-share").find("a").on("click",function(e,i){e.preventDefault(),t.viewCardSocial(i)}),e.on("click  mouseleave",function(){$(e).find(".gt-view-cards-icons-share").parent().removeClass("gt-active"),t.closeShareViewCard(e)})},this.destroyViewCardListeners=function(t){t.find(".gt-view-cards-icons-visit").off(),t.find(".gt-view-cards-icons-pin-plus").off(),t.find(".gt-view-cards-icons-bookmarks").off(),t.find(".gt-view-cards-icons-share").off(),t.find(".gt-view-cards-icons-share").find("a").off(),t.off()},this.viewCardSocial=function(e){console.log("click social"),t.closeShareViewCard(e)},this.openShareViewCard=function(t){$(t).addClass("gt-active")},this.closeShareViewCard=function(t){$(t).removeClass("gt-active")},this.clickShareViewCard=function(e){var i=e.find(".gt-view-cards-icons-share").parent();i.hasClass("gt-active")?(i.removeClass("gt-active"),t.closeShareViewCard(e)):(i.addClass("gt-active"),t.openShareViewCard(e))},this.clickVisitViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-visit").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not visited now")):(e.addClass("gt-active"),console.log("click visit"))}},this.clickSeenViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-pin-plus").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not seen now")):(e.addClass("gt-active"),console.log("click seen"))}},this.clickMarkViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-bookmarks").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click delete bookmark")):(e.addClass("gt-active"),console.log("click add bookmark"))}},$("*").is(".gt-view-cards-inner")&&$(".gt-view-cards-inner").each(function(){t.createViewCardListeners($(this))}),$("#gt-enter-form-facebook").on("click",function(){t.socialEnter("facebook")}),$("#gt-enter-form-twitter").on("click",function(){t.socialEnter("twitter")}),$("#gt-enter-form-google").on("click",function(){t.socialEnter("google")}),$("#gt-reg-form-facebook").on("click",function(){t.socialRegistration("facebook")}),$("#gt-reg-form-twitter").on("click",function(){t.socialRegistration("twitter")}),$("#gt-reg-form-google").on("click",function(){t.socialRegistration("google")}),this.socialRegistration=function(t){alert("Регистрация через "+t)},this.socialEnter=function(t){alert("Вход через "+t)},this.cutNews=function(t){var e,i,s,n=t.parent(),o=n.height(),a=t.find("p");n.children().each(function(){o-=$(this).outerHeight(!0)}),o=o+t.height()-20,a.each(function(){(e=$(this).outerHeight(!0))<o?o-=e:o?(i=Math.floor($(this).text().length*o/e),s=$(this).text().substring(0,i-5),$(this).text(s+"..."),o=0):$(this).css("display","none")})},$("div").is(".js-news-cut")&&($(".js-news-cut").each(function(){t.cutNews($(this))}),s.resize(function(){$(".js-news-cut").each(function(){t.cutNews($(this))})})),this.cutReadMoreSlider=function(){$(".gt-read-more-slider-text-inner").each(function(){t.cutting($(this),160)})},this.cutting=function(t,e){var i=t.text();i.length>e&&(i=i.slice(0,e)+"...",t.text(i))},$("p").is(".gt-read-more-slider-text-inner")&&t.cutReadMoreSlider(),i.ready(function(){t.footerHeight(),t.deskTopMenuScroll()}),this.pageUp=function(){return $("html, body").animate({scrollTop:0},800),!1},this.upPageButton=function(){$(document).scrollTop()>30?h.addClass("gt-visible"):h.removeClass("gt-visible")},h.on("click",t.pageUp),s.scroll(function(){t.upPageButton(),$(".gt-header-menu").is(":visible")&&t.deskTopMenuScroll()}),s.resize(function(){t.deskTopMenuScroll(),t.footerHeight(),l.hasClass("gt-open")&&t.mobileMenuClose(),$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){$(this).removeClass("gt-width"),$(this).removeClass("gt-height"),t.imgHolderFunc($(this))})}),$(window).on("load",function(){$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){t.imgHolderFunc($(this))})}),e.on("click",function(t){}),$("*").is(".gt-menu-news")&&$(".gt-menu-news").find("a").on("click",function(t){t.preventDefault(),$(".gt-menu-news").find("li").removeClass("gt-active"),$(this).parent().addClass("gt-active"),console.log("temp func")});var w=$("#gt-search-block"),k=$("#gt-search-block-input");$(".gt-open-search").each(function(){$(this).on("click",function(){t.openSearchBlock()})}),$("#gt-search-block-close").on("click",function(){t.closeSearchBlock()}),k.on("blur",function(){t.showCrossInSearchBlock()}),$("#gt-search-block-clear").on("click",function(){t.clearSearchBlockInput()}),this.openSearchBlock=function(){t.fixBody(),w.addClass("gt-open")},this.closeSearchBlock=function(){t.unfixBody(),t.clearSearchBlockInput(),w.removeClass("gt-open")},this.showCrossInSearchBlock=function(){$.trim(k.val())?k.hasClass("gt-dirty")||k.addClass("gt-dirty"):k.hasClass("gt-dirty")&&k.removeClass("gt-dirty")},this.clearSearchBlockInput=function(){k.val(""),console.log(k.val()),k.hasClass("gt-dirty")&&k.removeClass("gt-dirty")}},$(document).ready(function(){new GoToTrip});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJHb1RvVHJpcCIsInNlbGYiLCJ0aGlzIiwiYm9keSIsIiQiLCJkb2N1bWVudCIsImRvYyIsImRvY1dpbmRvdyIsIndpbmRvdyIsImJvZHlQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0b2tlbjM2MCIsInRva2VuNjY3IiwidG9rZW43NjgiLCJ0b2tlbjEwMjQiLCJndEhlYWRlciIsImd0Rm9vdGVyIiwiZ3RXcmFwcGVyIiwidXBCdXR0b24iLCJtb2JpbGVNZW51U3dpdGNoIiwiZW50ZXJCdXR0b24iLCJlbnRlcldyYXBwZXIiLCJlbnRlckZvcm0iLCJlbnRlckNob3NlIiwiZW50ZXJDbG9zZSIsIm5pY2VTY3JvbGwiLCJjdXJzb3Jib3JkZXIiLCJtb3VzZXNjcm9sbHN0ZXAiLCJib3VuY2VzY3JvbGwiLCJjdXJzb3Jjb2xvciIsImZpeEJvZHkiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJjc3MiLCJwb3NpdGlvbiIsInVuZml4Qm9keSIsImZvb3RlckhlaWdodCIsIm91dGVySGVpZ2h0IiwiaGVpZ2h0IiwiZGVza1RvcE1lbnVTY3JvbGwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaXMiLCJtb2JpbGVNZW51Q2xvc2UiLCJtb2JpbGVNZW51T3BlbiIsIm9uIiwiaGFzQ2xhc3MiLCJvcGVuRW50ZXJGb3JtIiwic2V0VGltZW91dCIsImNsb3NlRW50ZXJGb3JtIiwiY2xvc2VSZXN0b3JlUGFzcyIsImNoYW5nZUVudGVyUmVnaXN0cmF0aW9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJhdHRyIiwib3BlblJlc3RvcmVQYXNzIiwiZWFjaCIsImltZ0hvbGRlckZ1bmMiLCJlbCIsImhvbGRlckNvbnN0Iiwib3V0ZXJXaWR0aCIsImltZyIsImZpbmQiLCJsYXp5IiwicGxhY2Vob2xkZXIiLCJzY3JvbGxEaXJlY3Rpb24iLCJlZmZlY3QiLCJ2aXNpYmxlT25seSIsIm9uRXJyb3IiLCJlbGVtZW50IiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJzZXRCZyIsImJnIiwiY3VyclRva2VuIiwibmV3VG9rZW4iLCJyZXNpemVUaW1lciIsInJlc2l6ZSIsImNsZWFyVGltZW91dCIsImNyZWF0ZVNsaWRlciIsImN1cnJTbGlkZXIiLCJjcmVhdGVBcnJvd3MiLCJpbm5lckNvdW50Iiwic2NyZWVuQ29uc3QiLCJudW1Jbm5lciIsIm51bVBhbmVsIiwiaHRtbCIsIm9uZU1vdmVGdW5jdGlvbiIsInNob3dOdW0iLCJhcnJvd3NSZWFkeSIsImRlc3Ryb3lBcnJvd3MiLCJjbG9uZSIsIm9mZiIsImJ1bCIsIm51bSIsImRlbGV0ZWQiLCJjdXJyUG9zaXRpb24iLCJmYWRlIiwiZmFkZVNsaWRlck1vdmUiLCJ0cmFtIiwiY29udGFpbmVyIiwiY2hpbGRyZW4iLCJmaXJzdCIsImRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyIsImNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzIiwiYmFzZVdpZHRoIiwiYXBwZW5kIiwicmVtb3ZlIiwibGFzdCIsInByZXBlbmQiLCJ0cmFtU2xpZGVyTW92ZSIsImRvdHMiLCJhbGxEb3RzIiwiYW5pbWF0ZSIsInRyYW1BbmltYXRpb24iLCJlcSIsImluZGV4IiwiaW5uZXIiLCJ0ZXh0IiwiY3JlYXRlVG91Y2giLCJpbml0aWFsUG9pbnQiLCJmaW5hbFBvaW50IiwiZSIsIm9yaWdpbmFsRXZlbnQiLCJNYXRoIiwiYWJzIiwidG91Y2hlcyIsInBhZ2VYIiwiY2hhbmdlZFRvdWNoZXMiLCJkZXN0cm95VG91Y2giLCJmaW5kU2NyZWVuQ29uc3QiLCJwYXJzZUludCIsInNldEJhc2VXaWR0aCIsInNsaWRlclRpbWVPdXQiLCJsZW5ndGgiLCJhcnJvdyIsImhhc0Nsb25lIiwibmF2Iiwic3BhbnMiLCJpIiwiY3JlYXRlRG90cyIsImNsaWNrUG9zaXRpb24iLCJib2R5V3JhcHBlciIsInNob3ciLCJjbG9uZVNsaWRlciIsImhpZGUiLCJkZXN0cm95Q2xvbmVTbGlkZXIiLCJjcmVhdGVDbG9uZVNsaWRlciIsInBhcmVudCIsIm51bWJlckNvbGxlY3Rpb25BcnRpY2xlIiwiYWZ0ZXIiLCJtYW5hZ2VHdEFjdGl2ZVVsTWVudSIsInRhZ05hbWUiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiLCJzZXRQbGF5ZXJzIiwidGFnIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJzcmMiLCJsYXN0U2NyaXB0VGFnIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImN1cnJlbnRQbGF5ZXIiLCJhZGRZb3VUdWJlIiwiaW5pdGlhbGl6ZSIsInBsYXllciIsIm11dGUiLCJwbGF5VmlkZW8iLCJwbGF5RnVsbFNjcmVlbiIsInBhdXNlVmlkZW8iLCJpZnJhbWUiLCJyZXF1ZXN0RnVsbFNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4iLCJiaW5kIiwiZWxJZCIsIllUIiwiUGxheWVyIiwid2lkdGgiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsInBsYXlsaXN0IiwiY29sb3IiLCJsb29wIiwiYXV0b3BsYXkiLCJldmVudHMiLCJvblJlYWR5IiwiZml4QXJ0aWNsZVNjcm9sbFRhYmxlUG9zaXRpb24iLCJjdXJyVGFibGUiLCJ0YWJsZSIsInRhYmxlUGFyZW50IiwidGFibGVIZWlnaHQiLCJ0YWJsZVBhcmVudFRvcCIsInRhYmxlUGFyZW50Qm90dG9tIiwidGFibGVXaWR0aCIsIndpbmRvd1RvcCIsImNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSIsImFydGljbGVzIiwic2Nyb2xsVG9BcnRpY2xlIiwic2hvd0FydGlkbGVTaGFkb3ciLCJlbEhlaWdodCIsIndpbmRvd1Bvc2l0aW9uIiwieCIsImN1cnJTaGFkb3ciLCJzY3JvbGxUaHJvdHRsZXIiLCJzY3JvbGwiLCJzY3JvbGxUaW1lb3V0Iiwic2hhZG93IiwiY2hlY2tUYWJsZUhlaWdodCIsInJpZ2h0Iiwic2V0Q3VyclRpbWUiLCJjdXJyVGltZSIsInNldEludGVydmFsIiwiZGF0ZSIsIkRhdGUiLCJzZXRVVENIb3VycyIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsIndlZWtkYXkiLCJnZXREYXkiLCJkYXkiLCJnZXREYXRlIiwibW9udGgiLCJnZXRNb250aCIsInllYXIiLCJnZXRGdWxsWWVhciIsImN1cnNvcm9wYWNpdHltaW4iLCJjdXJzb3JvcGFjaXR5bWF4IiwiY3Vyc29yd2lkdGgiLCJiYWNrZ3JvdW5kIiwicmFpbG9mZnNldCIsInppbmRleCIsInRhYlNsaWRlciIsImN1cnJUYWJzIiwidGFiU2xpZGVyQWN0aW9uIiwiaW5pdCIsImJ1dHRvbnMiLCJtYWluIiwiY29sdW1uUGFydG5lcnNoaXAiLCJyb3dQYXJ0bmVyc2hpcCIsImNyZWF0ZVNlbGVjdFdyYXBwZXIiLCJjdXJyU2VsZWN0Iiwic2VsZWN0T3B0aW9uIiwic2VsZWN0T3B0aW9uTGVuZ3RoIiwic2VsZWN0ZWRPcHRpb24iLCJmaWx0ZXIiLCJ1bmRlZmluZWQiLCJ3cmFwIiwiY2xhc3MiLCJpbnNlcnRBZnRlciIsInNlbGVjdEdhcCIsIm5leHQiLCJzZWxlY3RMaXN0IiwidmFsIiwiYXBwZW5kVG8iLCJzZWxlY3RJdGVtIiwic2xpZGVVcCIsInNsaWRlRG93biIsImNob29zZUl0ZW0iLCJpbml0VG9wQ2FyZHMiLCJ0b3BCbG9jayIsImNhcmRzIiwiY2xvc2VTaGFyZVZpZXdDYXJkIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xpY2tWaXNpdFZpZXdDYXJkIiwiY2xpY2tTZWVuVmlld0NhcmQiLCJjbGlja01hcmtWaWV3Q2FyZCIsImV2ZW50ZyIsImNsaWNrU2hhcmVWaWV3Q2FyZCIsInZpZXdDYXJkU29jaWFsIiwib3BlblNoYXJlVmlld0NhcmQiLCJidXR0b24iLCJzb2NpYWxFbnRlciIsInNvY2lhbFJlZ2lzdHJhdGlvbiIsInRva2VuIiwiYWxlcnQiLCJjdXROZXdzIiwiY3VyckhlaWdodCIsImN1dHRpbmdMZW5naHQiLCJuZXdUZXh0IiwibWF4SGVpZ2h0IiwiY3V0dGluZ0VsIiwiZmxvb3IiLCJzdWJzdHJpbmciLCJjdXRSZWFkTW9yZVNsaWRlciIsImN1dHRpbmciLCJuZXdzVGV4dCIsInNsaWNlIiwicmVhZHkiLCJwYWdlVXAiLCJ1cFBhZ2VCdXR0b24iLCJzZWFyY2hCbG9jayIsInNlYXJjaEJsb2NrSW5wdXQiLCJvcGVuU2VhcmNoQmxvY2siLCJjbG9zZVNlYXJjaEJsb2NrIiwic2hvd0Nyb3NzSW5TZWFyY2hCbG9jayIsImNsZWFyU2VhcmNoQmxvY2tJbnB1dCIsInRyaW0iXSwibWFwcGluZ3MiOiJBQUtBQSxTQUFXLFdBRVAsSUFBSUMsRUFBT0MsS0FDUEMsRUFBT0MsRUFBRUMsU0FBU0YsTUFDbEJHLEVBQU1GLEVBQUVDLFVBQ1JFLEVBQVlILEVBQUVJLFFBQ2RDLEdBQ0lDLEtBQUssRUFDTEMsTUFBTSxHQUVWQyxFQUFXUixFQUFFLGNBRWJTLEdBRFdULEVBQUUsY0FDRkEsRUFBRSxlQUNiVSxFQUFXVixFQUFFLGNBQ2JXLEVBQVlYLEVBQUUsZUFFZFksR0FEWVosRUFBRSxlQUNIQSxFQUFFLFdBQ2JhLEVBQVdiLEVBQUUsVUFDYmMsRUFBWWQsRUFBRSxlQUNkZSxFQUFXZixFQUFFLFVBQ2JnQixFQUFtQmhCLEVBQUUsMEJBQ3JCaUIsRUFBY2pCLEVBQUUsYUFDaEJrQixFQUFlbEIsRUFBRSw0QkFDakJtQixFQUFZbkIsRUFBRSxvQkFDZG9CLEVBQWFwQixFQUFFLDBCQUNmcUIsRUFBYXJCLEVBQUUsMEJBQ25CQSxFQUFFLFFBQVFzQixZQUNOQyxhQUFjLG9CQUNkQyxnQkFBaUIsS0FDakJDLGNBQWMsRUFDZEMsWUFBYSxZQUlqQjVCLEtBQUs2QixRQUFVLFdBQ1B0QixFQUFhQyxLQUFPRCxFQUFhRSxPQUNyQ0YsRUFBYUMsSUFBTUosRUFBSTBCLFlBQ3ZCdkIsRUFBYUUsS0FBT1IsRUFBSzhCLFNBQVN0QixLQUNsQ1IsRUFBSytCLEtBQ0RDLFNBQVUsUUFDVnhCLEtBQU1GLEVBQWFFLEtBQU8sS0FDMUJELEtBQU0sRUFBSUQsRUFBYUMsSUFBTSxTQUlyQ1IsS0FBS2tDLFVBQVksV0FDYmpDLEVBQUsrQixLQUNEQyxTQUFVLEdBQ1Z4QixLQUFNLEdBQ05ELElB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LGFBS3pDeEMsS0FBSzJTLHNCQUF3QixXQUN6QkosRUFBaUJ2QyxJQUFJLElBQ3JCM0wsUUFBUUMsSUFBSWlPLEVBQWlCdkMsT0FDekJ1QyxFQUFpQjFQLFNBQVMsYUFDMUIwUCxFQUFpQi9QLFlBQVksY0FXekN0QyxFQUFFQyxVQUFVZ1MsTUFFUixXQUNtQixJQUFJclMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/RhNGD0L3QutGG0LjRjywg0L7Qv9GA0LXQtNC10LvRj9GO0YnQsNGPINC30LDRgNC10LPQuNGB0YLQstC40YDQvtCy0LDQvdC90YvQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LjQu9C4INC90LXRglxyXG5cclxuLy8g0L/RgNC10LTRg9GB0LzQvtGC0YDQtdGC0Ywg0LLRi9GF0L7QtCDQuNC3INCw0LrQutCw0YPQvdGC0LBcclxuXHJcblxyXG5Hb1RvVHJpcCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgYm9keSA9ICQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgZG9jID0gJChkb2N1bWVudCksXHJcbiAgICAgICAgZG9jV2luZG93ID0gJCh3aW5kb3cpLFxyXG4gICAgICAgIGJvZHlQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgdG9wOiBmYWxzZSxcclxuICAgICAgICAgICAgbGVmdDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRva2VuMzYwID0gJChcIiNndC1pcy0zNjBcIiksXHJcbiAgICAgICAgdG9rZW40ODAgPSAkKFwiI2d0LWlzLTQ4MFwiKSxcclxuICAgICAgICB0b2tlbjY2NyA9ICQoXCIjZ3QtaXMtNjY3XCIpLFxyXG4gICAgICAgIHRva2VuNzY4ID0gJChcIiNndC1pcy03NjhcIiksXHJcbiAgICAgICAgdG9rZW4xMDI0ID0gJChcIiNndC1pcy0xMDI0XCIpLFxyXG4gICAgICAgIHRva2VuMTIzMSA9ICQoXCIjZ3QtaXMtMTIzMVwiKSxcclxuICAgICAgICBndEhlYWRlciA9ICQoXCJoZWFkZXJcIiksXHJcbiAgICAgICAgZ3RGb290ZXIgPSAkKFwiZm9vdGVyXCIpLFxyXG4gICAgICAgIGd0V3JhcHBlciA9ICQoXCIjZ3Qtd3JhcHBlclwiKSxcclxuICAgICAgICB1cEJ1dHRvbiA9ICQoXCIjZ3QtdXBcIiksXHJcbiAgICAgICAgbW9iaWxlTWVudVN3aXRjaCA9ICQoXCIjZ3QtbW9iaWxlLW1lbnUtc3dpdGNoXCIpLFxyXG4gICAgICAgIGVudGVyQnV0dG9uID0gJCgnLmd0LWVudGVyJyksXHJcbiAgICAgICAgZW50ZXJXcmFwcGVyID0gJCgnI2d0LWhlYWRlci1lbnRlci13cmFwcGVyJyksXHJcbiAgICAgICAgZW50ZXJGb3JtID0gJCgnI2d0LWhlYWRlci1lbnRlcicpLFxyXG4gICAgICAgIGVudGVyQ2hvc2UgPSAkKCcjZ3QtaGVhZGVyLWVudGVyLWNob3NlJyksXHJcbiAgICAgICAgZW50ZXJDbG9zZSA9ICQoJyNndC1oZWFkZXItZW50ZXItY2xvc2UnKTtcclxuICAgICQoXCJodG1sXCIpLm5pY2VTY3JvbGwoe1xyXG4gICAgICAgIGN1cnNvcmJvcmRlcjogJzFweCBzb2xpZCAjNmQ2ZDZkJyxcclxuICAgICAgICBtb3VzZXNjcm9sbHN0ZXA6ICc2MCcsXHJcbiAgICAgICAgYm91bmNlc2Nyb2xsOiB0cnVlLFxyXG4gICAgICAgIGN1cnNvcmNvbG9yOiAnIzZkNmQ2ZCdcclxuICAgIH0pXHJcblxyXG5cclxuICAgIHRoaXMuZml4Qm9keSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoYm9keVBvc2l0aW9uLnRvcCB8fCBib2R5UG9zaXRpb24ubGVmdCkgcmV0dXJuO1xyXG4gICAgICAgIGJvZHlQb3NpdGlvbi50b3AgPSBkb2Muc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLmxlZnQgPSBib2R5Lm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgYm9keS5jc3Moe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxyXG4gICAgICAgICAgICBsZWZ0OiBib2R5UG9zaXRpb24ubGVmdCArIFwicHhcIixcclxuICAgICAgICAgICAgdG9wOiAtMSAqIGJvZHlQb3NpdGlvbi50b3AgKyBcInB4XCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudW5maXhCb2R5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGJvZHkuY3NzKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFwiXCIsXHJcbiAgICAgICAgICAgIGxlZnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIHRvcDogXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvYy5zY3JvbGxUb3AoYm9keVBvc2l0aW9uLnRvcCk7XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLnRvcCA9IGZhbHNlO1xyXG4gICAgICAgIGJvZHlQb3NpdGlvbi5sZWZ0ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9vdGVySGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmb290ZXJIZWlnaHQgPSBndEZvb3Rlci5vdXRlckhlaWdodCgpO1xyXG4gICAgICAgIGlmIChmb290ZXJIZWlnaHQgPiBkb2NXaW5kb3cuaGVpZ2h0KCkgLSA1MCkge1xyXG4gICAgICAgICAgICBndEZvb3Rlci5jc3MoXCJwb3NpdGlvblwiLCBcInN0YXRpY1wiKTtcclxuICAgICAgICAgICAgZ3RXcmFwcGVyLmNzcyhcIm1hcmdpbi1ib3R0b21cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmNzcyhcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGd0Rm9vdGVyLmNzcyhcInBvc2l0aW9uXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5jc3MoXCJwb3NpdGlvblwiLCBcIlwiKTtcclxuICAgICAgICAgICAgZ3RXcmFwcGVyLmNzcyhcIm1hcmdpbi1ib3R0b21cIiwgZ3RGb290ZXIub3V0ZXJIZWlnaHQoKSArIFwicHhcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuZGVza1RvcE1lbnVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGRvY1dpbmRvdy5zY3JvbGxUb3AoKSA+IGd0SGVhZGVyLm91dGVySGVpZ2h0KCkpIHtcclxuICAgICAgICAgICAgZ3RIZWFkZXIuYWRkQ2xhc3MoXCJndC1oZWFkZXItc2Nyb2xsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ3RIZWFkZXIucmVtb3ZlQ2xhc3MoXCJndC1oZWFkZXItc2Nyb2xsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtdG9wLXBsYW5lXCIpKSB7XHJcbiAgICAgICAgJCgnLmd0LWhlYWRlcicpLmFkZENsYXNzKCdndC1oZWFkZXItcGxhbmUtdG9wJylcclxuICAgIH07XHJcblxyXG4gICAgXHJcbiAgICB0aGlzLm1vYmlsZU1lbnVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnVuZml4Qm9keSgpO1xyXG4gICAgICAgIG1vYmlsZU1lbnVTd2l0Y2gucmVtb3ZlQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgIGd0SGVhZGVyLnJlbW92ZUNsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMubW9iaWxlTWVudU9wZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5maXhCb2R5KCk7XHJcbiAgICAgICAgZ3RIZWFkZXIuYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgIG1vYmlsZU1lbnVTd2l0Y2guYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIG1vYmlsZU1lbnVTd2l0Y2gub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJndC1vcGVuXCIpKSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9iaWxlTWVudUNsb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5tb2JpbGVNZW51T3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vcGVuRW50ZXJGb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVudGVyV3JhcHBlci5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoc2hvdyk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcclxuICAgICAgICAgICAgJCgnI2d0LWhlYWRlci1yZWdpc3RlcmVkJykuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAgICAgZW50ZXJGb3JtLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGVudGVyQ2xvc2UuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNsb3NlRW50ZXJGb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVudGVyQ2xvc2UucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBlbnRlckZvcm0ucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAkKCcjZ3QtaGVhZGVyLXJlZ2lzdGVyZWQnKS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIHNlbGYuY2xvc2VSZXN0b3JlUGFzcygpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoaGlkZSwgNzUwKTtcclxuICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xyXG4gICAgICAgICAgICBlbnRlcldyYXBwZXIucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNoYW5nZUVudGVyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGVudGVyRm9ybS5oYXNDbGFzcygkKGV2ZW50LnRhcmdldCkuYXR0cihcImNsYXNzXCIpKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGVudGVyRm9ybS5yZW1vdmVDbGFzcyhcImd0LWNob3Nlbi1lbnRlclwiKS5yZW1vdmVDbGFzcyhcImd0LWNob3Nlbi1yZWdpc3RyYXRpb25cIikuYWRkQ2xhc3MoJChldmVudC50YXJnZXQpLmF0dHIoXCJjbGFzc1wiKSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMub3BlblJlc3RvcmVQYXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJyNndC1lbnRlci1wYXNzLXJlc3RvcmUtd3JhcHBlcicpLmFkZENsYXNzKCdndC1vcGVuJylcclxuICAgIFxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xvc2VSZXN0b3JlUGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcjZ3QtZW50ZXItcGFzcy1yZXN0b3JlLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGVudGVyQnV0dG9uLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykub24oJ2NsaWNrJywgc2VsZi5vcGVuRW50ZXJGb3JtKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGVudGVyQ2xvc2Uub24oJ2NsaWNrJywgc2VsZi5jbG9zZUVudGVyRm9ybSk7XHJcbiAgICBcclxuICAgIGVudGVyQ2hvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgc2VsZi5jaGFuZ2VFbnRlclJlZ2lzdHJhdGlvbihldmVudCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tcmVzdG9yZS1wYXNzJykub24oJ2NsaWNrJyxzZWxmLm9wZW5SZXN0b3JlUGFzcyk7XHJcbiAgICAkKCcjZ3QtZW50ZXItcGFzcy1yZXN0b3JlLXN1Ym1pdCcpLm9uKCdjbGljaycsc2VsZi5jbG9zZVJlc3RvcmVQYXNzKTtcclxuXHJcbiAgICB0aGlzLmltZ0hvbGRlckZ1bmMgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5yZW1vdmVDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3QtaGVpZ2h0XCIpO1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB2YXIgaG9sZGVyQ29uc3QgPSBlbC5vdXRlckhlaWdodCgpIC8gZWwub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICBpbWcgPSBlbC5maW5kKCdpbWcnKSxcclxuICAgICAgICAgICAgaW1nQ29uc3QgPSBpbWcub3V0ZXJIZWlnaHQoKSAvIGltZy5vdXRlcldpZHRoKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoaW1nQ29uc3QgPiBob2xkZXJDb25zdCkge1xyXG4gICAgICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJndC1oZWlnaHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGltZy5sYXp5KHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRUFMQVBRQVB6bDV1THI5TnJsOGU3Li4uXCIsXHJcbiAgICAgICAgICAgIHNjcm9sbERpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgICAgICAgZWZmZWN0OiAnZmFkZUluJyxcclxuICAgICAgICAgICAgdmlzaWJsZU9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgbG9hZGluZyAnICsgZWxlbWVudC5kYXRhKCdzcmMnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5zZXRCZyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBiZyxcclxuICAgICAgICAgICAgY3VyclRva2VuLFxyXG4gICAgICAgICAgICBuZXdUb2tlbixcclxuICAgICAgICAgICAgcmVzaXplVGltZXI7XHJcbiAgICAgICAgc2V0QmcoKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHNldEJnKCkge1xyXG4gICAgICAgICAgICBpZiAodG9rZW42NjcuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgYmcgPSBlbC5hdHRyKFwiZGF0YS1zcmMtcGhvbmVcIik7XHJcbiAgICAgICAgICAgICAgICBjdXJyVG9rZW4gPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuMTAyNC5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBiZyA9IGVsLmF0dHIoXCJkYXRhLXNyYy10YWJsZXRcIik7XHJcbiAgICAgICAgICAgICAgICBjdXJyVG9rZW4gPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmcgPSBlbC5hdHRyKFwiZGF0YS1zcmMtZGVzY3RvcFwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJUb2tlbiA9IDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWwuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcInVybCgnLi9pbWcvYmdzL1wiICsgYmcgKyBcIidcIik7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XHJcbiAgICAgICAgICAgIHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbjY2Ny5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW4gPSAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbjEwMjQuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Rva2VuID0gMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW4gPSAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5ld1Rva2VuID4gY3VyclRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0QmcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMjUwKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8gdG9kbyByZXNpemUgVGltZU91dDtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJCgnZGl2JykuaXMoJy5ndC1iZ3MtaG9sZGVyJykpIHtcclxuICAgIFxyXG4gICAgICAgICQoJy5ndC1iZ3MtaG9sZGVyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0QmcoJCh0aGlzKSk7XHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgfVxyXG4gICAgc2VsZi5zZXRCZygkKCcjZ3QtZm9vdGVyJykpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlU2xpZGVyID0gZnVuY3Rpb24gKGN1cnJTbGlkZXIsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlclRpbWVPdXQsXHJcbiAgICAgICAgICAgIHNjcmVlbkNvbnN0ID0gMSxcclxuICAgICAgICAgICAgYmFzZVdpZHRoLFxyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpbm5lciA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItaW5uZXJcIiksXHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItY29udGFpbmVyXCIpLFxyXG4gICAgICAgICAgICBpbm5lckNvdW50ID0gaW5uZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBwb3NpdGlvbiB8fCAwLFxyXG4gICAgICAgICAgICBhcnJvdyA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItaGFzLWFycm93XCIpLFxyXG4gICAgICAgICAgICBkb3RzID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtZG90c1wiKSxcclxuICAgICAgICAgICAgbnVtUGFuZWwgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLW51bVwiKSxcclxuICAgICAgICAgICAgdHJhbSA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItdHJhbVwiKSxcclxuICAgICAgICAgICAgdHJhbUFuaW1hdGlvbiA9ICtjdXJyU2xpZGVyLmF0dHIoJ2RhdGEtZHVyYXRpb24nKSB8fCAzMDAsXHJcbiAgICAgICAgICAgIGZhZGUgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWZhZGVcIiksXHJcbiAgICAgICAgICAgIGhhc0Nsb25lID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtY2xvbmVcIik7XHJcbiAgICAgICAgaWYgKGZhZGUpIHtcclxuICAgICAgICAgICAgZmFkZVNsaWRlck1vdmUocG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHJhbSkge1xyXG4gICAgICAgICAgICBmaW5kU2NyZWVuQ29uc3QoKTtcclxuICAgICAgICAgICAgc2V0QmFzZVdpZHRoKCk7XHJcbiAgICAgICAgICAgIHRyYW1TbGlkZXJNb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcnJvdykge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmFwcGVuZCgnPGRpdiBjbGFzcz1cImd0LXNsaWRlci1hcnJvdy1ob2xkZXJcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgY3JlYXRlQXJyb3dzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkb3RzKSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZURvdHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlubmVyQ291bnQgPiBzY3JlZW5Db25zdCkge1xyXG4gICAgICAgICAgICBjcmVhdGVUb3VjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGFzQ2xvbmUpIHtcclxuICAgICAgICAgICAgY3JlYXRlQ2xvbmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDbG9uZUxpc3RlbmVycygpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLWlubmVyLWNvdmVyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDbG9uZVNsaWRlcigkKHRoaXMpLnBhcmVudCgpLmluZGV4KCkpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFycm93cygpIHtcclxuICAgICAgICAgICAgaWYgKGlubmVyQ291bnQgPiBzY3JlZW5Db25zdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG51bUlubmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtUGFuZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBudW1Jbm5lciA9ICc8ZGl2IGNsYXNzPVwiZ3Qtc2xpZGVyLWFycm93LW51bVwiPjxpIGNsYXNzPVwiZ3Qtc2xpZGVyLW51bS1jdXJyXCI+PC9pPjxpPtC40Lc8L2k+PGkgY2xhc3M9XCJndC1zbGlkZXItbnVtLW1heFwiPjwvaT48L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiKS5odG1sKFxyXG4gICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWFycm93IGxlZnRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvc3Bhbj5cIiArIG51bUlubmVyICtcclxuICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3MgPSBcImd0LXNsaWRlci1hcnJvdyByaWdodFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQXJyb3dzTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICBzaG93TnVtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXJyb3dzUmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lBcnJvd3MoY2xvbmUpIHtcclxuICAgICAgICAgICAgdmFyIGVsID0gY2xvbmUgfHwgY3VyclNsaWRlcjtcclxuICAgICAgICAgICAgZWwuZmluZChcIi5sZWZ0XCIpLm9mZigpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLnJpZ2h0XCIpLm9mZigpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXNsaWRlci1hcnJvdy1ob2xkZXJcIikuaHRtbChcIlwiKTtcclxuICAgICAgICAgICAgYXJyb3dzUmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVBcnJvd3NMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5sZWZ0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5yaWdodFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChudW1QYW5lbCkgc2hvd051bSgpXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRG90cygpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5hcHBlbmQoJzxkaXYgY2xhc3M9XCJndC1zbGlkZXItbmF2XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHZhciBuYXYgPSBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLW5hdlwiKSxcclxuICAgICAgICAgICAgICAgIHNwYW5zID0gXCJcIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbm5lckNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNwYW5zICs9IFwiPHNwYW4gZGF0YS1udW0gPSBcIiArIGkgKyBcIj48L3NwYW4+XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmF2Lmh0bWwoc3BhbnMpO1xyXG4gICAgICAgICAgICBuYXYuZmluZChcInNwYW5cIikuZmlyc3QoKS5hZGRDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1uYXYgc3BhblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlLCArJCh0aGlzKS5hdHRyKFwiZGF0YS1udW1cIikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBvbmVNb3ZlRnVuY3Rpb24oYnVsLCBudW0pIHtcclxuICAgICAgICAgICAgdmFyIGNsb25lLGRlbGV0ZWQ7XHJcbiAgICAgICAgICAgIGlmIChudW0gfHwgbnVtID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBudW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBlbHNlIGlmIChidWwpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChmYWRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3Q7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZhZGVTbGlkZXJNb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodHJhbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA+IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lID0gIGNvbnRhaW5lci5jaGlsZHJlbigpLmZpcnN0KCkuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkID0gY29udGFpbmVyLmNoaWxkcmVuKCkuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJyU2xpZGVyLmhhc0NsYXNzKCdndC12aWV3LWNhcmRzLXNsaWRlcicpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kZXN0cm95Vmlld0NhcmRMaXN0ZW5lcnMoZGVsZXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlVmlld0NhcmRMaXN0ZW5lcnMoY2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuY3NzKCdsZWZ0JywgKC0oY3VyclBvc2l0aW9uIC0gMikgKiBiYXNlV2lkdGgpICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlZC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24tLTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IGNvbnRhaW5lci5jaGlsZHJlbigpLmxhc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkID0gY29udGFpbmVyLmNoaWxkcmVuKCkubGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnJTbGlkZXIuaGFzQ2xhc3MoJ2d0LXZpZXctY2FyZHMtc2xpZGVyJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyhkZWxldGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoJ2xlZnQnLCAoLShjdXJyUG9zaXRpb24gKyAyKSAqIGJhc2VXaWR0aCkgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucHJlcGVuZChjbG9uZS5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW1TbGlkZXJNb3ZlKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKG51bVBhbmVsKSBzaG93TnVtKCk7XHJcbiAgICAgICAgICAgIGlmIChkb3RzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWxsRG90cyA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItbmF2IHNwYW5cIik7XHJcbiAgICAgICAgICAgICAgICBhbGxEb3RzLnJlbW92ZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgJChhbGxEb3RzW2NvbnRhaW5lci5maW5kKCcuZ3Qtb3BlbicpLmF0dHIoJ2RhdGEtY291bnQnKV0pLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHRyYW1TbGlkZXJNb3ZlKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYW5pbWF0ZSh7bGVmdDogLWN1cnJQb3NpdGlvbiAqIGJhc2VXaWR0aH0sIHRyYW1BbmltYXRpb24pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4oKS5lcShjdXJyUG9zaXRpb24pLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBmYWRlU2xpZGVyTW92ZShwb3NpdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwb3NpdGlvbiB8fCBjdXJyUG9zaXRpb247XHJcbiAgICAgICAgICAgICQoaW5uZXIpLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgICQoaW5uZXJbaW5kZXhdKS5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dOdW0oKSB7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZCgnLmd0LXNsaWRlci1udW0tY3VycicpLnRleHQoKyhjb250YWluZXIuZmluZCgnLmd0LW9wZW4nKS5hdHRyKCdkYXRhLWNvdW50JykpICsgMSk7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZCgnLmd0LXNsaWRlci1udW0tbWF4JykudGV4dChpbm5lckNvdW50KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb3VjaCgpIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxQb2ludCA9IDAsXHJcbiAgICAgICAgICAgICAgICBmaW5hbFBvaW50ID0gMDtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5vbihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsUG9pbnQgPSBNYXRoLmFicyhlLnRvdWNoZXNbMF0ucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0b3VjaHN0YXJ0XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5vbihcInRvdWNoZW5kXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICAgICAgICAgICAgZmluYWxQb2ludCA9IE1hdGguYWJzKGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGluaXRpYWxQb2ludCAtIGZpbmFsUG9pbnQpID4gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFBvaW50ID4gZmluYWxQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lUb3VjaChjbG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBjbG9uZSB8fCBjdXJyU2xpZGVyO1xyXG4gICAgICAgICAgICBlbC5vZmYoKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBmaW5kU2NyZWVuQ29uc3QoKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyU2xpZGVyLmF0dHIoXCJkYXRhLWNvdW50XCIpKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JlZW5Db25zdCA9IHBhcnNlSW50KGN1cnJTbGlkZXIuYXR0cihcImRhdGEtY291bnRcIikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodG9rZW43NjgpLmlzKFwiOnZpc2libGVcIikpIHNjcmVlbkNvbnN0ID0gMztcclxuICAgICAgICAgICAgICAgIGlmICgkKHRva2VuNjY3KS5pcyhcIjp2aXNpYmxlXCIpKSBzY3JlZW5Db25zdCA9IDI7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0b2tlbjM2MCkuaXMoXCI6dmlzaWJsZVwiKSkgc2NyZWVuQ29uc3QgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QmFzZVdpZHRoKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2V0QmFzZVdpZHRoJylcclxuICAgICAgICAgICAgYmFzZVdpZHRoID0gY3VyclNsaWRlci5vdXRlcldpZHRoKCkgLyBzY3JlZW5Db25zdDtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1jb250YWluZXJcIikub3V0ZXJXaWR0aCgoaW5uZXJDb3VudCArIDEpICogYmFzZVdpZHRoKTtcclxuICAgICAgICAgICAgaW5uZXIuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm91dGVyV2lkdGgoYmFzZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jb3VudCcsICQodGhpcykuaW5kZXgoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lU2xpZGVyKGNsaWNrUG9zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKCQoXCJkaXZcIikuaXMoXCIjZ3QtY2xvbmVcIikpIHJldHVybjtcclxuICAgICAgICAgICAgc2VsZi5maXhCb2R5KCk7XHJcbiAgICAgICAgICAgIHZhciBib2R5V3JhcHBlciA9ICQoXCIjZ3QtYm9keS13cmFwcGVyXCIpO1xyXG4gICAgICAgICAgICBib2R5V3JhcHBlci5hcHBlbmQoJzxkaXYgaWQgPSBcImd0LWNsb25lLXdyYXBwZXJcIiAgIGNsYXNzPVwiY29udGFpbmVyXCI+PGRpdiBpZCA9IFwiZ3QtY2xvbmVcIiBjbGFzcz1cImd0LXNsaWRlciBndC1zbGlkZXItY2xvbmUgZ3Qtc2xpZGVyLWZhZGUgZ3Qtc2xpZGVyLW51bSAgZ3Qtc2xpZGVyLWhhcy1hcnJvd1wiPjxkaXYgaWQgPSBcImd0LWNsb25lLWNsb3NlXCIgY2xhc3MgPSBcImd0LXNsaWRlci1jbG9uZS1jbG9zZVwiPjwvZGl2PjxkaXYgIGlkID0gXCJndC1jbG9uZS1jb250YWluZXJcIiBjbGFzcz1cImd0LXNsaWRlci1jb250YWluZXJcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgYm9keVdyYXBwZXIuc2hvdygpO1xyXG4gICAgICAgICAgICB2YXIgY2xvbmVTbGlkZXIgPSAkKCcjZ3QtY2xvbmUnKSxcclxuICAgICAgICAgICAgICAgIGlubmVycyA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItaW5uZXJcIikuY2xvbmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIGlubmVycy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub3V0ZXJXaWR0aCgnJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZ3QtY2xvbmUtY29udGFpbmVyJykuYXBwZW5kKCQodGhpcykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2VsZi5jcmVhdGVTbGlkZXIoY2xvbmVTbGlkZXIsIGNsaWNrUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAkKFwiI2d0LWNsb25lLWNsb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUNsb25lU2xpZGVyKGNsb25lU2xpZGVyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveUNsb25lU2xpZGVyKGNsb25lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgIGRlc3Ryb3lBcnJvd3MoY2xvbmVTbGlkZXIpO1xyXG4gICAgICAgICAgICBkZXN0cm95VG91Y2goY2xvbmVTbGlkZXIpO1xyXG4gICAgICAgICAgICAkKFwiI2d0LWNsb25lLWNsb3NlXCIpLm9mZigpO1xyXG4gICAgICAgICAgICAkKFwiI2d0LWNsb25lLXdyYXBwZXJcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtYm9keS13cmFwcGVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgc2VsZi51bmZpeEJvZHkoKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAvLy8vLy8vLy8vcmVzaXplU2xpZGVyXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzaXplU2xpZGVyKCkge1xyXG4gICAgICAgICAgICBpZiAoIXNsaWRlclRpbWVPdXQpIHtcclxuICAgICAgICAgICAgICAgIHNsaWRlclRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXJUaW1lT3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNpemVGdW5jKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZG9jV2luZG93LnJlc2l6ZShyZXNpemVTbGlkZXIpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzaXplRnVuYygpIHtcclxuICAgICAgICAgICAgZGVzdHJveVRvdWNoKCk7XHJcbiAgICAgICAgICAgIGlmICh0cmFtKSB7XHJcbiAgICAgICAgICAgICAgICBmaW5kU2NyZWVuQ29uc3QoKTtcclxuICAgICAgICAgICAgICAgIHNldEJhc2VXaWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgcmVzaXplTW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJyb3dzUmVhZHkpIHtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3lBcnJvd3MoKTtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUFycm93cygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlubmVyQ291bnQgPiBzY3JlZW5Db25zdCkge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlVG91Y2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiByZXNpemVNb3ZlKCkge1xyXG4gICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0KVxyXG4gICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uID0gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0O1xyXG4gICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA8PSBzY3JlZW5Db25zdCkgY3VyclBvc2l0aW9uID0gMDtcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3Qtc2xpZGVyXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1zbGlkZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlU2xpZGVyKCQodGhpcykpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5udW1iZXJDb2xsZWN0aW9uQXJ0aWNsZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoXCIuZ3QtY29sbGVjdGlvbi1saW5rLXdyYXBwZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnLmd0LWNvbGxlY3Rpb24tbGluay1zbGlkZXItd3JhcHBlcicpLmFmdGVyKCc8ZGl2IGNsYXNzID0gXCJndC1jb2xsZWN0aW9uLWxpbmstbnVtYmVyXCI+PHNwYW4+JyArICgkKHRoaXMpLmluZGV4KCkgKyAxKSArICc8L3NwYW4+PC9kaXY+JylcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJCh0aGlzKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtY29sbGVjdGlvbi13cmFwcGVyLW51bVwiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtY29sbGVjdGlvbi13cmFwcGVyLW51bVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5udW1iZXJDb2xsZWN0aW9uQXJ0aWNsZSgkKHRoaXMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMubWFuYWdlR3RBY3RpdmVVbE1lbnUgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZiAoZWwudGFnTmFtZSAhPSBcImxpXCIpXHJcbiAgICAgICAgICAgIGVsID0gJChlbCkuY2xvc2VzdChcImxpXCIpO1xyXG4gICAgXHJcbiAgICAgICAgJChlbCkuY2xvc2VzdCgkKFwidWxcIikpLmZpbmQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vXHJcbiAgICAvLyBpZiAoJChcIipcIikuaXMoXCIuZ3QtaHVuZHJlZC1tZW51XCIpKSB7XHJcbiAgICAvLyAgICAgJChcIi5ndC1odW5kcmVkLW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIC8vICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC1idXR0b24tbWVudVwiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtYnV0dG9uLW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtbWVudS1uZXdzX2l0ZW1zXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1tZW51LW5ld3NfaXRlbXNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0UGxheWVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuICAgICAgICB0YWcudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiAgICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWVyX2FwaVwiO1xyXG4gICAgICAgIHZhciBsYXN0U2NyaXB0VGFnID0gJChcInNjcmlwdFwiKVskKFwic2NyaXB0XCIpLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGxhc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBsYXN0U2NyaXB0VGFnKTtcclxuICAgICAgICB2YXIgZ3RWaWRlb3MgPSAkKFwiLmd0LXZpZGVvXCIpO1xyXG4gICAgICAgIGd0VmlkZW9zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFBsYXllciA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuZmluZChcIi5ndC12aWRlby1zd2l0Y2hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRZb3VUdWJlKGN1cnJlbnRQbGF5ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuYWRkWW91VHViZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBwbGF5ZXIsXHJcbiAgICAgICAgICAgIGVsSWQgPSBcImd0LXZpZGVvLVwiICsgZWwuaW5kZXgoKTtcclxuICAgIFxyXG4gICAgICAgIGVsLmZpbmQoXCIuZ3QtdmlkZW8tc3dpdGNoXCIpLmhpZGUoJ3Nsb3cnKTtcclxuICAgIFxyXG4gICAgICAgIGVsXHJcbiAgICAgICAgICAgIC5maW5kKFwiLmd0LXZpZGVvLWlubmVyXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgZWxJZClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiZ3QtdmlkZW8tZm9yZWdyb3VuZFwiKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKGVsSWQsIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWxpc3Q6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWtiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogaW5pdGlhbGl6ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICAgICAgcGxheWVyLm11dGUoKTtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcyhcImd0LXZpZGVvLW9uXCIpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXVuY292ZXJcIikub24oJ2NsaWNrJywgcGxheUZ1bGxTY3JlZW4pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBhdXNlXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlGdWxsU2NyZWVuKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncGxheUZ1bGxTY3JlZW4nKTtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGVsLmZpbmQoJ2lmcmFtZScpWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdEZ1bGxTY3JlZW4gPSBpZnJhbWUucmVxdWVzdEZ1bGxTY3JlZW4gfHwgaWZyYW1lLm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGlmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbjtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3RGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RnVsbFNjcmVlbi5iaW5kKGlmcmFtZSkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LXZpZGVvXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRQbGF5ZXJzKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uID0gZnVuY3Rpb24gKGN1cnJUYWJsZSkge1xyXG4gICAgICAgIHZhciB0YWJsZSA9Y3VyclRhYmxlLFxyXG4gICAgICAgICAgICB0YWJsZVBhcmVudCA9IHRhYmxlLnBhcmVudCgpLFxyXG4gICAgICAgICAgICB0YWJsZUhlaWdodCA9IHRhYmxlLm91dGVySGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50VG9wID0gdGFibGVQYXJlbnQucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50Qm90dG9tID0gdGFibGVQYXJlbnRUb3AgKyB0YWJsZVBhcmVudC5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICB0YWJsZVdpZHRoID0gdGFibGUub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICB3aW5kb3dUb3AgPSBkb2Muc2Nyb2xsVG9wKCk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgaWYgKHRhYmxlUGFyZW50VG9wICsgOTAgPiB3aW5kb3dUb3ApIHtcclxuICAgICAgICAgICAgaWYgKHRhYmxlLmhhc0NsYXNzKFwiZ3QtZml4ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZUNsYXNzKFwiZ3QtZml4ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKHRhYmxlUGFyZW50VG9wIDwgd2luZG93VG9wICsgOTApIHtcclxuICAgICAgICAgICAgaWYgKCF0YWJsZS5oYXNDbGFzcyhcImd0LWZpeGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRhYmxlLm9mZnNldCgpLmxlZnQgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRhYmxlV2lkdGhcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGFibGUuYWRkQ2xhc3MoXCJndC1maXhlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2luZG93VG9wIC0gdGFibGVQYXJlbnRCb3R0b20gKyB0YWJsZUhlaWdodCArIDkwID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmFkZENsYXNzKFwiZ3QtZml4ZWQtYm90dG9tXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlQ2xhc3MoXCJndC1maXhlZC1ib3R0b21cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISQoXCJkaXZcIikuaXMoXCIuZ3QtYXJ0aWNsZVwiKSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGFydGljbGVzID0gJChcIi5ndC1hcnRpY2xlXCIpLFxyXG4gICAgICAgICAgICB0YWJsZSA9ICQoXCIjZ3QtYXJ0aWNsZS1zY3JvbGwtdGFibGVcIiksXHJcbiAgICAgICAgICAgIGh0bWwgPSBcIlwiO1xyXG4gICAgICAgIGFydGljbGVzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzID0gXCJndC1hcnRpY2xlLXNjcm9sbFwiICAgZGF0YS1ocmVmPSBcIicgKyAkKHRoaXMpLmF0dHIoXCJpZFwiKSArICdcIiA+PGRpdiBjbGFzcyA9IFwiZ3QtYXJ0aWNsZS1zY3JvbGwtc2hhZG93XCI+PC9kaXY+PHA+JyArXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJoMlwiKS50ZXh0KCkgK1xyXG4gICAgICAgICAgICAgICAgXCI8L3A+PC9kaXY+XCI7XHJcbiAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0YWJsZS5odG1sKGh0bWwpO1xyXG4gICAgICAgIHRhYmxlLmZpbmQoJy5ndC1hcnRpY2xlLXNjcm9sbCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2Nyb2xsVG9BcnRpY2xlKCQodGhpcykuYXR0cignZGF0YS1ocmVmJykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnNjcm9sbFRvQXJ0aWNsZSA9IGZ1bmN0aW9uIChhdHRyKSB7XHJcbiAgICAgICAgJCgnaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgnIycgKyBhdHRyKS5vZmZzZXQoKS50b3AgLSAxMTB9LCAxMTAwKTtcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5zaG93QXJ0aWRsZVNoYWRvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiLmd0LWFydGljbGVcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyUG9zaXRpb24gPSAkKHRoaXMpLnBvc2l0aW9uKCkudG9wLFxyXG4gICAgICAgICAgICAgICAgZWxIZWlnaHQgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCksXHJcbiAgICAgICAgICAgICAgICB3aW5kb3dQb3NpdGlvbiA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiB3aW5kb3dQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gKHdpbmRvd1Bvc2l0aW9uIC0gY3VyclBvc2l0aW9uKSAvIGVsSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh4ID4gMSkgeCA9IDE7XHJcbiAgICAgICAgICAgIHZhciBjdXJyU2hhZG93ID0gJChcIi5ndC1hcnRpY2xlLXNjcm9sbFwiKVskKHRoaXMpLmluZGV4KCldO1xyXG4gICAgICAgICAgICAkKGN1cnJTaGFkb3cpXHJcbiAgICAgICAgICAgICAgICAuZmluZChcIi5ndC1hcnRpY2xlLXNjcm9sbC1zaGFkb3dcIilcclxuICAgICAgICAgICAgICAgIC5jc3MoXCJ3aWR0aFwiLCB4ICogMTAwICsgXCIlXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJCgnZGl2JykuaXMoJy5ndC1hcnRpY2xlLXRhYmxlLXdyYXBwZXInKSkge1xyXG4gICAgICAgICQoJy5ndC1hcnRpY2xlLXRhYmxlLXdyYXBwZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJUYWJsZSA9ICQodGhpcyk7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIHNoYWRvdyA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRpbWVvdXQ7XHJcbiAgICAgICAgICAgIGlmICgkKCdkaXYnKS5pcyhcIi5ndC1hcnRpY2xlLXNjcm9sbC10YWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgc2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQXJ0aWN0ZVNjcm9sbFRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dBcnRpZGxlU2hhZG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNjcm9sbFRocm90dGxlcigpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFzY3JvbGwpIHJldHVybjtcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNjcm9sbFRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uKGN1cnJUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2hvd0FydGlkbGVTaGFkb3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBjaGVja1RhYmxlSGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIGRvY1dpbmRvdy5zY3JvbGwoc2Nyb2xsVGhyb3R0bGVyKTtcclxuICAgICAgICAgICAgZG9jV2luZG93LnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja1RhYmxlSGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaHJvdHRsZXIoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1RhYmxlSGVpZ2h0KCkge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclRhYmxlLm91dGVySGVpZ2h0KCkgPiBjdXJyVGFibGUucGFyZW50KCkub3V0ZXJIZWlnaHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJUYWJsZS5jc3Moeydwb3NpdGlvbic6ICdyZWxhdGl2ZScsICdyaWdodCc6ICcxNXB4J30pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJUYWJsZS5jc3Moeydwb3NpdGlvbic6ICcnLCAncmlnaHQnOiAnJ30pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICBcclxuICAgIH1cclxuICAgIHRoaXMuc2V0Q3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jdXJyVGltZSgpO1xyXG4gICAgICAgIHZhciB0ID0gc2V0SW50ZXJ2YWwoc2VsZi5jdXJyVGltZSwgMzAwMDApO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuY3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC1jdXJyLXRpbWVcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImRhdGEtZ210XCIpKSBkYXRlLnNldFVUQ0hvdXJzKCskKHRoaXMpLmF0dHIoXCJkYXRhLWdtdFwiKSk7XHJcbiAgICAgICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSBkYXRlLmdldERheSgpLFxyXG4gICAgICAgICAgICAgICAgZGF5ID0gZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgICAgIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICAgICAgICB3ZWVrZGF5cyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBcItCS0L7RgdC60YDQtdGB0LXQvdGM0LVcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCf0L7QvdC10LTQtdC70YzQvdC40LpcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCS0YLQvtGA0L3QuNC6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQodGA0LXQtNCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQp9C10YLQstC10YDQs1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0J/Rj9GC0L3QuNGG0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCh0YPQsdCx0L7RgtCwXCJcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBtb250aGVzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIFwi0Y/QvdCy0LDRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLRhNC10LLRgNCw0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LzQsNGA0YLQsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQv9GA0LXQu9GPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvNCw0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC40Y7QvdGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQuNGO0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQstCz0YPRgdGC0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItGB0LXQvdGC0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC+0LrRgtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvdC+0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC00LXQutCw0LHRgNGPXCJcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmIChob3VycyA8IDEwKSBob3VycyA9IFwiMFwiICsgaG91cnM7XHJcbiAgICAgICAgICAgIGlmIChtaW51dGVzIDwgMTApIG1pbnV0ZXMgPSBcIjBcIiArIG1pbnV0ZXM7XHJcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3ZWVrZGF5c1t3ZWVrZGF5XTtcclxuICAgICAgICAgICAgbW9udGggPSBtb250aGVzW21vbnRoXTtcclxuICAgICAgICAgICAgaWYgKCQoXCIuZ3QtY3Vyci10aW1lLXRpbWVcIikpXHJcbiAgICAgICAgICAgICAgICAkKFwiLmd0LWN1cnItdGltZS10aW1lXCIpLmh0bWwoaG91cnMgKyBcIjpcIiArIG1pbnV0ZXMpO1xyXG4gICAgICAgICAgICBpZiAoJChcIi5ndC1jdXJyLXRpbWUtZGF0ZVwiKSlcclxuICAgICAgICAgICAgICAgICQoXCIuZ3QtY3Vyci10aW1lLWRhdGVcIikuaHRtbChcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ICsgXCIsIFwiICsgZGF5ICsgXCIgXCIgKyBtb250aCArIFwiIFwiICsgeWVhclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtY3Vyci10aW1lXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRDdXJyVGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWlubmVyLXNjcm9sbFwiKSkge1xyXG4gICAgICAgICQoJy5ndC1pbm5lci1zY3JvbGwnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5uaWNlU2Nyb2xsKHtcclxuICAgICAgICAgICAgICAgIGN1cnNvcm9wYWNpdHltaW46ICcxJyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcm9wYWNpdHltYXg6ICcxJyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcndpZHRoOiAnMnB4JyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcmJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgbW91c2VzY3JvbGxzdGVwOiAnNjAnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjQ0VDRUNFXCIsXHJcbiAgICAgICAgICAgICAgICByYWlsb2Zmc2V0OiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICB6aW5kZXg6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yY29sb3I6IFwiI0NFQ0VDRVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyBfaW5uZXJfc2Nyb2xsICBtdXN0IGJlIGJlZm9yZSBfdGFiX3NsaWRlciAtICFpbXBvcnRhbnRcclxuXHJcbiAgICB0aGlzLnRhYlNsaWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGFiU2xpZGVycyA9ICQoXCIuZ3QtdGFic1wiKTtcclxuICAgICAgICB0YWJTbGlkZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VyclRhYnMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBjdXJyVGFicy5maW5kKFwiLmd0LXRhYnMtYnV0dG9uXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRhYlNsaWRlckFjdGlvbihjdXJyVGFicywgJCh0aGlzKS5pbmRleCgpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2VsZi50YWJTbGlkZXJBY3Rpb24oY3VyclRhYnMsMCx0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudGFiU2xpZGVyQWN0aW9uID0gZnVuY3Rpb24gKGVsLCBudW0gLGluaXQpIHtcclxuICAgICAgICB2YXIgYnV0dG9ucyA9ICQoZWwuZmluZChcIi5ndC10YWJzLWJ1dHRvblwiKSksXHJcbiAgICAgICAgICAgIG1haW4gPSAgJChlbC5maW5kKFwiLmd0LXRhYnMtbWFpblwiKSlcclxuICAgICAgICBlbC5maW5kKCcuZ3QtaW5uZXItc2Nyb2xsLXRhYicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcjJyArICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnKSkuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJ1dHRvbnMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgbWFpbi5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKGJ1dHRvbnNbbnVtXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChtYWluW251bV0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgXHJcbiAgICAgICAgaWYoJCgnIycgKyAkKG1haW5bbnVtXSkuZmluZCgnLmd0LWlubmVyLXNjcm9sbC10YWInKS5hdHRyKCdkYXRhLXNjcm9sbCcpKS5maW5kKCcuZ3Qtc2Nyb2xsLWN1cnNvcicpLmhlaWdodCgpICE9IDAgfHwgaW5pdCl7XHJcbiAgICAgICAgICAgICQoJyMnICsgJChtYWluW251bV0pLmZpbmQoJy5ndC1pbm5lci1zY3JvbGwtdGFiJykuYXR0cignZGF0YS1zY3JvbGwnKSkuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LXRhYnNcIikpIHtcclxuICAgICAgICBzZWxmLnRhYlNsaWRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29sdW1uUGFydG5lcnNoaXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIiNndC1wYXJ0bmVyc2hpcFwiKS5hZGRDbGFzcygnZ3QtcGFydG5lcnNoaXAtY29sdW1uJyk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5yb3dQYXJ0bmVyc2hpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI2d0LXBhcnRuZXJzaGlwXCIpLnJlbW92ZUNsYXNzKCdndC1wYXJ0bmVyc2hpcC1jb2x1bW4nKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiI2d0LXBhcnRuZXJzaGlwXCIpKSB7XHJcbiAgICAgICAgJCgnI2d0LXBhcnRuZXJzaGlwLXJvdycpLm9uKCdjbGljaycsIHNlbGYuY29sdW1uUGFydG5lcnNoaXApO1xyXG4gICAgICAgICQoJyNndC1wYXJ0bmVyc2hpcC1jb2x1bW4nKS5vbignY2xpY2snLCBzZWxmLnJvd1BhcnRuZXJzaGlwKTtcclxuICAgIFxyXG4gICAgICAgIGlmICgkKFwiKlwiKS5pcyhcIiNndC1wYXJ0bmVyc2hpcC1tZW51XCIpKSB7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtcGFydG5lcnNoaXAtbWVudVwiKS5maW5kKCdkaXYnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2Nyb2xsVG9BcnRpY2xlKCQodGhpcykuYXR0cignZGF0YS1ocmVmJykpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNyZWF0ZVNlbGVjdFdyYXBwZXIgPSBmdW5jdGlvbiAoY3VyclNlbGVjdCkge1xyXG4gICAgICAgIHZhciBzZWxlY3RPcHRpb24gPSBjdXJyU2VsZWN0LmZpbmQoJ29wdGlvbicpLFxyXG4gICAgICAgICAgICBzZWxlY3RPcHRpb25MZW5ndGggPSBzZWxlY3RPcHRpb24ubGVuZ3RoLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdE9wdGlvbi5maWx0ZXIoJzpzZWxlY3RlZCcpLFxyXG4gICAgICAgICAgICBkdXIgPSA1MDAsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCFjdXJyU2VsZWN0LmF0dHIoJ2RhdGEtbmFtZScpIHx8IGN1cnJTZWxlY3QuYXR0cignZGF0YS1uYW1lJykgPT0gdW5kZWZpbmVkIHx8IGN1cnJTZWxlY3QuYXR0cignZGF0YS1uYW1lJykgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9ICQoc2VsZWN0ZWRPcHRpb25bMF0pLnRleHQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGN1cnJTZWxlY3QuYXR0cignZGF0YS1uYW1lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJTZWxlY3QuaGlkZSgpO1xyXG4gICAgXHJcbiAgICAgICAgY3VyclNlbGVjdC53cmFwKCc8ZGl2IGNsYXNzPVwic2VsZWN0IGd0LXNlbGVjdFwiPjwvZGl2PicpO1xyXG4gICAgXHJcbiAgICAgICAgJCgnPGRpdj4nLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAnc2VsZWN0X19nYXAnLFxyXG4gICAgICAgICAgICBodG1sOiAnPHA+JyArIHBsYWNlaG9sZGVyICsgJzwvcD4nXHJcbiAgICAgICAgfSkuaW5zZXJ0QWZ0ZXIoY3VyclNlbGVjdCk7XHJcbiAgICAgICAgdmFyIHNlbGVjdEdhcCA9IGN1cnJTZWxlY3QubmV4dCgnLnNlbGVjdF9fZ2FwJyk7XHJcbiAgICAgICAgJCgnPHVsPicse1xyXG4gICAgICAgICAgICBjbGFzczogJ3NlbGVjdF9fbGlzdCdcclxuICAgICAgICB9KS5pbnNlcnRBZnRlcihzZWxlY3RHYXApO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIHNlbGVjdExpc3QgPSBzZWxlY3RHYXAubmV4dCgnLnNlbGVjdF9fbGlzdCcpO1xyXG4gICAgICAgIC8vIEFkZCBsaSAtIG9wdGlvbiBpdGVtc1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzZWxlY3RPcHRpb25MZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICQoJzxsaT4nLHtcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAnc2VsZWN0X19pdGVtJyxcclxuICAgICAgICAgICAgICAgIGh0bWw6ICQoJzxzcGFuPicse1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHNlbGVjdE9wdGlvbi5lcShpKS50ZXh0KClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZGF0YS12YWx1ZScsIHNlbGVjdE9wdGlvbi5lcShpKS52YWwoKSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhzZWxlY3RMaXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlbGVjdEl0ZW0gPSBzZWxlY3RMaXN0LmZpbmQoJ2xpJyk7XHJcbiAgICBcclxuICAgICAgICBzZWxlY3RMaXN0LnNsaWRlVXAoMCk7XHJcbiAgICAgICAgc2VsZWN0R2FwLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKCdvbicpKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RMaXN0LnNsaWRlRG93bihkdXIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RJdGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNob29zZUl0ZW0gPSAkKHRoaXMpLmRhdGEoJ3ZhbHVlJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAkKCdzZWxlY3QnKS52YWwoY2hvb3NlSXRlbSkuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RHYXAudGV4dCgkKHRoaXMpLmZpbmQoJ3NwYW4nKS50ZXh0KCkpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0TGlzdC5zbGlkZVVwKGR1cik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0R2FwLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RMaXN0LnNsaWRlVXAoZHVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgaWYgKCQoXCJzZWxlY3RcIikuaXMoXCIuanMtZ3Qtc2VsZWN0XCIpKSB7XHJcbiAgICAgICAgJCgnLmpzLWd0LXNlbGVjdCcpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc2VsZi5jcmVhdGVTZWxlY3RXcmFwcGVyKCQodGhpcykpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHRoaXMuaW5pdFRvcENhcmRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0b3BCbG9jayA9ICQoJy5ndC10b3AnKSxcclxuICAgICAgICAgICAgY2FyZHMgPSB0b3BCbG9jay5maW5kKCcuZ3QtdG9wLWNhcmQnKTtcclxuICAgIFxyXG4gICAgICAgIGNhcmRzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLm9uKCdtb3VzZW92ZXInLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgdG9wQmxvY2sub24oJ21vdXNlbGVhdmUnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2FyZHMucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC10b3AtY2FyZC13cmFwcGVyXCIpKXtcclxuICAgICAgICBzZWxmLmluaXRUb3BDYXJkcygpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9kb2VzIG5vdCB3b3JrXHJcblxyXG4gICAgdGhpcy5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0Jykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja1Zpc2l0Vmlld0NhcmQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXBpbi1wbHVzJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja1NlZW5WaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3MnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrTWFya1ZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnRnKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5maW5kKCdhJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQsZWwpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgICAgICAgICBzZWxmLnZpZXdDYXJkU29jaWFsKGVsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5vbignY2xpY2sgIG1vdXNlbGVhdmUnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChlbCkuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0Jykub2ZmKCk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtcGluLXBsdXMnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3MnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLm9mZigpO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykuZmluZCgnYScpLm9mZigpO1xyXG4gICAgICAgIGVsLm9mZigpO1xyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMudmlld0NhcmRTb2NpYWwgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgc29jaWFsJyk7XHJcbiAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMub3BlblNoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5jbG9zZVNoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5jbGlja1NoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgIFxyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgc2VsZi5vcGVuU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xpY2tWaXNpdFZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYoZWwuaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKSByZXR1cm47XHJcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0JykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBub3QgdmlzaXRlZCBub3cnKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIHZpc2l0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jbGlja1NlZW5WaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmKGVsLmhhc0NsYXNzKCdndC1hY3RpdmUnKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1waW4tcGx1cycpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgbm90IHNlZW4gbm93Jyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBzZWVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xpY2tNYXJrVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZihlbC5oYXNDbGFzcygnZ3QtYWN0aXZlJykpIHJldHVybjtcclxuICAgICAgICB2YXIgYnV0dG9uID0gZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtYm9va21hcmtzJykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBkZWxldGUgYm9va21hcmsnKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIGFkZCBib29rbWFyaycpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC12aWV3LWNhcmRzLWlubmVyXCIpKSB7XHJcbiAgICBcclxuICAgICAgICAkKCcuZ3Qtdmlldy1jYXJkcy1pbm5lcicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzKCQodGhpcykpO1xyXG4gICAgICAgIH0pXHJcbiAgICBcclxuICAgIFxyXG4gICAgfVxyXG4gICAgLy8g0L/RgNC+0LLQtdGA0LrQsCDQvdCwINC90LDQu9C40YfQuNC1IC0g0L7QsdGB0YPQtNC40YLRjCDRgSDQsdC10LrQvtC8INC/0L7QstC10LTQtdCz0YLQtVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tZmFjZWJvb2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxFbnRlcignZmFjZWJvb2snKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS10d2l0dGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsRW50ZXIoJ3R3aXR0ZXInKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS1nb29nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxFbnRlcignZ29vZ2xlJylcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcjZ3QtcmVnLWZvcm0tZmFjZWJvb2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxSZWdpc3RyYXRpb24oJ2ZhY2Vib29rJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LXJlZy1mb3JtLXR3aXR0ZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxSZWdpc3RyYXRpb24oJ3R3aXR0ZXInKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtcmVnLWZvcm0tZ29vZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsUmVnaXN0cmF0aW9uKCdnb29nbGUnKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRoaXMuc29jaWFsUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBcclxuICAgICAgICBhbGVydChcItCg0LXQs9C40YHRgtGA0LDRhtC40Y8g0YfQtdGA0LXQtyBcIiArIHRva2VuKVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgdGhpcy5zb2NpYWxFbnRlciA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgXHJcbiAgICAgICAgYWxlcnQoXCLQktGF0L7QtCDRh9C10YDQtdC3IFwiICsgdG9rZW4pXHJcbiAgICBcclxuICAgIH07XHJcbiAgIHRoaXMuY3V0TmV3cyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudCgpLFxyXG4gICAgICAgICAgIG1heEhlaWdodCA9IHBhcmVudC5oZWlnaHQoKSxcclxuICAgICAgICAgICBjdXR0aW5nRWwgPSBlbC5maW5kKCdwJyksXHJcbiAgICAgICAgICAgY3VyckhlaWdodCxcclxuICAgICAgICAgICBjdXR0aW5nTGVuZ2h0LFxyXG4gICAgICAgICAgIG5ld1RleHQ7XHJcbiAgICAgICBwYXJlbnQuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBtYXhIZWlnaHQgLT0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgIH0pO1xyXG4gICBcclxuICAgICAgIG1heEhlaWdodCA9IG1heEhlaWdodCArIGVsLmhlaWdodCgpIC0gMjA7XHJcbiAgIFxyXG4gICBcclxuICAgICAgIGN1dHRpbmdFbC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBjdXJySGVpZ2h0ID0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgXHJcbiAgICAgICAgICAgaWYgKGN1cnJIZWlnaHQgPCBtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgbWF4SGVpZ2h0IC09IGN1cnJIZWlnaHRcclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICBpZiAoIW1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgY3V0dGluZ0xlbmdodCA9IE1hdGguZmxvb3IoJCh0aGlzKS50ZXh0KCkubGVuZ3RoICogbWF4SGVpZ2h0IC8gY3VyckhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gJCh0aGlzKS50ZXh0KCkuc3Vic3RyaW5nKDAsIGN1dHRpbmdMZW5naHQgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgIC8vIGN1dExhc3RTeW1ib2woKTtcclxuICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgobmV3VGV4dCkgKyAnLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSk7XHJcbiAgICAgICAvL1xyXG4gICAgICAgLy8gZnVuY3Rpb24gY3V0TGFzdFN5bWJvbCgpIHtcclxuICAgICAgIC8vICAgICB2YXIgc3RyTGVuZ3RoID0gbmV3VGV4dC5sZW5ndGg7XHJcbiAgICAgICAvLyAgICAgaWYobmV3VGV4dC5jaGFyQXQoc3RyTGVuZ3RoIC0gMSkgPT0gJyAnKXtcclxuICAgICAgIC8vICAgICAgICAgbmV3VGV4dD0gbmV3VGV4dC5zdWJzdHJpbmcoMCwgc3RyTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAvLyAgICAgfWVsc2V7XHJcbiAgICAgICAvLyAgICAgICAgIG5ld1RleHQgPSBuZXdUZXh0LnN1YnN0cmluZygwLCBzdHJMZW5ndGggLSAxKTtcclxuICAgICAgIC8vICAgICAgICAgc2V0VGltZW91dChjdXRMYXN0U3ltYm9sKVxyXG4gICAgICAgLy8gICAgIH1cclxuICAgICAgIC8vIH1cclxuICAgXHJcbiAgIH07XHJcbiAgIFxyXG4gICBcclxuICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuanMtbmV3cy1jdXRcIikpIHtcclxuICAgICAgICQoXCIuanMtbmV3cy1jdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgc2VsZi5jdXROZXdzKCQodGhpcykpO1xyXG4gICAgICAgfSk7XHJcbiAgIFxyXG4gICBcclxuICAgICAgIGRvY1dpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICQoXCIuanMtbmV3cy1jdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgIHNlbGYuY3V0TmV3cygkKHRoaXMpKTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgIH0pO1xyXG4gICB9XHJcbiAgIFxyXG4gICBcclxuICAgdGhpcy5jdXRSZWFkTW9yZVNsaWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHZhciBjdXR0aW5ncyA9ICQoXCIuZ3QtcmVhZC1tb3JlLXNsaWRlci10ZXh0LWlubmVyXCIpO1xyXG4gICAgICAgY3V0dGluZ3MuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgc2VsZi5jdXR0aW5nKCQodGhpcyksIDE2MCk7XHJcbiAgICAgICB9KTtcclxuICAgfTtcclxuICAgXHJcbiAgIHRoaXMuY3V0dGluZyA9IGZ1bmN0aW9uIChlbCwgbnVtKSB7XHJcbiAgICAgICB2YXIgbmV3c1RleHQgPSBlbC50ZXh0KCk7XHJcbiAgICAgICBpZiAobmV3c1RleHQubGVuZ3RoID4gbnVtKSB7XHJcbiAgICAgICAgICAgbmV3c1RleHQgPSBuZXdzVGV4dC5zbGljZSgwLCBudW0pICsgXCIuLi5cIjtcclxuICAgICAgICAgICBlbC50ZXh0KG5ld3NUZXh0KTtcclxuICAgICAgIH1cclxuICAgfTtcclxuICAgXHJcbiAgIFxyXG4gICBpZiAoJChcInBcIikuaXMoXCIuZ3QtcmVhZC1tb3JlLXNsaWRlci10ZXh0LWlubmVyXCIpKSB7XHJcbiAgICAgICBzZWxmLmN1dFJlYWRNb3JlU2xpZGVyKCk7XHJcbiAgIH1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBkb2MucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICAgICAgc2VsZi5mb290ZXJIZWlnaHQoKTsvL19mb290ZXJfaGVpZ2h0LmpzXHJcbiAgICAgICAgc2VsZi5kZXNrVG9wTWVudVNjcm9sbCgpOy8vX2Rlc2N0b3BfaGVhZGVyX2Z1bmMuanNcclxuICAgIFxyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIHRoaXMucGFnZVVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudXBQYWdlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IDMwKSB7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmFkZENsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5yZW1vdmVDbGFzcyhcImd0LXZpc2libGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB1cEJ1dHRvbi5vbihcImNsaWNrXCIsIHNlbGYucGFnZVVwKTtcclxuICAgIFxyXG4gICAgZG9jV2luZG93LnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi51cFBhZ2VCdXR0b24oKTsvL191cF9idXR0b24uanNcclxuICAgICAgICBpZiAoJChcIi5ndC1oZWFkZXItbWVudVwiKS5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZGVza1RvcE1lbnVTY3JvbGwoKTsvL19kZXNjdG9wX2hlYWRlcl9mdW5jLmpzXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkb2NXaW5kb3cucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmRlc2tUb3BNZW51U2Nyb2xsKCk7XHJcbiAgICAgICAgc2VsZi5mb290ZXJIZWlnaHQoKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChndEhlYWRlci5oYXNDbGFzcyhcImd0LW9wZW5cIikpIHNlbGYubW9iaWxlTWVudUNsb3NlKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbWctaG9sZGVyLWFic1wiKSkge1xyXG4gICAgICAgICAgICAkKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImd0LWhlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW1nSG9sZGVyRnVuYygkKHRoaXMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtaW1nLWhvbGRlci1hYnNcIikpIHtcclxuICAgICAgICAgICAgJChcIi5ndC1pbWctaG9sZGVyLWFic1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW1nSG9sZGVyRnVuYygkKHRoaXMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYm9keS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC50YXJnZXQpO1xyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtbWVudS1uZXdzXCIpKSB7XHJcbiAgICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2EnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RlbXAgZnVuYycpXHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgICAgIC8vIHRvZG8gdGVtcCBmdW5jXHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8vLy8vL3NlYXJjaC1ibG9ja1xyXG4gICAgdmFyIHNlYXJjaEJsb2NrID0gJCgnI2d0LXNlYXJjaC1ibG9jaycpO1xyXG4gICAgdmFyIHNlYXJjaEJsb2NrSW5wdXQgPSAkKCcjZ3Qtc2VhcmNoLWJsb2NrLWlucHV0Jyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgJCgnLmd0LW9wZW4tc2VhcmNoJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYub3BlblNlYXJjaEJsb2NrKClcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcjZ3Qtc2VhcmNoLWJsb2NrLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY2xvc2VTZWFyY2hCbG9jaygpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHNlYXJjaEJsb2NrSW5wdXQub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zaG93Q3Jvc3NJblNlYXJjaEJsb2NrKClcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LXNlYXJjaC1ibG9jay1jbGVhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmNsZWFyU2VhcmNoQmxvY2tJbnB1dCgpXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLm9wZW5TZWFyY2hCbG9jayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmZpeEJvZHkoKTtcclxuICAgICAgICBzZWFyY2hCbG9jay5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgfTtcclxuICAgIHRoaXMuY2xvc2VTZWFyY2hCbG9jayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnVuZml4Qm9keSgpO1xyXG4gICAgICAgIHNlbGYuY2xlYXJTZWFyY2hCbG9ja0lucHV0KCk7XHJcbiAgICAgICAgc2VhcmNoQmxvY2sucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLnNob3dDcm9zc0luU2VhcmNoQmxvY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQudHJpbShzZWFyY2hCbG9ja0lucHV0LnZhbCgpKSkge1xyXG4gICAgICAgICAgICBpZiAoIXNlYXJjaEJsb2NrSW5wdXQuaGFzQ2xhc3MoJ2d0LWRpcnR5JykpIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaEJsb2NrSW5wdXQuYWRkQ2xhc3MoJ2d0LWRpcnR5JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hCbG9ja0lucHV0Lmhhc0NsYXNzKCdndC1kaXJ0eScpKSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hCbG9ja0lucHV0LnJlbW92ZUNsYXNzKCdndC1kaXJ0eScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNsZWFyU2VhcmNoQmxvY2tJbnB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWFyY2hCbG9ja0lucHV0LnZhbCgnJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coc2VhcmNoQmxvY2tJbnB1dC52YWwoKSk7XHJcbiAgICAgICAgaWYgKHNlYXJjaEJsb2NrSW5wdXQuaGFzQ2xhc3MoJ2d0LWRpcnR5JykpIHtcclxuICAgICAgICAgICAgc2VhcmNoQmxvY2tJbnB1dC5yZW1vdmVDbGFzcygnZ3QtZGlydHknKVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59O1xyXG4kKGRvY3VtZW50KS5yZWFkeShcclxuXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGdvVG9UcmlwID0gbmV3IEdvVG9UcmlwKCk7XHJcbiAgICB9XHJcbik7Il19
