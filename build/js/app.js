GoToTrip=function(){var t=this,e=$(document.body),i=$(document),s=$(window),o={top:!1,left:!1},n=$("#gt-is-360"),a=($("#gt-is-480"),$("#gt-is-667")),r=$("#gt-is-768"),c=$("#gt-is-1024"),l=($("#gt-is-1231"),$("header")),d=$("footer"),g=$("#gt-wrapper"),u=$("#gt-up"),h=$("#gt-mobile-menu-switch"),f=$(".gt-enter"),p=$("#gt-header-enter-wrapper"),v=$("#gt-header-enter"),m=$("#gt-header-enter-chose"),C=$("#gt-header-enter-close");if($("html").niceScroll({cursorborder:"1px solid #6d6d6d",mousescrollstep:"60",bouncescroll:!0,cursorcolor:"#6d6d6d"}),this.fixBody=function(){o.top||o.left||(o.top=i.scrollTop(),o.left=e.offset().left,e.css({position:"fixed",left:o.left+"px",top:-1*o.top+"px"}))},this.unfixBody=function(){e.css({position:"",left:"",top:""}),i.scrollTop(o.top),o.top=!1,o.left=!1},this.footerHeight=function(){d.outerHeight()>s.height()-50?(d.css("position","static"),g.css("margin-bottom",""),u.css("position","static")):(d.css("position",""),u.css("position",""),g.css("margin-bottom",d.outerHeight()+"px"))},this.deskTopMenuScroll=function(){s.scrollTop()>l.outerHeight()?l.addClass("gt-header-scrolled"):l.removeClass("gt-header-scrolled")},$("*").is(".gt-top-plane")&&$(".gt-header").addClass("gt-header-plane-top"),this.mobileMenuClose=function(){t.unfixBody(),h.removeClass("gt-open"),l.removeClass("gt-open")},this.mobileMenuOpen=function(){t.fixBody(),l.addClass("gt-open"),h.addClass("gt-open")},h.on("click",function(){$(this).hasClass("gt-open")?t.mobileMenuClose():t.mobileMenuOpen()}),this.openEnterForm=function(){p.addClass("gt-open"),setTimeout(function(){$("#gt-header-registered").addClass("gt-open"),v.addClass("gt-open"),C.addClass("gt-open")})},this.closeEnterForm=function(){C.removeClass("gt-open"),v.removeClass("gt-open"),$("#gt-header-registered").removeClass("gt-open"),t.closeRestorePass(),setTimeout(function(){p.removeClass("gt-open")},750)},this.changeEnterRegistration=function(t){v.hasClass($(t.target).attr("class"))||v.removeClass("gt-chosen-enter").removeClass("gt-chosen-registration").addClass($(t.target).attr("class"))},this.openRestorePass=function(){$("#gt-enter-pass-restore-wrapper").addClass("gt-open")},this.closeRestorePass=function(){$("#gt-enter-pass-restore-wrapper").removeClass("gt-open")},f.each(function(){$(this).on("click",t.openEnterForm)}),C.on("click",t.closeEnterForm),m.on("click",function(e){t.changeEnterRegistration(e)}),$("#gt-enter-form-restore-pass").on("click",t.openRestorePass),$("#gt-enter-pass-restore-submit").on("click",t.closeRestorePass),this.imgHolderFunc=function(t){$(t).removeClass("gt-width"),$(t).removeClass("gt-height"),$(t).removeClass("gt-visible");var e=t.outerHeight()/t.outerWidth(),i=t.find("img");i.outerHeight()/i.outerWidth()>e?$(t).addClass("gt-width"):$(t).addClass("gt-height"),i.lazy({placeholder:"data:image/gif;base64,R0lGODlhEALAPQAPzl5uLr9Nrl8e7...",scrollDirection:"vertical",effect:"fadeIn",visibleOnly:!0,onError:function(t){console.log("error loading "+t.data("src"))}})},this.setBg=function(t){function e(){a.is(":visible")?(i=t.attr("data-src-phone"),s=0):c.is(":visible")?(i=t.attr("data-src-tablet"),s=1):(i=t.attr("data-src-desctop"),s=2),t.css("background-image","url('./img/bgs/"+i+"'")}var i,s,o,n;e(),$(window).resize(function(){clearTimeout(n),n=setTimeout(function(){(o=a.is(":visible")?0:c.is(":visible")?1:2)>s&&e()},250)})},$("div").is(".gt-bgs-holder")&&$(".gt-bgs-holder").each(function(){t.setBg($(this))}),t.setBg($("#gt-footer")),this.createSlider=function(e,i){function o(){if(x>w){var t="";P&&(t='<div class="gt-slider-arrow-num"><i class="gt-slider-num-curr"></i><i>из</i><i class="gt-slider-num-max"></i></div>'),e.find(".gt-slider-arrow-holder").html('<span class = "gt-slider-arrow left"></span>'+t+'<span class = "gt-slider-arrow right"></span>'),e.find(".left").on("click",function(){l(!1)}),e.find(".right").on("click",function(){l(!0)}),P&&u(),u()}b=!0}function c(t){var i=t||e;i.find(".left").off(),i.find(".right").off(),i.find(".gt-slider-arrow-holder").html(""),b=!1}function l(i,s){var o,n;if(s||0===s?S=s:i?S++:S--,M&&(S>x-w&&(S=0),S<0&&(S=x-w),g()),B&&(S>x-w&&(o=y.children().first().clone(),n=y.children().first(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(n),t.createViewCardListeners(o)),y.css("left",-(S-2)*C+"px"),y.append(o),n.remove(),S--),S<0?(o=y.children().last(),n=y.children().last(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(n),t.createViewCardListeners(o)),y.css("left",-(S+2)*C+"px"),y.prepend(o.clone()),n.remove(),S++,d()):d()),P&&u(),V){var a=e.find(".gt-slider-nav span");a.removeClass("gt-active"),$(a[y.find(".gt-open").attr("data-count")]).addClass("gt-active")}}function d(){y.children().removeClass("gt-open"),y.animate({left:-S*C},A),y.children().eq(S).addClass("gt-open")}function g(t){var e=t||S;$(k).removeClass("gt-open"),$(k[e]).addClass("gt-open")}function u(){e.find(".gt-slider-num-curr").text(+y.find(".gt-open").attr("data-count")+1),e.find(".gt-slider-num-max").text(x)}function h(){var t=0,i=0;e.on("touchstart",function(e){var i=e.originalEvent;t=Math.abs(i.touches[0].pageX),console.log("touchstart")}),e.on("touchend",function(e){var s=e.originalEvent;i=Math.abs(s.changedTouches[0].pageX),Math.abs(t-i)>50&&l(t>i?!0:!1)})}function f(t){(t||e).off()}function p(){e.attr("data-count")&&(w=parseInt(e.attr("data-count")),$(r).is(":visible")&&(w=3),$(a).is(":visible")&&(w=2),$(n).is(":visible")&&(w=1))}function v(){console.log("setBaseWidth"),C=e.outerWidth()/w,e.find(".gt-slider-container").outerWidth((x+1)*C),k.each(function(){$(this).outerWidth(C),$(this).attr("data-count",$(this).index())})}var m,C,w=1,b=!1,k=e.find(".gt-slider-inner"),y=e.find(".gt-slider-container"),x=k.length,S=i||0,T=e.hasClass("gt-slider-has-arrow"),V=e.hasClass("gt-slider-has-dots"),P=e.hasClass("gt-slider-num"),B=e.hasClass("gt-slider-tram"),A=+e.attr("data-duration")||300,M=e.hasClass("gt-slider-fade"),E=e.hasClass("gt-slider-has-clone");M&&g(i),B&&(p(),v(),d()),T&&(e.append('<div class="gt-slider-arrow-holder"></div>'),o()),V&&function(){e.append('<div class="gt-slider-nav"></div>');for(var t=e.find(".gt-slider-nav"),i="",s=0;s<x;s++)i+="<span data-num = "+s+"></span>";t.html(i),t.find("span").first().addClass("gt-active"),e.find(".gt-slider-nav span").on("click",function(){l(!0,+$(this).attr("data-num"))})}(),x>w&&h(),E&&e.find(".gt-slider-inner-cover").each(function(){$(this).on("click",function(){!function(i){if(!$("div").is("#gt-clone")){t.fixBody();var s=$("#gt-body-wrapper");s.append('<div id = "gt-clone-wrapper"   class="container"><div id = "gt-clone" class="gt-slider gt-slider-clone gt-slider-fade gt-slider-num  gt-slider-has-arrow"><div id = "gt-clone-close" class = "gt-slider-clone-close"></div><div  id = "gt-clone-container" class="gt-slider-container"></div></div></div>'),s.show();var o=$("#gt-clone");e.find(".gt-slider-inner").clone(!0).each(function(){$(this).outerWidth(""),$("#gt-clone-container").append($(this))}),t.createSlider(o,i),$("#gt-clone-close").on("click",function(){!function(e){c(e),f(e),$("#gt-clone-close").off(),$("#gt-clone-wrapper").remove(),$("#gt-body-wrapper").hide(),t.unfixBody()}(o)})}}($(this).parent().index())})}),s.resize(function(){m||(m=setTimeout(function(){m=null,f(),B&&(p(),v(),S>x-w&&(S=x-w),x<=w&&(S=0),d()),b&&(c(),o()),x>w&&h()},132))})},$("div").is(".gt-slider")&&$(".gt-slider").each(function(){t.createSlider($(this))}),this.numberCollectionArticle=function(t){t.find(".gt-collection-link-wrapper").each(function(){$(this).find(".gt-collection-link-slider-wrapper").after('<div class = "gt-collection-link-number"><span>'+($(this).index()+1)+"</span></div>")})},$("div").is(".gt-collection-wrapper-num")&&$(".gt-collection-wrapper-num").each(function(){t.numberCollectionArticle($(this))}),this.manageGtActiveUlMenu=function(t){"li"!=t.tagName&&(t=$(t).closest("li")),$(t).closest($("ul")).find("li").removeClass("gt-active"),$(t).addClass("gt-active")},$("*").is(".gt-button-menu")&&$(".gt-button-menu").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),$("*").is(".gt-menu-news_items")&&$(".gt-menu-news_items").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),this.setPlayers=function(e){e.hasClass("gt-video-pop")?t.setPopPlayer(e):t.setStaticPlayer(e)},this.setPopPlayer=function(e){e.find(".gt-video-switch").on("click",function(){t.fixBody();var i=$("#gt-body-wrapper");i.append('<div id = "gt-youtube-wrapper"   class="gt-youtube-wrapper container test"><div id = "gt-youtube-close" class = "gt-slider-clone-close"></div><div id = "gt-youtube" class="gt-youtube test1"></div></div>'),t.createPopVideo(e),i.show()})},this.createPopVideo=function(e){function i(){s.mute(),s.playVideo()}var s;s=new YT.Player("gt-youtube",{width:600,height:400,videoId:e.attr("data-youtube"),playerVars:{playlist:e.attr("data-youtube"),color:"white",loop:1,autoplay:1},events:{onReady:i}}),$("#gt-youtube-close").on("click",function(){t.destroyPopVideo(s)})},this.destroyPopVideo=function(t){$("#gt-youtube-close").off(),$("#gt-youtube-wrapper").remove(),t.destroy(),$("#gt-body-wrapper").hide()},this.setStaticPlayer=function(e){e.find(".gt-video-switch").on("click",function(){$(this).addClass("gt-open"),e.addClass("gt-open"),t.addYouTube(e)})},this.addYouTube=function(t){function e(){s.mute(),s.playVideo(),t.addClass("gt-video-on"),t.find(".gt-video-uncover").on("click",i),t.find(".gt-video-pause").on("click",function(){s.pauseVideo()}),t.find(".gt-video-play").on("click",function(){s.playVideo()})}function i(){console.log("playFullScreen");var e=t.find("iframe")[0],i=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen;i&&i.bind(e)()}var s,o="gt-video-"+t.index();t.find(".gt-video-switch").hide("slow"),t.find(".gt-video-inner").attr("id",o).addClass("gt-video-foreground"),s=new YT.Player(o,{width:600,height:400,videoId:t.attr("data-youtube"),playerVars:{playlist:t.attr("data-youtube"),color:"white",loop:1,autoplay:1},events:{onReady:e}})},$("div").is(".gt-video")){var w=document.createElement("script");w.type="text/javascript",w.src="https://www.youtube.com/player_api";var b=$("script")[$("script").length-1];b.parentNode.insertBefore(w,b),$(".gt-video").each(function(){t.setPlayers($(this))})}this.fixArticleScrollTablePosition=function(t){var e=t,s=e.parent(),o=e.outerHeight(),n=s.position().top,a=n+s.outerHeight(),r=e.outerWidth(),c=i.scrollTop();n+90>c&&e.hasClass("gt-fixed")&&(e.removeClass("gt-fixed"),e.css({left:"",width:""})),n<c+90&&(e.hasClass("gt-fixed")||(e.css({left:e.offset().left+"px",width:r}),e.addClass("gt-fixed")),c-a+o+90>=0?e.addClass("gt-fixed-bottom"):e.removeClass("gt-fixed-bottom"))},this.createArticteScrollTable=function(){if($("div").is(".gt-article")){var e=$(".gt-article"),i=$("#gt-article-scroll-table"),s="";e.each(function(){s+='<div class = "gt-article-scroll"   data-href= "'+$(this).attr("id")+'" ><div class = "gt-article-scroll-shadow"></div><p>'+$(this).find("h2").text()+"</p></div>"}),i.html(s),i.find(".gt-article-scroll").each(function(){$(this).on("click",function(){t.scrollToArticle($(this).attr("data-href"))})})}},this.scrollToArticle=function(t){$("html").animate({scrollTop:$("#"+t).offset().top-110},1100)},this.showArtidleShadow=function(){$(".gt-article").each(function(){var t=$(this).position().top,e=$(this).outerHeight(),i=$(document).scrollTop(),s=0;(s=t>i?0:(i-t)/e)>1&&(s=1);var o=$(".gt-article-scroll")[$(this).index()];$(o).find(".gt-article-scroll-shadow").css("width",100*s+"%")})},$("div").is(".gt-article-table-wrapper")&&$(".gt-article-table-wrapper").each(function(){function e(){r&&(o||(o=setTimeout(function(){o=null,t.fixArticleScrollTablePosition(n),a&&t.showArtidleShadow()})))}function i(){n.outerHeight()>n.parent().outerHeight()?(r=!1,n.css({position:"relative",right:"15px"})):(r=!0,n.css({position:"",right:""}))}var o,n=$(this),a=!1,r=!0;$("div").is(".gt-article-scroll-table")&&(a=!0,t.createArticteScrollTable(),t.showArtidleShadow()),i(),s.scroll(e),s.resize(function(){i(),e()})}),this.setCurrTime=function(){t.currTime();setInterval(t.currTime,3e4)},this.currTime=function(){$(".gt-curr-time").each(function(){var t=new Date;$(this).attr("data-gmt")&&t.setUTCHours(+$(this).attr("data-gmt"));var e=t.getHours(),i=t.getMinutes(),s=t.getDay(),o=t.getDate(),n=t.getMonth(),a=t.getFullYear();e<10&&(e="0"+e),i<10&&(i="0"+i),s=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][s],n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][n],$(".gt-curr-time-time")&&$(".gt-curr-time-time").html(e+":"+i),$(".gt-curr-time-date")&&$(".gt-curr-time-date").html(s+", "+o+" "+n+" "+a)})},$("div").is(".gt-curr-time")&&t.setCurrTime(),$("div").is(".gt-inner-scroll")&&$(".gt-inner-scroll").each(function(){$(this).niceScroll({cursoropacitymin:"1",cursoropacitymax:"1",cursorwidth:"2px",cursorborder:"none",mousescrollstep:"60",background:"#CECECE",railoffset:"left",zindex:"auto",cursorcolor:"#CECECE"})}),this.tabSlider=function(){$(".gt-tabs").each(function(){var e=$(this);e.find(".gt-tabs-button").each(function(){$(this).on("click",function(){t.tabSliderAction(e,$(this).index())})}),t.tabSliderAction(e,0,!0)})},this.tabSliderAction=function(t,e,i){var s=$(t.find(".gt-tabs-button")),o=$(t.find(".gt-tabs-main"));t.find(".gt-inner-scroll-tab").each(function(){$("#"+$(this).attr("data-scroll")).hide()}),s.removeClass("active"),o.removeClass("active"),$(s[e]).addClass("active"),$(o[e]).addClass("active"),(0!=$("#"+$(o[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).find(".gt-scroll-cursor").height()||i)&&$("#"+$(o[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).show()},$("div").is(".gt-tabs")&&t.tabSlider(),this.columnPartnership=function(){$("#gt-partnership").addClass("gt-partnership-column")},this.rowPartnership=function(){$("#gt-partnership").removeClass("gt-partnership-column")},$("*").is("#gt-partnership")&&($("#gt-partnership-row").on("click",t.columnPartnership),$("#gt-partnership-column").on("click",t.rowPartnership),$("*").is("#gt-partnership-menu")&&$("#gt-partnership-menu").find("div").each(function(){$(this).on("click",function(){t.scrollToArticle($(this).attr("data-href"))})})),this.createSelectWrapper=function(t){var e,i=t.find("option"),s=i.length,o=i.filter(":selected");e=t.attr("data-name")&&void 0!=t.attr("data-name")&&null!=t.attr("data-name")?t.attr("data-name"):$(o[0]).text(),t.hide(),t.wrap('<div class="select gt-select"></div>'),$("<div>",{class:"select__gap",html:"<p>"+e+"</p>"}).insertAfter(t);var n=t.next(".select__gap");$("<ul>",{class:"select__list"}).insertAfter(n);for(var a=n.next(".select__list"),r=0;r<s;r++)$("<li>",{class:"select__item",html:$("<span>",{text:i.eq(r).text()})}).attr("data-value",i.eq(r).val()).appendTo(a);var c=a.find("li");a.slideUp(0),n.on("click",function(){$(this).hasClass("on")?($(this).removeClass("on"),a.slideUp(500)):($(this).addClass("on"),a.slideDown(500),c.on("click",function(){var t=$(this).data("value");$("select").val(t).attr("selected","selected"),n.text($(this).find("span").text()),a.slideUp(500),n.removeClass("on")}))})},$("select").is(".js-gt-select")&&$(".js-gt-select").each(function(){t.createSelectWrapper($(this))}),this.initTopCards=function(){var t=$(".gt-top"),e=t.find(".gt-top-card");e.each(function(){$(this).on("mouseover",function(){$(this).addClass("gt-active")})}),t.on("mouseleave",function(){e.removeClass("gt-active")})},$("div").is(".gt-top-card-wrapper")&&t.initTopCards(),this.createViewCardListeners=function(e){e.find(".gt-view-cards-icons-visit").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickVisitViewCard(e)}),e.find(".gt-view-cards-icons-pin-plus").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickSeenViewCard(e)}),e.find(".gt-view-cards-icons-bookmarks").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickMarkViewCard(e)}),e.find(".gt-view-cards-icons-share").on("click",function(i){event.stopPropagation(),t.clickShareViewCard(e)}),e.find(".gt-view-cards-icons-share").find("a").on("click",function(e,i){e.preventDefault(),t.viewCardSocial(i)}),e.on("click  mouseleave",function(){$(e).find(".gt-view-cards-icons-share").parent().removeClass("gt-active"),t.closeShareViewCard(e)})},this.destroyViewCardListeners=function(t){t.find(".gt-view-cards-icons-visit").off(),t.find(".gt-view-cards-icons-pin-plus").off(),t.find(".gt-view-cards-icons-bookmarks").off(),t.find(".gt-view-cards-icons-share").off(),t.find(".gt-view-cards-icons-share").find("a").off(),t.off()},this.viewCardSocial=function(e){console.log("click social"),t.closeShareViewCard(e)},this.openShareViewCard=function(t){$(t).addClass("gt-active")},this.closeShareViewCard=function(t){$(t).removeClass("gt-active")},this.clickShareViewCard=function(e){var i=e.find(".gt-view-cards-icons-share").parent();i.hasClass("gt-active")?(i.removeClass("gt-active"),t.closeShareViewCard(e)):(i.addClass("gt-active"),t.openShareViewCard(e))},this.clickVisitViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-visit").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not visited now")):(e.addClass("gt-active"),console.log("click visit"))}},this.clickSeenViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-pin-plus").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not seen now")):(e.addClass("gt-active"),console.log("click seen"))}},this.clickMarkViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-bookmarks").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click delete bookmark")):(e.addClass("gt-active"),console.log("click add bookmark"))}},$("*").is(".gt-view-cards-inner")&&$(".gt-view-cards-inner").each(function(){t.createViewCardListeners($(this))}),$("#gt-enter-form-facebook").on("click",function(){t.socialEnter("facebook")}),$("#gt-enter-form-twitter").on("click",function(){t.socialEnter("twitter")}),$("#gt-enter-form-google").on("click",function(){t.socialEnter("google")}),$("#gt-reg-form-facebook").on("click",function(){t.socialRegistration("facebook")}),$("#gt-reg-form-twitter").on("click",function(){t.socialRegistration("twitter")}),$("#gt-reg-form-google").on("click",function(){t.socialRegistration("google")}),this.socialRegistration=function(t){alert("Регистрация через "+t)},this.socialEnter=function(t){alert("Вход через "+t)},this.cutNews=function(t){var e,i,s,o=t.parent(),n=o.height(),a=t.find("p");o.children().each(function(){n-=$(this).outerHeight(!0)}),n=n+t.height()-20,a.each(function(){(e=$(this).outerHeight(!0))<n?n-=e:n?(i=Math.floor($(this).text().length*n/e),s=$(this).text().substring(0,i-5),$(this).text(s+"..."),n=0):$(this).css("display","none")})},$("div").is(".js-news-cut")&&($(".js-news-cut").each(function(){t.cutNews($(this))}),s.resize(function(){$(".js-news-cut").each(function(){t.cutNews($(this))})})),this.cutReadMoreSlider=function(){$(".gt-read-more-slider-text-inner").each(function(){t.cutting($(this),160)})},this.cutting=function(t,e){var i=t.text();i.length>e&&(i=i.slice(0,e)+"...",t.text(i))},$("p").is(".gt-read-more-slider-text-inner")&&t.cutReadMoreSlider(),i.ready(function(){t.footerHeight(),t.deskTopMenuScroll()}),this.pageUp=function(){return $("html, body").animate({scrollTop:0},800),!1},this.upPageButton=function(){$(document).scrollTop()>30?u.addClass("gt-visible"):u.removeClass("gt-visible")},u.on("click",t.pageUp),s.scroll(function(){t.upPageButton(),$(".gt-header-menu").is(":visible")&&t.deskTopMenuScroll()}),s.resize(function(){t.deskTopMenuScroll(),t.footerHeight(),l.hasClass("gt-open")&&t.mobileMenuClose(),$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){$(this).removeClass("gt-width"),$(this).removeClass("gt-height"),t.imgHolderFunc($(this))})}),$(window).on("load",function(){$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){t.imgHolderFunc($(this))})}),e.on("click",function(t){}),$("*").is(".gt-menu-news")&&$(".gt-menu-news").find("a").on("click",function(t){t.preventDefault(),$(".gt-menu-news").find("li").removeClass("gt-active"),$(this).parent().addClass("gt-active"),console.log("temp func")});var k=$("#gt-search-block"),y=$("#gt-search-block-input");$(".gt-open-search").each(function(){$(this).on("click",function(){t.openSearchBlock()})}),$("#gt-search-block-close").on("click",function(){t.closeSearchBlock()}),y.on("blur",function(){t.showCrossInSearchBlock()}),$("#gt-search-block-clear").on("click",function(){t.clearSearchBlockInput()}),this.openSearchBlock=function(){t.fixBody(),k.addClass("gt-open")},this.closeSearchBlock=function(){t.unfixBody(),t.clearSearchBlockInput(),k.removeClass("gt-open")},this.showCrossInSearchBlock=function(){$.trim(y.val())?y.hasClass("gt-dirty")||y.addClass("gt-dirty"):y.hasClass("gt-dirty")&&y.removeClass("gt-dirty")},this.clearSearchBlockInput=function(){y.val(""),console.log(y.val()),y.hasClass("gt-dirty")&&y.removeClass("gt-dirty")}},$(document).ready(function(){new GoToTrip});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJHb1RvVHJpcCIsInNlbGYiLCJ0aGlzIiwiYm9keSIsIiQiLCJkb2N1bWVudCIsImRvYyIsImRvY1dpbmRvdyIsIndpbmRvdyIsImJvZHlQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0b2tlbjM2MCIsInRva2VuNjY3IiwidG9rZW43NjgiLCJ0b2tlbjEwMjQiLCJndEhlYWRlciIsImd0Rm9vdGVyIiwiZ3RXcmFwcGVyIiwidXBCdXR0b24iLCJtb2JpbGVNZW51U3dpdGNoIiwiZW50ZXJCdXR0b24iLCJlbnRlcldyYXBwZXIiLCJlbnRlckZvcm0iLCJlbnRlckNob3NlIiwiZW50ZXJDbG9zZSIsIm5pY2VTY3JvbGwiLCJjdXJzb3Jib3JkZXIiLCJtb3VzZXNjcm9sbHN0ZXAiLCJib3VuY2VzY3JvbGwiLCJjdXJzb3Jjb2xvciIsImZpeEJvZHkiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJjc3MiLCJwb3NpdGlvbiIsInVuZml4Qm9keSIsImZvb3RlckhlaWdodCIsIm91dGVySGVpZ2h0IiwiaGVpZ2h0IiwiZGVza1RvcE1lbnVTY3JvbGwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaXMiLCJtb2JpbGVNZW51Q2xvc2UiLCJtb2JpbGVNZW51T3BlbiIsIm9uIiwiaGFzQ2xhc3MiLCJvcGVuRW50ZXJGb3JtIiwic2V0VGltZW91dCIsImNsb3NlRW50ZXJGb3JtIiwiY2xvc2VSZXN0b3JlUGFzcyIsImNoYW5nZUVudGVyUmVnaXN0cmF0aW9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJhdHRyIiwib3BlblJlc3RvcmVQYXNzIiwiZWFjaCIsImltZ0hvbGRlckZ1bmMiLCJlbCIsImhvbGRlckNvbnN0Iiwib3V0ZXJXaWR0aCIsImltZyIsImZpbmQiLCJsYXp5IiwicGxhY2Vob2xkZXIiLCJzY3JvbGxEaXJlY3Rpb24iLCJlZmZlY3QiLCJ2aXNpYmxlT25seSIsIm9uRXJyb3IiLCJlbGVtZW50IiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJzZXRCZyIsImJnIiwiY3VyclRva2VuIiwibmV3VG9rZW4iLCJyZXNpemVUaW1lciIsInJlc2l6ZSIsImNsZWFyVGltZW91dCIsImNyZWF0ZVNsaWRlciIsImN1cnJTbGlkZXIiLCJjcmVhdGVBcnJvd3MiLCJpbm5lckNvdW50Iiwic2NyZWVuQ29uc3QiLCJudW1Jbm5lciIsIm51bVBhbmVsIiwiaHRtbCIsIm9uZU1vdmVGdW5jdGlvbiIsInNob3dOdW0iLCJhcnJvd3NSZWFkeSIsImRlc3Ryb3lBcnJvd3MiLCJjbG9uZSIsIm9mZiIsImJ1bCIsIm51bSIsImRlbGV0ZWQiLCJjdXJyUG9zaXRpb24iLCJmYWRlIiwiZmFkZVNsaWRlck1vdmUiLCJ0cmFtIiwiY29udGFpbmVyIiwiY2hpbGRyZW4iLCJmaXJzdCIsImRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyIsImNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzIiwiYmFzZVdpZHRoIiwiYXBwZW5kIiwicmVtb3ZlIiwibGFzdCIsInByZXBlbmQiLCJ0cmFtU2xpZGVyTW92ZSIsImRvdHMiLCJhbGxEb3RzIiwiYW5pbWF0ZSIsInRyYW1BbmltYXRpb24iLCJlcSIsImluZGV4IiwiaW5uZXIiLCJ0ZXh0IiwiY3JlYXRlVG91Y2giLCJpbml0aWFsUG9pbnQiLCJmaW5hbFBvaW50IiwiZSIsIm9yaWdpbmFsRXZlbnQiLCJNYXRoIiwiYWJzIiwidG91Y2hlcyIsInBhZ2VYIiwiY2hhbmdlZFRvdWNoZXMiLCJkZXN0cm95VG91Y2giLCJmaW5kU2NyZWVuQ29uc3QiLCJwYXJzZUludCIsInNldEJhc2VXaWR0aCIsInNsaWRlclRpbWVPdXQiLCJsZW5ndGgiLCJhcnJvdyIsImhhc0Nsb25lIiwibmF2Iiwic3BhbnMiLCJpIiwiY3JlYXRlRG90cyIsImNsaWNrUG9zaXRpb24iLCJib2R5V3JhcHBlciIsInNob3ciLCJjbG9uZVNsaWRlciIsImhpZGUiLCJkZXN0cm95Q2xvbmVTbGlkZXIiLCJjcmVhdGVDbG9uZVNsaWRlciIsInBhcmVudCIsIm51bWJlckNvbGxlY3Rpb25BcnRpY2xlIiwiYWZ0ZXIiLCJtYW5hZ2VHdEFjdGl2ZVVsTWVudSIsInRhZ05hbWUiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiLCJzZXRQbGF5ZXJzIiwic2V0UG9wUGxheWVyIiwic2V0U3RhdGljUGxheWVyIiwiY3JlYXRlUG9wVmlkZW8iLCJpbml0aWFsaXplIiwicGxheWVyIiwibXV0ZSIsInBsYXlWaWRlbyIsIllUIiwiUGxheWVyIiwid2lkdGgiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsInBsYXlsaXN0IiwiY29sb3IiLCJsb29wIiwiYXV0b3BsYXkiLCJldmVudHMiLCJvblJlYWR5IiwiZGVzdHJveVBvcFZpZGVvIiwiZGVzdHJveSIsImFkZFlvdVR1YmUiLCJwbGF5RnVsbFNjcmVlbiIsInBhdXNlVmlkZW8iLCJpZnJhbWUiLCJyZXF1ZXN0RnVsbFNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4iLCJiaW5kIiwiZWxJZCIsInRhZyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwic3JjIiwibGFzdFNjcmlwdFRhZyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJmaXhBcnRpY2xlU2Nyb2xsVGFibGVQb3NpdGlvbiIsImN1cnJUYWJsZSIsInRhYmxlIiwidGFibGVQYXJlbnQiLCJ0YWJsZUhlaWdodCIsInRhYmxlUGFyZW50VG9wIiwidGFibGVQYXJlbnRCb3R0b20iLCJ0YWJsZVdpZHRoIiwid2luZG93VG9wIiwiY3JlYXRlQXJ0aWN0ZVNjcm9sbFRhYmxlIiwiYXJ0aWNsZXMiLCJzY3JvbGxUb0FydGljbGUiLCJzaG93QXJ0aWRsZVNoYWRvdyIsImVsSGVpZ2h0Iiwid2luZG93UG9zaXRpb24iLCJ4IiwiY3VyclNoYWRvdyIsInNjcm9sbFRocm90dGxlciIsInNjcm9sbCIsInNjcm9sbFRpbWVvdXQiLCJzaGFkb3ciLCJjaGVja1RhYmxlSGVpZ2h0IiwicmlnaHQiLCJzZXRDdXJyVGltZSIsImN1cnJUaW1lIiwic2V0SW50ZXJ2YWwiLCJkYXRlIiwiRGF0ZSIsInNldFVUQ0hvdXJzIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwid2Vla2RheSIsImdldERheSIsImRheSIsImdldERhdGUiLCJtb250aCIsImdldE1vbnRoIiwieWVhciIsImdldEZ1bGxZZWFyIiwiY3Vyc29yb3BhY2l0eW1pbiIsImN1cnNvcm9wYWNpdHltYXgiLCJjdXJzb3J3aWR0aCIsImJhY2tncm91bmQiLCJyYWlsb2Zmc2V0IiwiemluZGV4IiwidGFiU2xpZGVyIiwiY3VyclRhYnMiLCJ0YWJTbGlkZXJBY3Rpb24iLCJpbml0IiwiYnV0dG9ucyIsIm1haW4iLCJjb2x1bW5QYXJ0bmVyc2hpcCIsInJvd1BhcnRuZXJzaGlwIiwiY3JlYXRlU2VsZWN0V3JhcHBlciIsImN1cnJTZWxlY3QiLCJzZWxlY3RPcHRpb24iLCJzZWxlY3RPcHRpb25MZW5ndGgiLCJzZWxlY3RlZE9wdGlvbiIsImZpbHRlciIsInVuZGVmaW5lZCIsIndyYXAiLCJjbGFzcyIsImluc2VydEFmdGVyIiwic2VsZWN0R2FwIiwibmV4dCIsInNlbGVjdExpc3QiLCJ2YWwiLCJhcHBlbmRUbyIsInNlbGVjdEl0ZW0iLCJzbGlkZVVwIiwic2xpZGVEb3duIiwiY2hvb3NlSXRlbSIsImluaXRUb3BDYXJkcyIsInRvcEJsb2NrIiwiY2FyZHMiLCJjbG9zZVNoYXJlVmlld0NhcmQiLCJzdG9wUHJvcGFnYXRpb24iLCJjbGlja1Zpc2l0Vmlld0NhcmQiLCJjbGlja1NlZW5WaWV3Q2FyZCIsImNsaWNrTWFya1ZpZXdDYXJkIiwiZXZlbnRnIiwiY2xpY2tTaGFyZVZpZXdDYXJkIiwidmlld0NhcmRTb2NpYWwiLCJvcGVuU2hhcmVWaWV3Q2FyZCIsImJ1dHRvbiIsInNvY2lhbEVudGVyIiwic29jaWFsUmVnaXN0cmF0aW9uIiwidG9rZW4iLCJhbGVydCIsImN1dE5ld3MiLCJjdXJySGVpZ2h0IiwiY3V0dGluZ0xlbmdodCIsIm5ld1RleHQiLCJtYXhIZWlnaHQiLCJjdXR0aW5nRWwiLCJmbG9vciIsInN1YnN0cmluZyIsImN1dFJlYWRNb3JlU2xpZGVyIiwiY3V0dGluZyIsIm5ld3NUZXh0Iiwic2xpY2UiLCJyZWFkeSIsInBhZ2VVcCIsInVwUGFnZUJ1dHRvbiIsInNlYXJjaEJsb2NrIiwic2VhcmNoQmxvY2tJbnB1dCIsIm9wZW5TZWFyY2hCbG9jayIsImNsb3NlU2VhcmNoQmxvY2siLCJzaG93Q3Jvc3NJblNlYXJjaEJsb2NrIiwiY2xlYXJTZWFyY2hCbG9ja0lucHV0IiwidHJpbSJdLCJtYXBwaW5ncyI6IkFBS0FBLFNBQVcsV0FFUCxJQUFJQyxFQUFPQyxLQUNQQyxFQUFPQyxFQUFFQyxTQUFTRixNQUNsQkcsRUFBTUYsRUFBRUMsVUFDUkUsRUFBWUgsRUFBRUksUUFDZEMsR0FDSUMsS0FBSyxFQUNMQyxNQUFNLEdBRVZDLEVBQVdSLEVBQUUsY0FFYlMsR0FEV1QsRUFBRSxjQUNGQSxFQUFFLGVBQ2JVLEVBQVdWLEVBQUUsY0FDYlcsRUFBWVgsRUFBRSxlQUVkWSxHQURZWixFQUFFLGVBQ0hBLEVBQUUsV0FDYmEsRUFBV2IsRUFBRSxVQUNiYyxFQUFZZCxFQUFFLGVBQ2RlLEVBQVdmLEVBQUUsVUFDYmdCLEVBQW1CaEIsRUFBRSwwQkFDckJpQixFQUFjakIsRUFBRSxhQUNoQmtCLEVBQWVsQixFQUFFLDRCQUNqQm1CLEVBQVluQixFQUFFLG9CQUNkb0IsRUFBYXBCLEVBQUUsMEJBQ2ZxQixFQUFhckIsRUFBRSwwQkFtckJuQixHQWxyQkFBLEVBQUUsUUFBUXNCLFlBQ05DLGFBQWMsb0JBQ2RDLGdCQUFpQixLQUNqQkMsY0FBYyxFQUNkQyxZQUFhLFlBSWpCNUIsS0FBSzZCLFFBQVUsV0FDUHRCLEVBQWFDLEtBQU9ELEVBQWFFLE9BQ3JDRixFQUFhQyxJQUFNSixFQUFJMEIsWUFDdkJ2QixFQUFhRSxLQUFPUixFQUFLOEIsU0FBU3RCLEtBQ2xDUixFQUFLK0IsS0FDREMsU0FBVSxRQUNWeEIsS0FBTUYsRUFBYUUsS0FBTyxLQUMxQkQsS0FBTSxFQUFJRCxFQUFh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anMiLCJzb3VyY2VzQ29udGVudCI6WyIvL9GE0YPQvdC60YbQuNGPLCDQvtC/0YDQtdC00LXQu9GP0Y7RidCw0Y8g0LfQsNGA0LXQs9C40YHRgtCy0LjRgNC+0LLQsNC90L3Ri9C5INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQuNC70Lgg0L3QtdGCXHJcblxyXG4vLyDQv9GA0LXQtNGD0YHQvNC+0YLRgNC10YLRjCDQstGL0YXQvtC0INC40Lcg0LDQutC60LDRg9C90YLQsFxyXG5cclxuXHJcbkdvVG9UcmlwID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBib2R5ID0gJChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICBkb2MgPSAkKGRvY3VtZW50KSxcclxuICAgICAgICBkb2NXaW5kb3cgPSAkKHdpbmRvdyksXHJcbiAgICAgICAgYm9keVBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB0b3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBsZWZ0OiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9rZW4zNjAgPSAkKFwiI2d0LWlzLTM2MFwiKSxcclxuICAgICAgICB0b2tlbjQ4MCA9ICQoXCIjZ3QtaXMtNDgwXCIpLFxyXG4gICAgICAgIHRva2VuNjY3ID0gJChcIiNndC1pcy02NjdcIiksXHJcbiAgICAgICAgdG9rZW43NjggPSAkKFwiI2d0LWlzLTc2OFwiKSxcclxuICAgICAgICB0b2tlbjEwMjQgPSAkKFwiI2d0LWlzLTEwMjRcIiksXHJcbiAgICAgICAgdG9rZW4xMjMxID0gJChcIiNndC1pcy0xMjMxXCIpLFxyXG4gICAgICAgIGd0SGVhZGVyID0gJChcImhlYWRlclwiKSxcclxuICAgICAgICBndEZvb3RlciA9ICQoXCJmb290ZXJcIiksXHJcbiAgICAgICAgZ3RXcmFwcGVyID0gJChcIiNndC13cmFwcGVyXCIpLFxyXG4gICAgICAgIHVwQnV0dG9uID0gJChcIiNndC11cFwiKSxcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoID0gJChcIiNndC1tb2JpbGUtbWVudS1zd2l0Y2hcIiksXHJcbiAgICAgICAgZW50ZXJCdXR0b24gPSAkKCcuZ3QtZW50ZXInKSxcclxuICAgICAgICBlbnRlcldyYXBwZXIgPSAkKCcjZ3QtaGVhZGVyLWVudGVyLXdyYXBwZXInKSxcclxuICAgICAgICBlbnRlckZvcm0gPSAkKCcjZ3QtaGVhZGVyLWVudGVyJyksXHJcbiAgICAgICAgZW50ZXJDaG9zZSA9ICQoJyNndC1oZWFkZXItZW50ZXItY2hvc2UnKSxcclxuICAgICAgICBlbnRlckNsb3NlID0gJCgnI2d0LWhlYWRlci1lbnRlci1jbG9zZScpO1xyXG4gICAgJChcImh0bWxcIikubmljZVNjcm9sbCh7XHJcbiAgICAgICAgY3Vyc29yYm9yZGVyOiAnMXB4IHNvbGlkICM2ZDZkNmQnLFxyXG4gICAgICAgIG1vdXNlc2Nyb2xsc3RlcDogJzYwJyxcclxuICAgICAgICBib3VuY2VzY3JvbGw6IHRydWUsXHJcbiAgICAgICAgY3Vyc29yY29sb3I6ICcjNmQ2ZDZkJ1xyXG4gICAgfSlcclxuXHJcblxyXG4gICAgdGhpcy5maXhCb2R5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChib2R5UG9zaXRpb24udG9wIHx8IGJvZHlQb3NpdGlvbi5sZWZ0KSByZXR1cm47XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLnRvcCA9IGRvYy5zY3JvbGxUb3AoKTtcclxuICAgICAgICBib2R5UG9zaXRpb24ubGVmdCA9IGJvZHkub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICBib2R5LmNzcyh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgIGxlZnQ6IGJvZHlQb3NpdGlvbi5sZWZ0ICsgXCJweFwiLFxyXG4gICAgICAgICAgICB0b3A6IC0xICogYm9keVBvc2l0aW9uLnRvcCArIFwicHhcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy51bmZpeEJvZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYm9keS5jc3Moe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJcIixcclxuICAgICAgICAgICAgbGVmdDogXCJcIixcclxuICAgICAgICAgICAgdG9wOiBcIlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jLnNjcm9sbFRvcChib2R5UG9zaXRpb24udG9wKTtcclxuICAgICAgICBib2R5UG9zaXRpb24udG9wID0gZmFsc2U7XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLmxlZnQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb290ZXJIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvb3RlckhlaWdodCA9IGd0Rm9vdGVyLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgaWYgKGZvb3RlckhlaWdodCA+IGRvY1dpbmRvdy5oZWlnaHQoKSAtIDUwKSB7XHJcbiAgICAgICAgICAgIGd0Rm9vdGVyLmNzcyhcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xyXG4gICAgICAgICAgICBndFdyYXBwZXIuY3NzKFwibWFyZ2luLWJvdHRvbVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgdXBCdXR0b24uY3NzKFwicG9zaXRpb25cIiwgXCJzdGF0aWNcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ3RGb290ZXIuY3NzKFwicG9zaXRpb25cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmNzcyhcInBvc2l0aW9uXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICBndFdyYXBwZXIuY3NzKFwibWFyZ2luLWJvdHRvbVwiLCBndEZvb3Rlci5vdXRlckhlaWdodCgpICsgXCJweFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5kZXNrVG9wTWVudVNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jV2luZG93LnNjcm9sbFRvcCgpID4gZ3RIZWFkZXIub3V0ZXJIZWlnaHQoKSkge1xyXG4gICAgICAgICAgICBndEhlYWRlci5hZGRDbGFzcyhcImd0LWhlYWRlci1zY3JvbGxlZFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBndEhlYWRlci5yZW1vdmVDbGFzcyhcImd0LWhlYWRlci1zY3JvbGxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC10b3AtcGxhbmVcIikpIHtcclxuICAgICAgICAkKCcuZ3QtaGVhZGVyJykuYWRkQ2xhc3MoJ2d0LWhlYWRlci1wbGFuZS10b3AnKVxyXG4gICAgfTtcclxuXHJcbiAgICBcclxuICAgIHRoaXMubW9iaWxlTWVudUNsb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYudW5maXhCb2R5KCk7XHJcbiAgICAgICAgbW9iaWxlTWVudVN3aXRjaC5yZW1vdmVDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICAgICAgZ3RIZWFkZXIucmVtb3ZlQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5tb2JpbGVNZW51T3BlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmZpeEJvZHkoKTtcclxuICAgICAgICBndEhlYWRlci5hZGRDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICAgICAgbW9iaWxlTWVudVN3aXRjaC5hZGRDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgbW9iaWxlTWVudVN3aXRjaC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImd0LW9wZW5cIikpIHtcclxuICAgICAgICAgICAgc2VsZi5tb2JpbGVNZW51Q2xvc2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZU1lbnVPcGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9wZW5FbnRlckZvcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZW50ZXJXcmFwcGVyLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgc2V0VGltZW91dChzaG93KTtcclxuICAgICAgICBmdW5jdGlvbiBzaG93KCkge1xyXG4gICAgICAgICAgICAkKCcjZ3QtaGVhZGVyLXJlZ2lzdGVyZWQnKS5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgICAgICBlbnRlckZvcm0uYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAgICAgZW50ZXJDbG9zZS5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuY2xvc2VFbnRlckZvcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZW50ZXJDbG9zZS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIGVudGVyRm9ybS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgICQoJyNndC1oZWFkZXItcmVnaXN0ZXJlZCcpLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgc2VsZi5jbG9zZVJlc3RvcmVQYXNzKCk7XHJcbiAgICAgICAgc2V0VGltZW91dChoaWRlLCA3NTApO1xyXG4gICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XHJcbiAgICAgICAgICAgIGVudGVyV3JhcHBlci5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuY2hhbmdlRW50ZXJSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZW50ZXJGb3JtLmhhc0NsYXNzKCQoZXZlbnQudGFyZ2V0KS5hdHRyKFwiY2xhc3NcIikpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZW50ZXJGb3JtLnJlbW92ZUNsYXNzKFwiZ3QtY2hvc2VuLWVudGVyXCIpLnJlbW92ZUNsYXNzKFwiZ3QtY2hvc2VuLXJlZ2lzdHJhdGlvblwiKS5hZGRDbGFzcygkKGV2ZW50LnRhcmdldCkuYXR0cihcImNsYXNzXCIpKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5vcGVuUmVzdG9yZVBhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnI2d0LWVudGVyLXBhc3MtcmVzdG9yZS13cmFwcGVyJykuYWRkQ2xhc3MoJ2d0LW9wZW4nKVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgdGhpcy5jbG9zZVJlc3RvcmVQYXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJyNndC1lbnRlci1wYXNzLXJlc3RvcmUtd3JhcHBlcicpLnJlbW92ZUNsYXNzKCdndC1vcGVuJylcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgZW50ZXJCdXR0b24uZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCBzZWxmLm9wZW5FbnRlckZvcm0pXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgZW50ZXJDbG9zZS5vbignY2xpY2snLCBzZWxmLmNsb3NlRW50ZXJGb3JtKTtcclxuICAgIFxyXG4gICAgZW50ZXJDaG9zZS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBzZWxmLmNoYW5nZUVudGVyUmVnaXN0cmF0aW9uKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS1yZXN0b3JlLXBhc3MnKS5vbignY2xpY2snLHNlbGYub3BlblJlc3RvcmVQYXNzKTtcclxuICAgICQoJyNndC1lbnRlci1wYXNzLXJlc3RvcmUtc3VibWl0Jykub24oJ2NsaWNrJyxzZWxmLmNsb3NlUmVzdG9yZVBhc3MpO1xyXG5cclxuICAgIHRoaXMuaW1nSG9sZGVyRnVuYyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3Qtd2lkdGhcIik7XHJcbiAgICAgICAgJChlbCkucmVtb3ZlQ2xhc3MoXCJndC1oZWlnaHRcIik7XHJcbiAgICAgICAgJChlbCkucmVtb3ZlQ2xhc3MoXCJndC12aXNpYmxlXCIpO1xyXG4gICAgICAgIHZhciBob2xkZXJDb25zdCA9IGVsLm91dGVySGVpZ2h0KCkgLyBlbC5vdXRlcldpZHRoKCksXHJcbiAgICAgICAgICAgIGltZyA9IGVsLmZpbmQoJ2ltZycpLFxyXG4gICAgICAgICAgICBpbWdDb25zdCA9IGltZy5vdXRlckhlaWdodCgpIC8gaW1nLm91dGVyV2lkdGgoKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChpbWdDb25zdCA+IGhvbGRlckNvbnN0KSB7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3Qtd2lkdGhcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LWhlaWdodFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW1nLmxhenkoe1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFQUxBUFFBUHpsNXVMcjlOcmw4ZTcuLi5cIixcclxuICAgICAgICAgICAgc2Nyb2xsRGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICAgICAgICBlZmZlY3Q6ICdmYWRlSW4nLFxyXG4gICAgICAgICAgICB2aXNpYmxlT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBsb2FkaW5nICcgKyBlbGVtZW50LmRhdGEoJ3NyYycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLnNldEJnID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgdmFyIGJnLFxyXG4gICAgICAgICAgICBjdXJyVG9rZW4sXHJcbiAgICAgICAgICAgIG5ld1Rva2VuLFxyXG4gICAgICAgICAgICByZXNpemVUaW1lcjtcclxuICAgICAgICBzZXRCZygpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QmcoKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbjY2Ny5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBiZyA9IGVsLmF0dHIoXCJkYXRhLXNyYy1waG9uZVwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJUb2tlbiA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4xMDI0LmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgIGJnID0gZWwuYXR0cihcImRhdGEtc3JjLXRhYmxldFwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJUb2tlbiA9IDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiZyA9IGVsLmF0dHIoXCJkYXRhLXNyYy1kZXNjdG9wXCIpO1xyXG4gICAgICAgICAgICAgICAgY3VyclRva2VuID0gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbC5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsKCcuL2ltZy9iZ3MvXCIgKyBiZyArIFwiJ1wiKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVyKTtcclxuICAgICAgICAgICAgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuNjY3LmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdUb2tlbiA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuMTAyNC5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW4gPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdUb2tlbiA9IDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3VG9rZW4gPiBjdXJyVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRCZygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAyNTApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICAvLyB0b2RvIHJlc2l6ZSBUaW1lT3V0O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKCdkaXYnKS5pcygnLmd0LWJncy1ob2xkZXInKSkge1xyXG4gICAgXHJcbiAgICAgICAgJCgnLmd0LWJncy1ob2xkZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5zZXRCZygkKHRoaXMpKTtcclxuICAgICAgICB9KVxyXG4gICAgXHJcbiAgICB9XHJcbiAgICBzZWxmLnNldEJnKCQoJyNndC1mb290ZXInKSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVTbGlkZXIgPSBmdW5jdGlvbiAoY3VyclNsaWRlciwgcG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgc2xpZGVyVGltZU91dCxcclxuICAgICAgICAgICAgc2NyZWVuQ29uc3QgPSAxLFxyXG4gICAgICAgICAgICBiYXNlV2lkdGgsXHJcbiAgICAgICAgICAgIGFycm93c1JlYWR5ID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGlubmVyID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1pbm5lclwiKSxcclxuICAgICAgICAgICAgY29udGFpbmVyID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1jb250YWluZXJcIiksXHJcbiAgICAgICAgICAgIGlubmVyQ291bnQgPSBpbm5lci5sZW5ndGgsXHJcbiAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IHBvc2l0aW9uIHx8IDAsXHJcbiAgICAgICAgICAgIGFycm93ID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtYXJyb3dcIiksXHJcbiAgICAgICAgICAgIGRvdHMgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWhhcy1kb3RzXCIpLFxyXG4gICAgICAgICAgICBudW1QYW5lbCA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItbnVtXCIpLFxyXG4gICAgICAgICAgICB0cmFtID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci10cmFtXCIpLFxyXG4gICAgICAgICAgICB0cmFtQW5pbWF0aW9uID0gK2N1cnJTbGlkZXIuYXR0cignZGF0YS1kdXJhdGlvbicpIHx8IDMwMCxcclxuICAgICAgICAgICAgZmFkZSA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItZmFkZVwiKSxcclxuICAgICAgICAgICAgaGFzQ2xvbmUgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWhhcy1jbG9uZVwiKTtcclxuICAgICAgICBpZiAoZmFkZSkge1xyXG4gICAgICAgICAgICBmYWRlU2xpZGVyTW92ZShwb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0cmFtKSB7XHJcbiAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICBzZXRCYXNlV2lkdGgoKTtcclxuICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFycm93KSB7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICBjcmVhdGVBcnJvd3MoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvdHMpIHtcclxuICAgICAgICAgICAgY3JlYXRlRG90cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVRvdWNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoYXNDbG9uZSkge1xyXG4gICAgICAgICAgICBjcmVhdGVDbG9uZUxpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lTGlzdGVuZXJzKCkge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoJy5ndC1zbGlkZXItaW5uZXItY292ZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNsb25lU2xpZGVyKCQodGhpcykucGFyZW50KCkuaW5kZXgoKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQXJyb3dzKCkge1xyXG4gICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtSW5uZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChudW1QYW5lbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG51bUlubmVyID0gJzxkaXYgY2xhc3M9XCJndC1zbGlkZXItYXJyb3ctbnVtXCI+PGkgY2xhc3M9XCJndC1zbGlkZXItbnVtLWN1cnJcIj48L2k+PGk+0LjQtzwvaT48aSBjbGFzcz1cImd0LXNsaWRlci1udW0tbWF4XCI+PC9pPjwvZGl2PidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItYXJyb3ctaG9sZGVyXCIpLmh0bWwoXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzID0gXCJndC1zbGlkZXItYXJyb3cgbGVmdFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiICsgbnVtSW5uZXIgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWFycm93IHJpZ2h0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3NwYW4+XCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBcnJvd3NMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHNob3dOdW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveUFycm93cyhjbG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBjbG9uZSB8fCBjdXJyU2xpZGVyO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmxlZnRcIikub2ZmKCk7XHJcbiAgICAgICAgICAgIGVsLmZpbmQoXCIucmlnaHRcIikub2ZmKCk7XHJcbiAgICAgICAgICAgIGVsLmZpbmQoXCIuZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiKS5odG1sKFwiXCIpO1xyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFycm93c0xpc3RlbmVycygpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLmxlZnRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLnJpZ2h0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKG51bVBhbmVsKSBzaG93TnVtKClcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEb3RzKCkge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmFwcGVuZCgnPGRpdiBjbGFzcz1cImd0LXNsaWRlci1uYXZcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgdmFyIG5hdiA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItbmF2XCIpLFxyXG4gICAgICAgICAgICAgICAgc3BhbnMgPSBcIlwiO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlubmVyQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3BhbnMgKz0gXCI8c3BhbiBkYXRhLW51bSA9IFwiICsgaSArIFwiPjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuYXYuaHRtbChzcGFucyk7XHJcbiAgICAgICAgICAgIG5hdi5maW5kKFwic3BhblwiKS5maXJzdCgpLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLW5hdiBzcGFuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKHRydWUsICskKHRoaXMpLmF0dHIoXCJkYXRhLW51bVwiKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uZU1vdmVGdW5jdGlvbihidWwsIG51bSkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmUsZGVsZXRlZDtcclxuICAgICAgICAgICAgaWYgKG51bSB8fCBudW0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IG51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGJ1bCkge1xyXG4gICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24tLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKGZhZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmFkZVNsaWRlck1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0cmFtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSAgY29udGFpbmVyLmNoaWxkcmVuKCkuZmlyc3QoKS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQgPSBjb250YWluZXIuY2hpbGRyZW4oKS5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnJTbGlkZXIuaGFzQ2xhc3MoJ2d0LXZpZXctY2FyZHMtc2xpZGVyJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyhkZWxldGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoJ2xlZnQnLCAoLShjdXJyUG9zaXRpb24gLSAyKSAqIGJhc2VXaWR0aCkgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbi0tO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lID0gY29udGFpbmVyLmNoaWxkcmVuKCkubGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQgPSBjb250YWluZXIuY2hpbGRyZW4oKS5sYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyclNsaWRlci5oYXNDbGFzcygnZ3Qtdmlldy1jYXJkcy1zbGlkZXInKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveVZpZXdDYXJkTGlzdGVuZXJzKGRlbGV0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzKGNsb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNzcygnbGVmdCcsICgtKGN1cnJQb3NpdGlvbiArIDIpICogYmFzZVdpZHRoKSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wcmVwZW5kKGNsb25lLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFtU2xpZGVyTW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAobnVtUGFuZWwpIHNob3dOdW0oKTtcclxuICAgICAgICAgICAgaWYgKGRvdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbGxEb3RzID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1uYXYgc3BhblwiKTtcclxuICAgICAgICAgICAgICAgIGFsbERvdHMucmVtb3ZlQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAkKGFsbERvdHNbY29udGFpbmVyLmZpbmQoJy5ndC1vcGVuJykuYXR0cignZGF0YS1jb3VudCcpXSkuYWRkQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gdHJhbVNsaWRlck1vdmUoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hbmltYXRlKHtsZWZ0OiAtY3VyclBvc2l0aW9uICogYmFzZVdpZHRofSwgdHJhbUFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbigpLmVxKGN1cnJQb3NpdGlvbikuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZhZGVTbGlkZXJNb3ZlKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBvc2l0aW9uIHx8IGN1cnJQb3NpdGlvbjtcclxuICAgICAgICAgICAgJChpbm5lcikucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAgICAgJChpbm5lcltpbmRleF0pLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd051bSgpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLW51bS1jdXJyJykudGV4dCgrKGNvbnRhaW5lci5maW5kKCcuZ3Qtb3BlbicpLmF0dHIoJ2RhdGEtY291bnQnKSkgKyAxKTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLW51bS1tYXgnKS50ZXh0KGlubmVyQ291bnQpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRvdWNoKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5pdGlhbFBvaW50ID0gMCxcclxuICAgICAgICAgICAgICAgIGZpbmFsUG9pbnQgPSAwO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLm9uKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxQb2ludCA9IE1hdGguYWJzKGUudG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInRvdWNoc3RhcnRcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLm9uKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBmaW5hbFBvaW50ID0gTWF0aC5hYnMoZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5pdGlhbFBvaW50IC0gZmluYWxQb2ludCkgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsUG9pbnQgPiBmaW5hbFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveVRvdWNoKGNsb25lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IGNsb25lIHx8IGN1cnJTbGlkZXI7XHJcbiAgICAgICAgICAgIGVsLm9mZigpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbmRTY3JlZW5Db25zdCgpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJTbGlkZXIuYXR0cihcImRhdGEtY291bnRcIikpIHtcclxuICAgICAgICAgICAgICAgIHNjcmVlbkNvbnN0ID0gcGFyc2VJbnQoY3VyclNsaWRlci5hdHRyKFwiZGF0YS1jb3VudFwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0b2tlbjc2OCkuaXMoXCI6dmlzaWJsZVwiKSkgc2NyZWVuQ29uc3QgPSAzO1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodG9rZW42NjcpLmlzKFwiOnZpc2libGVcIikpIHNjcmVlbkNvbnN0ID0gMjtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRva2VuMzYwKS5pcyhcIjp2aXNpYmxlXCIpKSBzY3JlZW5Db25zdCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBzZXRCYXNlV2lkdGgoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRCYXNlV2lkdGgnKVxyXG4gICAgICAgICAgICBiYXNlV2lkdGggPSBjdXJyU2xpZGVyLm91dGVyV2lkdGgoKSAvIHNjcmVlbkNvbnN0O1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLWNvbnRhaW5lclwiKS5vdXRlcldpZHRoKChpbm5lckNvdW50ICsgMSkgKiBiYXNlV2lkdGgpO1xyXG4gICAgICAgICAgICBpbm5lci5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub3V0ZXJXaWR0aChiYXNlV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNvdW50JywgJCh0aGlzKS5pbmRleCgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVTbGlkZXIoY2xpY2tQb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIiNndC1jbG9uZVwiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBzZWxmLmZpeEJvZHkoKTtcclxuICAgICAgICAgICAgdmFyIGJvZHlXcmFwcGVyID0gJChcIiNndC1ib2R5LXdyYXBwZXJcIik7XHJcbiAgICAgICAgICAgIGJvZHlXcmFwcGVyLmFwcGVuZCgnPGRpdiBpZCA9IFwiZ3QtY2xvbmUtd3JhcHBlclwiICAgY2xhc3M9XCJjb250YWluZXJcIj48ZGl2IGlkID0gXCJndC1jbG9uZVwiIGNsYXNzPVwiZ3Qtc2xpZGVyIGd0LXNsaWRlci1jbG9uZSBndC1zbGlkZXItZmFkZSBndC1zbGlkZXItbnVtICBndC1zbGlkZXItaGFzLWFycm93XCI+PGRpdiBpZCA9IFwiZ3QtY2xvbmUtY2xvc2VcIiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWNsb25lLWNsb3NlXCI+PC9kaXY+PGRpdiAgaWQgPSBcImd0LWNsb25lLWNvbnRhaW5lclwiIGNsYXNzPVwiZ3Qtc2xpZGVyLWNvbnRhaW5lclwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG4gICAgICAgICAgICBib2R5V3JhcHBlci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZVNsaWRlciA9ICQoJyNndC1jbG9uZScpLFxyXG4gICAgICAgICAgICAgICAgaW5uZXJzID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1pbm5lclwiKS5jbG9uZSh0cnVlKTtcclxuICAgICAgICAgICAgaW5uZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vdXRlcldpZHRoKCcnKTtcclxuICAgICAgICAgICAgICAgICQoJyNndC1jbG9uZS1jb250YWluZXInKS5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVNsaWRlcihjbG9uZVNsaWRlciwgY2xpY2tQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtY2xvc2VcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95Q2xvbmVTbGlkZXIoY2xvbmVTbGlkZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95Q2xvbmVTbGlkZXIoY2xvbmVTbGlkZXIpIHtcclxuICAgICAgICAgICAgZGVzdHJveUFycm93cyhjbG9uZVNsaWRlcik7XHJcbiAgICAgICAgICAgIGRlc3Ryb3lUb3VjaChjbG9uZVNsaWRlcik7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtY2xvc2VcIikub2ZmKCk7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtd3JhcHBlclwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJChcIiNndC1ib2R5LXdyYXBwZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnVuZml4Qm9keSgpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vLy8vLy8vLy9yZXNpemVTbGlkZXJcclxuICAgICAgICBmdW5jdGlvbiByZXNpemVTbGlkZXIoKSB7XHJcbiAgICAgICAgICAgIGlmICghc2xpZGVyVGltZU91dCkge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVyVGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlclRpbWVPdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZUZ1bmMoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEzMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBkb2NXaW5kb3cucmVzaXplKHJlc2l6ZVNsaWRlcik7XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiByZXNpemVGdW5jKCkge1xyXG4gICAgICAgICAgICBkZXN0cm95VG91Y2goKTtcclxuICAgICAgICAgICAgaWYgKHRyYW0pIHtcclxuICAgICAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICAgICAgc2V0QmFzZVdpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICByZXNpemVNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB0cmFtU2xpZGVyTW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJvd3NSZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUFycm93cygpO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQXJyb3dzKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVUb3VjaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZU1vdmUoKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3QpXHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3Q7XHJcbiAgICAgICAgICAgIGlmIChpbm5lckNvdW50IDw9IHNjcmVlbkNvbnN0KSBjdXJyUG9zaXRpb24gPSAwO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1zbGlkZXJcIikpIHtcclxuICAgICAgICAkKFwiLmd0LXNsaWRlclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5jcmVhdGVTbGlkZXIoJCh0aGlzKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLm51bWJlckNvbGxlY3Rpb25BcnRpY2xlID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwuZmluZChcIi5ndC1jb2xsZWN0aW9uLWxpbmstd3JhcHBlclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuZ3QtY29sbGVjdGlvbi1saW5rLXNsaWRlci13cmFwcGVyJykuYWZ0ZXIoJzxkaXYgY2xhc3MgPSBcImd0LWNvbGxlY3Rpb24tbGluay1udW1iZXJcIj48c3Bhbj4nICsgKCQodGhpcykuaW5kZXgoKSArIDEpICsgJzwvc3Bhbj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKHRoaXMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1jb2xsZWN0aW9uLXdyYXBwZXItbnVtXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1jb2xsZWN0aW9uLXdyYXBwZXItbnVtXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLm51bWJlckNvbGxlY3Rpb25BcnRpY2xlKCQodGhpcykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tYW5hZ2VHdEFjdGl2ZVVsTWVudSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmIChlbC50YWdOYW1lICE9IFwibGlcIilcclxuICAgICAgICAgICAgZWwgPSAkKGVsKS5jbG9zZXN0KFwibGlcIik7XHJcbiAgICBcclxuICAgICAgICAkKGVsKS5jbG9zZXN0KCQoXCJ1bFwiKSkuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy9cclxuICAgIC8vIGlmICgkKFwiKlwiKS5pcyhcIi5ndC1odW5kcmVkLW1lbnVcIikpIHtcclxuICAgIC8vICAgICAkKFwiLmd0LWh1bmRyZWQtbWVudVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgLy8gICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gICAgICAgICBzZWxmLm1hbmFnZUd0QWN0aXZlVWxNZW51KGV2ZW50LnRhcmdldCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiLmd0LWJ1dHRvbi1tZW51XCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1idXR0b24tbWVudVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzZWxmLm1hbmFnZUd0QWN0aXZlVWxNZW51KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC1tZW51LW5ld3NfaXRlbXNcIikpIHtcclxuICAgICAgICAkKFwiLmd0LW1lbnUtbmV3c19pdGVtc1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzZWxmLm1hbmFnZUd0QWN0aXZlVWxNZW51KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRQbGF5ZXJzID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICBcclxuICAgICAgICBpZiAoZWwuaGFzQ2xhc3MoJ2d0LXZpZGVvLXBvcCcpKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0UG9wUGxheWVyKGVsKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0U3RhdGljUGxheWVyKGVsKVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuc2V0UG9wUGxheWVyID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwuZmluZChcIi5ndC12aWRlby1zd2l0Y2hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZml4Qm9keSgpO1xyXG4gICAgICAgICAgICB2YXIgYm9keVdyYXBwZXIgPSAkKFwiI2d0LWJvZHktd3JhcHBlclwiKTtcclxuICAgICAgICAgICAgYm9keVdyYXBwZXIuYXBwZW5kKCcnICtcclxuICAgICAgICAgICAgICAgICc8ZGl2IGlkID0gXCJndC15b3V0dWJlLXdyYXBwZXJcIiAgIGNsYXNzPVwiZ3QteW91dHViZS13cmFwcGVyIGNvbnRhaW5lciB0ZXN0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBpZCA9IFwiZ3QteW91dHViZS1jbG9zZVwiIGNsYXNzID0gXCJndC1zbGlkZXItY2xvbmUtY2xvc2VcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICc8ZGl2IGlkID0gXCJndC15b3V0dWJlXCIgY2xhc3M9XCJndC15b3V0dWJlIHRlc3QxXCI+PC9kaXY+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlUG9wVmlkZW8oZWwpO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgYm9keVdyYXBwZXIuc2hvdygpO1xyXG4gICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNyZWF0ZVBvcFZpZGVvID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgdmFyIHBsYXllcjtcclxuICAgICAgICBmdW5jdGlvbiBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpIHtcclxuICAgICAgICAgICAgcGxheWVyID0gbmV3IFlULlBsYXllcignZ3QteW91dHViZScsIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWxpc3Q6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWtiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogaW5pdGlhbGl6ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICAgICAgcGxheWVyLm11dGUoKTtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAkKCcjZ3QteW91dHViZS1jbG9zZScpLm9uKCdjbGljaycsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmRlc3Ryb3lQb3BWaWRlbyhwbGF5ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmRlc3Ryb3lQb3BWaWRlbyA9IGZ1bmN0aW9uIChwbGF5ZXIpIHtcclxuICAgICAgICAkKCcjZ3QteW91dHViZS1jbG9zZScpLm9mZigpO1xyXG4gICAgICAgICQoJyNndC15b3V0dWJlLXdyYXBwZXInKS5yZW1vdmUoKTtcclxuICAgICAgICBwbGF5ZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICQoXCIjZ3QtYm9keS13cmFwcGVyXCIpLmhpZGUoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuc2V0U3RhdGljUGxheWVyID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwuZmluZChcIi5ndC12aWRlby1zd2l0Y2hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICAgICAgICAgIHNlbGYuYWRkWW91VHViZShlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuYWRkWW91VHViZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBwbGF5ZXIsXHJcbiAgICAgICAgICAgIGVsSWQgPSBcImd0LXZpZGVvLVwiICsgZWwuaW5kZXgoKTtcclxuICAgIFxyXG4gICAgICAgIGVsLmZpbmQoXCIuZ3QtdmlkZW8tc3dpdGNoXCIpLmhpZGUoJ3Nsb3cnKTtcclxuICAgIFxyXG4gICAgICAgIGVsXHJcbiAgICAgICAgICAgIC5maW5kKFwiLmd0LXZpZGVvLWlubmVyXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgZWxJZClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiZ3QtdmlkZW8tZm9yZWdyb3VuZFwiKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKGVsSWQsIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWxpc3Q6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWtiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogaW5pdGlhbGl6ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICAgICAgcGxheWVyLm11dGUoKTtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcyhcImd0LXZpZGVvLW9uXCIpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXVuY292ZXJcIikub24oJ2NsaWNrJywgcGxheUZ1bGxTY3JlZW4pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBhdXNlXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlGdWxsU2NyZWVuKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncGxheUZ1bGxTY3JlZW4nKTtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGVsLmZpbmQoJ2lmcmFtZScpWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdEZ1bGxTY3JlZW4gPSBpZnJhbWUucmVxdWVzdEZ1bGxTY3JlZW4gfHwgaWZyYW1lLm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGlmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbjtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3RGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RnVsbFNjcmVlbi5iaW5kKGlmcmFtZSkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC12aWRlb1wiKSkge1xyXG4gICAgICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gICAgICAgIHRhZy50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuICAgICAgICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9wbGF5ZXJfYXBpXCI7XHJcbiAgICAgICAgdmFyIGxhc3RTY3JpcHRUYWcgPSAkKFwic2NyaXB0XCIpWyQoXCJzY3JpcHRcIikubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgbGFzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YWcsIGxhc3RTY3JpcHRUYWcpO1xyXG4gICAgICAgICQoJy5ndC12aWRlbycpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLnNldFBsYXllcnMoJCh0aGlzKSk7XHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgfVxyXG4gICAgdGhpcy5maXhBcnRpY2xlU2Nyb2xsVGFibGVQb3NpdGlvbiA9IGZ1bmN0aW9uIChjdXJyVGFibGUpIHtcclxuICAgICAgICB2YXIgdGFibGUgPWN1cnJUYWJsZSxcclxuICAgICAgICAgICAgdGFibGVQYXJlbnQgPSB0YWJsZS5wYXJlbnQoKSxcclxuICAgICAgICAgICAgdGFibGVIZWlnaHQgPSB0YWJsZS5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICB0YWJsZVBhcmVudFRvcCA9IHRhYmxlUGFyZW50LnBvc2l0aW9uKCkudG9wLFxyXG4gICAgICAgICAgICB0YWJsZVBhcmVudEJvdHRvbSA9IHRhYmxlUGFyZW50VG9wICsgdGFibGVQYXJlbnQub3V0ZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgdGFibGVXaWR0aCA9IHRhYmxlLm91dGVyV2lkdGgoKSxcclxuICAgICAgICAgICAgd2luZG93VG9wID0gZG9jLnNjcm9sbFRvcCgpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGlmICh0YWJsZVBhcmVudFRvcCArIDkwID4gd2luZG93VG9wKSB7XHJcbiAgICAgICAgICAgIGlmICh0YWJsZS5oYXNDbGFzcyhcImd0LWZpeGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5yZW1vdmVDbGFzcyhcImd0LWZpeGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgdGFibGUuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmICh0YWJsZVBhcmVudFRvcCA8IHdpbmRvd1RvcCArIDkwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGFibGUuaGFzQ2xhc3MoXCJndC1maXhlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGFibGUuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0YWJsZS5vZmZzZXQoKS5sZWZ0ICsgXCJweFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0YWJsZVdpZHRoXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmFkZENsYXNzKFwiZ3QtZml4ZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdpbmRvd1RvcCAtIHRhYmxlUGFyZW50Qm90dG9tICsgdGFibGVIZWlnaHQgKyA5MCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5hZGRDbGFzcyhcImd0LWZpeGVkLWJvdHRvbVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZUNsYXNzKFwiZ3QtZml4ZWQtYm90dG9tXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5jcmVhdGVBcnRpY3RlU2Nyb2xsVGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCEkKFwiZGl2XCIpLmlzKFwiLmd0LWFydGljbGVcIikpIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgIHZhciBhcnRpY2xlcyA9ICQoXCIuZ3QtYXJ0aWNsZVwiKSxcclxuICAgICAgICAgICAgdGFibGUgPSAkKFwiI2d0LWFydGljbGUtc2Nyb2xsLXRhYmxlXCIpLFxyXG4gICAgICAgICAgICBodG1sID0gXCJcIjtcclxuICAgICAgICBhcnRpY2xlcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcyA9IFwiZ3QtYXJ0aWNsZS1zY3JvbGxcIiAgIGRhdGEtaHJlZj0gXCInICsgJCh0aGlzKS5hdHRyKFwiaWRcIikgKyAnXCIgPjxkaXYgY2xhc3MgPSBcImd0LWFydGljbGUtc2Nyb2xsLXNoYWRvd1wiPjwvZGl2PjxwPicgK1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaDJcIikudGV4dCgpICtcclxuICAgICAgICAgICAgICAgIFwiPC9wPjwvZGl2PlwiO1xyXG4gICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGFibGUuaHRtbChodG1sKTtcclxuICAgICAgICB0YWJsZS5maW5kKCcuZ3QtYXJ0aWNsZS1zY3JvbGwnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNjcm9sbFRvQXJ0aWNsZSgkKHRoaXMpLmF0dHIoJ2RhdGEtaHJlZicpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5zY3JvbGxUb0FydGljbGUgPSBmdW5jdGlvbiAoYXR0cikge1xyXG4gICAgICAgICQoJ2h0bWwnKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoJyMnICsgYXR0cikub2Zmc2V0KCkudG9wIC0gMTEwfSwgMTEwMCk7XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuc2hvd0FydGlkbGVTaGFkb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC1hcnRpY2xlXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VyclBvc2l0aW9uID0gJCh0aGlzKS5wb3NpdGlvbigpLnRvcCxcclxuICAgICAgICAgICAgICAgIGVsSGVpZ2h0ID0gJCh0aGlzKS5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICAgICAgd2luZG93UG9zaXRpb24gPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSxcclxuICAgICAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gd2luZG93UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeCA9ICh3aW5kb3dQb3NpdGlvbiAtIGN1cnJQb3NpdGlvbikgLyBlbEhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeCA+IDEpIHggPSAxO1xyXG4gICAgICAgICAgICB2YXIgY3VyclNoYWRvdyA9ICQoXCIuZ3QtYXJ0aWNsZS1zY3JvbGxcIilbJCh0aGlzKS5pbmRleCgpXTtcclxuICAgICAgICAgICAgJChjdXJyU2hhZG93KVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoXCIuZ3QtYXJ0aWNsZS1zY3JvbGwtc2hhZG93XCIpXHJcbiAgICAgICAgICAgICAgICAuY3NzKFwid2lkdGhcIiwgeCAqIDEwMCArIFwiJVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoJ2RpdicpLmlzKCcuZ3QtYXJ0aWNsZS10YWJsZS13cmFwcGVyJykpIHtcclxuICAgICAgICAkKCcuZ3QtYXJ0aWNsZS10YWJsZS13cmFwcGVyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyVGFibGUgPSAkKHRoaXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBzaGFkb3cgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNjcm9sbCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0O1xyXG4gICAgICAgICAgICBpZiAoJCgnZGl2JykuaXMoXCIuZ3QtYXJ0aWNsZS1zY3JvbGwtdGFibGVcIikpIHtcclxuICAgICAgICAgICAgICAgIHNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zaG93QXJ0aWRsZVNoYWRvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzY3JvbGxUaHJvdHRsZXIoKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghc2Nyb2xsKSByZXR1cm47XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFzY3JvbGxUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maXhBcnRpY2xlU2Nyb2xsVGFibGVQb3NpdGlvbihjdXJyVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3dBcnRpZGxlU2hhZG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgY2hlY2tUYWJsZUhlaWdodCgpO1xyXG4gICAgICAgICAgICBkb2NXaW5kb3cuc2Nyb2xsKHNjcm9sbFRocm90dGxlcik7XHJcbiAgICAgICAgICAgIGRvY1dpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tUYWJsZUhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVGhyb3R0bGVyKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tUYWJsZUhlaWdodCgpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJUYWJsZS5vdXRlckhlaWdodCgpID4gY3VyclRhYmxlLnBhcmVudCgpLm91dGVySGVpZ2h0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyVGFibGUuY3NzKHsncG9zaXRpb24nOiAncmVsYXRpdmUnLCAncmlnaHQnOiAnMTVweCd9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyVGFibGUuY3NzKHsncG9zaXRpb24nOiAnJywgJ3JpZ2h0JzogJyd9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgXHJcbiAgICB9XHJcbiAgICB0aGlzLnNldEN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY3VyclRpbWUoKTtcclxuICAgICAgICB2YXIgdCA9IHNldEludGVydmFsKHNlbGYuY3VyclRpbWUsIDMwMDAwKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIuZ3QtY3Vyci10aW1lXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJkYXRhLWdtdFwiKSkgZGF0ZS5zZXRVVENIb3VycygrJCh0aGlzKS5hdHRyKFwiZGF0YS1nbXRcIikpO1xyXG4gICAgICAgICAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCksXHJcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCksXHJcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gZGF0ZS5nZXREYXkoKSxcclxuICAgICAgICAgICAgICAgIGRheSA9IGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgbW9udGggPSBkYXRlLmdldE1vbnRoKCksXHJcbiAgICAgICAgICAgICAgICB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgICAgICAgICAgd2Vla2RheXMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQktC+0YHQutGA0LXRgdC10L3RjNC1XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQn9C+0L3QtdC00LXQu9GM0L3QuNC6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQktGC0L7RgNC90LjQulwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0KHRgNC10LTQsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0KfQtdGC0LLQtdGA0LNcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCf0Y/RgtC90LjRhtCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQodGD0LHQsdC+0YLQsFwiXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbW9udGhlcyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBcItGP0L3QstCw0YDRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0YTQtdCy0YDQsNC70Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC80LDRgNGC0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCw0L/RgNC10LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LzQsNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQuNGO0L3Rj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LjRjtC70Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItCw0LLQs9GD0YHRgtCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLRgdC10L3RgtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvtC60YLRj9Cx0YDRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0L3QvtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQtNC10LrQsNCx0YDRj1wiXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBpZiAoaG91cnMgPCAxMCkgaG91cnMgPSBcIjBcIiArIGhvdXJzO1xyXG4gICAgICAgICAgICBpZiAobWludXRlcyA8IDEwKSBtaW51dGVzID0gXCIwXCIgKyBtaW51dGVzO1xyXG4gICAgICAgICAgICB3ZWVrZGF5ID0gd2Vla2RheXNbd2Vla2RheV07XHJcbiAgICAgICAgICAgIG1vbnRoID0gbW9udGhlc1ttb250aF07XHJcbiAgICAgICAgICAgIGlmICgkKFwiLmd0LWN1cnItdGltZS10aW1lXCIpKVxyXG4gICAgICAgICAgICAgICAgJChcIi5ndC1jdXJyLXRpbWUtdGltZVwiKS5odG1sKGhvdXJzICsgXCI6XCIgKyBtaW51dGVzKTtcclxuICAgICAgICAgICAgaWYgKCQoXCIuZ3QtY3Vyci10aW1lLWRhdGVcIikpXHJcbiAgICAgICAgICAgICAgICAkKFwiLmd0LWN1cnItdGltZS1kYXRlXCIpLmh0bWwoXHJcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheSArIFwiLCBcIiArIGRheSArIFwiIFwiICsgbW9udGggKyBcIiBcIiArIHllYXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWN1cnItdGltZVwiKSkge1xyXG4gICAgICAgIHNlbGYuc2V0Q3VyclRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbm5lci1zY3JvbGxcIikpIHtcclxuICAgICAgICAkKCcuZ3QtaW5uZXItc2Nyb2xsJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykubmljZVNjcm9sbCh7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3JvcGFjaXR5bWluOiAnMScsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JvcGFjaXR5bWF4OiAnMScsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3J3aWR0aDogJzJweCcsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3Jib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgIG1vdXNlc2Nyb2xsc3RlcDogJzYwJyxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI0NFQ0VDRVwiLFxyXG4gICAgICAgICAgICAgICAgcmFpbG9mZnNldDogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgemluZGV4OiBcImF1dG9cIixcclxuICAgICAgICAgICAgICAgIGN1cnNvcmNvbG9yOiBcIiNDRUNFQ0VcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy8gX2lubmVyX3Njcm9sbCAgbXVzdCBiZSBiZWZvcmUgX3RhYl9zbGlkZXIgLSAhaW1wb3J0YW50XHJcblxyXG4gICAgdGhpcy50YWJTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRhYlNsaWRlcnMgPSAkKFwiLmd0LXRhYnNcIik7XHJcbiAgICAgICAgdGFiU2xpZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJUYWJzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgY3VyclRhYnMuZmluZChcIi5ndC10YWJzLWJ1dHRvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50YWJTbGlkZXJBY3Rpb24oY3VyclRhYnMsICQodGhpcykuaW5kZXgoKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYudGFiU2xpZGVyQWN0aW9uKGN1cnJUYWJzLDAsdHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnRhYlNsaWRlckFjdGlvbiA9IGZ1bmN0aW9uIChlbCwgbnVtICxpbml0KSB7XHJcbiAgICAgICAgdmFyIGJ1dHRvbnMgPSAkKGVsLmZpbmQoXCIuZ3QtdGFicy1idXR0b25cIikpLFxyXG4gICAgICAgICAgICBtYWluID0gICQoZWwuZmluZChcIi5ndC10YWJzLW1haW5cIikpXHJcbiAgICAgICAgZWwuZmluZCgnLmd0LWlubmVyLXNjcm9sbC10YWInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnIycgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtc2Nyb2xsJykpLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBidXR0b25zLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIG1haW4ucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChidXR0b25zW251bV0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQobWFpbltudW1dKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIFxyXG4gICAgICAgIGlmKCQoJyMnICsgJChtYWluW251bV0pLmZpbmQoJy5ndC1pbm5lci1zY3JvbGwtdGFiJykuYXR0cignZGF0YS1zY3JvbGwnKSkuZmluZCgnLmd0LXNjcm9sbC1jdXJzb3InKS5oZWlnaHQoKSAhPSAwIHx8IGluaXQpe1xyXG4gICAgICAgICAgICAkKCcjJyArICQobWFpbltudW1dKS5maW5kKCcuZ3QtaW5uZXItc2Nyb2xsLXRhYicpLmF0dHIoJ2RhdGEtc2Nyb2xsJykpLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC10YWJzXCIpKSB7XHJcbiAgICAgICAgc2VsZi50YWJTbGlkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbHVtblBhcnRuZXJzaGlwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIjZ3QtcGFydG5lcnNoaXBcIikuYWRkQ2xhc3MoJ2d0LXBhcnRuZXJzaGlwLWNvbHVtbicpO1xyXG4gICAgfTtcclxuICAgIHRoaXMucm93UGFydG5lcnNoaXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIiNndC1wYXJ0bmVyc2hpcFwiKS5yZW1vdmVDbGFzcygnZ3QtcGFydG5lcnNoaXAtY29sdW1uJyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIiNndC1wYXJ0bmVyc2hpcFwiKSkge1xyXG4gICAgICAgICQoJyNndC1wYXJ0bmVyc2hpcC1yb3cnKS5vbignY2xpY2snLCBzZWxmLmNvbHVtblBhcnRuZXJzaGlwKTtcclxuICAgICAgICAkKCcjZ3QtcGFydG5lcnNoaXAtY29sdW1uJykub24oJ2NsaWNrJywgc2VsZi5yb3dQYXJ0bmVyc2hpcCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoJChcIipcIikuaXMoXCIjZ3QtcGFydG5lcnNoaXAtbWVudVwiKSkge1xyXG4gICAgICAgICAgICAkKFwiI2d0LXBhcnRuZXJzaGlwLW1lbnVcIikuZmluZCgnZGl2JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNjcm9sbFRvQXJ0aWNsZSgkKHRoaXMpLmF0dHIoJ2RhdGEtaHJlZicpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jcmVhdGVTZWxlY3RXcmFwcGVyID0gZnVuY3Rpb24gKGN1cnJTZWxlY3QpIHtcclxuICAgICAgICB2YXIgc2VsZWN0T3B0aW9uID0gY3VyclNlbGVjdC5maW5kKCdvcHRpb24nKSxcclxuICAgICAgICAgICAgc2VsZWN0T3B0aW9uTGVuZ3RoID0gc2VsZWN0T3B0aW9uLmxlbmd0aCxcclxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3RPcHRpb24uZmlsdGVyKCc6c2VsZWN0ZWQnKSxcclxuICAgICAgICAgICAgZHVyID0gNTAwLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjtcclxuICAgIFxyXG4gICAgICAgIGlmICghY3VyclNlbGVjdC5hdHRyKCdkYXRhLW5hbWUnKSB8fCBjdXJyU2VsZWN0LmF0dHIoJ2RhdGEtbmFtZScpID09IHVuZGVmaW5lZCB8fCBjdXJyU2VsZWN0LmF0dHIoJ2RhdGEtbmFtZScpID09IG51bGwpIHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSAkKHNlbGVjdGVkT3B0aW9uWzBdKS50ZXh0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBjdXJyU2VsZWN0LmF0dHIoJ2RhdGEtbmFtZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyU2VsZWN0LmhpZGUoKTtcclxuICAgIFxyXG4gICAgICAgIGN1cnJTZWxlY3Qud3JhcCgnPGRpdiBjbGFzcz1cInNlbGVjdCBndC1zZWxlY3RcIj48L2Rpdj4nKTtcclxuICAgIFxyXG4gICAgICAgICQoJzxkaXY+Jywge1xyXG4gICAgICAgICAgICBjbGFzczogJ3NlbGVjdF9fZ2FwJyxcclxuICAgICAgICAgICAgaHRtbDogJzxwPicgKyBwbGFjZWhvbGRlciArICc8L3A+J1xyXG4gICAgICAgIH0pLmluc2VydEFmdGVyKGN1cnJTZWxlY3QpO1xyXG4gICAgICAgIHZhciBzZWxlY3RHYXAgPSBjdXJyU2VsZWN0Lm5leHQoJy5zZWxlY3RfX2dhcCcpO1xyXG4gICAgICAgICQoJzx1bD4nLHtcclxuICAgICAgICAgICAgY2xhc3M6ICdzZWxlY3RfX2xpc3QnXHJcbiAgICAgICAgfSkuaW5zZXJ0QWZ0ZXIoc2VsZWN0R2FwKTtcclxuICAgIFxyXG4gICAgICAgIHZhciBzZWxlY3RMaXN0ID0gc2VsZWN0R2FwLm5leHQoJy5zZWxlY3RfX2xpc3QnKTtcclxuICAgICAgICAvLyBBZGQgbGkgLSBvcHRpb24gaXRlbXNcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgc2VsZWN0T3B0aW9uTGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAkKCc8bGk+Jyx7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogJ3NlbGVjdF9faXRlbScsXHJcbiAgICAgICAgICAgICAgICBodG1sOiAkKCc8c3Bhbj4nLHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzZWxlY3RPcHRpb24uZXEoaSkudGV4dCgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtdmFsdWUnLCBzZWxlY3RPcHRpb24uZXEoaSkudmFsKCkpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oc2VsZWN0TGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZWxlY3RJdGVtID0gc2VsZWN0TGlzdC5maW5kKCdsaScpO1xyXG4gICAgXHJcbiAgICAgICAgc2VsZWN0TGlzdC5zbGlkZVVwKDApO1xyXG4gICAgICAgIHNlbGVjdEdhcC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcygnb24nKSl7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0TGlzdC5zbGlkZURvd24oZHVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0SXRlbS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaG9vc2VJdGVtID0gJCh0aGlzKS5kYXRhKCd2YWx1ZScpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnc2VsZWN0JykudmFsKGNob29zZUl0ZW0pLmF0dHIoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0R2FwLnRleHQoJCh0aGlzKS5maW5kKCdzcGFuJykudGV4dCgpKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdExpc3Quc2xpZGVVcChkdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEdhcC5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0TGlzdC5zbGlkZVVwKGR1cik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIGlmICgkKFwic2VsZWN0XCIpLmlzKFwiLmpzLWd0LXNlbGVjdFwiKSkge1xyXG4gICAgICAgICQoJy5qcy1ndC1zZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlU2VsZWN0V3JhcHBlcigkKHRoaXMpKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICB0aGlzLmluaXRUb3BDYXJkcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdG9wQmxvY2sgPSAkKCcuZ3QtdG9wJyksXHJcbiAgICAgICAgICAgIGNhcmRzID0gdG9wQmxvY2suZmluZCgnLmd0LXRvcC1jYXJkJyk7XHJcbiAgICBcclxuICAgICAgICBjYXJkcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vbignbW91c2VvdmVyJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIHRvcEJsb2NrLm9uKCdtb3VzZWxlYXZlJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhcmRzLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtdG9wLWNhcmQtd3JhcHBlclwiKSl7XHJcbiAgICAgICAgc2VsZi5pbml0VG9wQ2FyZHMoKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vZG9lcyBub3Qgd29ya1xyXG5cclxuICAgIHRoaXMuY3JlYXRlVmlld0NhcmRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy12aXNpdCcpLm9uKCdjbGljaycsZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xpY2tWaXNpdFZpZXdDYXJkKGVsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1waW4tcGx1cycpLm9uKCdjbGljaycsZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xpY2tTZWVuVmlld0NhcmQoZWwpO1xyXG4gICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtYm9va21hcmtzJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja01hcmtWaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLm9uKCdjbGljaycsZnVuY3Rpb24gKGV2ZW50Zykge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja1NoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykuZmluZCgnYScpLm9uKCdjbGljaycsZnVuY3Rpb24gKGV2ZW50LGVsKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgc2VsZi52aWV3Q2FyZFNvY2lhbChlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwub24oJ2NsaWNrICBtb3VzZWxlYXZlJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoZWwpLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5kZXN0cm95Vmlld0NhcmRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy12aXNpdCcpLm9mZigpO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXBpbi1wbHVzJykub2ZmKCk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtYm9va21hcmtzJykub2ZmKCk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLmZpbmQoJ2EnKS5vZmYoKTtcclxuICAgICAgICBlbC5vZmYoKTtcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLnZpZXdDYXJkU29jaWFsID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIHNvY2lhbCcpO1xyXG4gICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLm9wZW5TaGFyZVZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgJChlbCkuYWRkQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgfTtcclxuICAgIHRoaXMuY2xvc2VTaGFyZVZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgJChlbCkucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuY2xpY2tTaGFyZVZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICBcclxuICAgICAgICB2YXIgYnV0dG9uID0gZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5wYXJlbnQoKTtcclxuICAgICAgICBpZihidXR0b24uaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKXtcclxuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHNlbGYub3BlblNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLmNsaWNrVmlzaXRWaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmKGVsLmhhc0NsYXNzKCdndC1hY3RpdmUnKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy12aXNpdCcpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgbm90IHZpc2l0ZWQgbm93Jyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayB2aXNpdCcpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuY2xpY2tTZWVuVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZihlbC5oYXNDbGFzcygnZ3QtYWN0aXZlJykpIHJldHVybjtcclxuICAgICAgICB2YXIgYnV0dG9uID0gZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtcGluLXBsdXMnKS5wYXJlbnQoKTtcclxuICAgICAgICBpZihidXR0b24uaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKXtcclxuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIG5vdCBzZWVuIG5vdycpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBidXR0b24uYWRkQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgc2VlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLmNsaWNrTWFya1ZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYoZWwuaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKSByZXR1cm47XHJcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLWJvb2ttYXJrcycpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgZGVsZXRlIGJvb2ttYXJrJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBhZGQgYm9va21hcmsnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3Qtdmlldy1jYXJkcy1pbm5lclwiKSkge1xyXG4gICAgXHJcbiAgICAgICAgJCgnLmd0LXZpZXctY2FyZHMtaW5uZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycygkKHRoaXMpKTtcclxuICAgICAgICB9KVxyXG4gICAgXHJcbiAgICBcclxuICAgIH1cclxuICAgIC8vINC/0YDQvtCy0LXRgNC60LAg0L3QsCDQvdCw0LvQuNGH0LjQtSAtINC+0LHRgdGD0LTQuNGC0Ywg0YEg0LHQtdC60L7QvCDQv9C+0LLQtdC00LXQs9GC0LVcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgICQoJyNndC1lbnRlci1mb3JtLWZhY2Vib29rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsRW50ZXIoJ2ZhY2Vib29rJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tdHdpdHRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbEVudGVyKCd0d2l0dGVyJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tZ29vZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsRW50ZXIoJ2dvb2dsZScpXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgJCgnI2d0LXJlZy1mb3JtLWZhY2Vib29rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsUmVnaXN0cmF0aW9uKCdmYWNlYm9vaycpXHJcbiAgICB9KTtcclxuICAgICQoJyNndC1yZWctZm9ybS10d2l0dGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsUmVnaXN0cmF0aW9uKCd0d2l0dGVyJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LXJlZy1mb3JtLWdvb2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbFJlZ2lzdHJhdGlvbignZ29vZ2xlJylcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICB0aGlzLnNvY2lhbFJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgXHJcbiAgICAgICAgYWxlcnQoXCLQoNC10LPQuNGB0YLRgNCw0YbQuNGPINGH0LXRgNC10LcgXCIgKyB0b2tlbilcclxuICAgIFxyXG4gICAgfTtcclxuICAgIHRoaXMuc29jaWFsRW50ZXIgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIFxyXG4gICAgICAgIGFsZXJ0KFwi0JLRhdC+0LQg0YfQtdGA0LXQtyBcIiArIHRva2VuKVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICB0aGlzLmN1dE5ld3MgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQoKSxcclxuICAgICAgICAgICBtYXhIZWlnaHQgPSBwYXJlbnQuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgY3V0dGluZ0VsID0gZWwuZmluZCgncCcpLFxyXG4gICAgICAgICAgIGN1cnJIZWlnaHQsXHJcbiAgICAgICAgICAgY3V0dGluZ0xlbmdodCxcclxuICAgICAgICAgICBuZXdUZXh0O1xyXG4gICAgICAgcGFyZW50LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgbWF4SGVpZ2h0IC09ICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcbiAgICAgICB9KTtcclxuICAgXHJcbiAgICAgICBtYXhIZWlnaHQgPSBtYXhIZWlnaHQgKyBlbC5oZWlnaHQoKSAtIDIwO1xyXG4gICBcclxuICAgXHJcbiAgICAgICBjdXR0aW5nRWwuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgY3VyckhlaWdodCA9ICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcbiAgIFxyXG4gICAgICAgICAgIGlmIChjdXJySGVpZ2h0IDwgbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgIG1heEhlaWdodCAtPSBjdXJySGVpZ2h0XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgaWYgKCFtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgIGN1dHRpbmdMZW5naHQgPSBNYXRoLmZsb29yKCQodGhpcykudGV4dCgpLmxlbmd0aCAqIG1heEhlaWdodCAvIGN1cnJIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgbmV3VGV4dCA9ICQodGhpcykudGV4dCgpLnN1YnN0cmluZygwLCBjdXR0aW5nTGVuZ2h0IC0gNSk7XHJcbiAgICAgICAgICAgICAgICAgICAvLyBjdXRMYXN0U3ltYm9sKCk7XHJcbiAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoKG5ld1RleHQpICsgJy4uLicpO1xyXG4gICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH1cclxuICAgICAgIH0pO1xyXG4gICAgICAgLy9cclxuICAgICAgIC8vIGZ1bmN0aW9uIGN1dExhc3RTeW1ib2woKSB7XHJcbiAgICAgICAvLyAgICAgdmFyIHN0ckxlbmd0aCA9IG5ld1RleHQubGVuZ3RoO1xyXG4gICAgICAgLy8gICAgIGlmKG5ld1RleHQuY2hhckF0KHN0ckxlbmd0aCAtIDEpID09ICcgJyl7XHJcbiAgICAgICAvLyAgICAgICAgIG5ld1RleHQ9IG5ld1RleHQuc3Vic3RyaW5nKDAsIHN0ckxlbmd0aCAtIDEpO1xyXG4gICAgICAgLy8gICAgIH1lbHNle1xyXG4gICAgICAgLy8gICAgICAgICBuZXdUZXh0ID0gbmV3VGV4dC5zdWJzdHJpbmcoMCwgc3RyTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoY3V0TGFzdFN5bWJvbClcclxuICAgICAgIC8vICAgICB9XHJcbiAgICAgICAvLyB9XHJcbiAgIFxyXG4gICB9O1xyXG4gICBcclxuICAgXHJcbiAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmpzLW5ld3MtY3V0XCIpKSB7XHJcbiAgICAgICAkKFwiLmpzLW5ld3MtY3V0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgIHNlbGYuY3V0TmV3cygkKHRoaXMpKTtcclxuICAgICAgIH0pO1xyXG4gICBcclxuICAgXHJcbiAgICAgICBkb2NXaW5kb3cucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAkKFwiLmpzLW5ld3MtY3V0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICBzZWxmLmN1dE5ld3MoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICB9KTtcclxuICAgfVxyXG4gICBcclxuICAgXHJcbiAgIHRoaXMuY3V0UmVhZE1vcmVTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICB2YXIgY3V0dGluZ3MgPSAkKFwiLmd0LXJlYWQtbW9yZS1zbGlkZXItdGV4dC1pbm5lclwiKTtcclxuICAgICAgIGN1dHRpbmdzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgIHNlbGYuY3V0dGluZygkKHRoaXMpLCAxNjApO1xyXG4gICAgICAgfSk7XHJcbiAgIH07XHJcbiAgIFxyXG4gICB0aGlzLmN1dHRpbmcgPSBmdW5jdGlvbiAoZWwsIG51bSkge1xyXG4gICAgICAgdmFyIG5ld3NUZXh0ID0gZWwudGV4dCgpO1xyXG4gICAgICAgaWYgKG5ld3NUZXh0Lmxlbmd0aCA+IG51bSkge1xyXG4gICAgICAgICAgIG5ld3NUZXh0ID0gbmV3c1RleHQuc2xpY2UoMCwgbnVtKSArIFwiLi4uXCI7XHJcbiAgICAgICAgICAgZWwudGV4dChuZXdzVGV4dCk7XHJcbiAgICAgICB9XHJcbiAgIH07XHJcbiAgIFxyXG4gICBcclxuICAgaWYgKCQoXCJwXCIpLmlzKFwiLmd0LXJlYWQtbW9yZS1zbGlkZXItdGV4dC1pbm5lclwiKSkge1xyXG4gICAgICAgc2VsZi5jdXRSZWFkTW9yZVNsaWRlcigpO1xyXG4gICB9XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgZG9jLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG4gICAgICAgIHNlbGYuZm9vdGVySGVpZ2h0KCk7Ly9fZm9vdGVyX2hlaWdodC5qc1xyXG4gICAgICAgIHNlbGYuZGVza1RvcE1lbnVTY3JvbGwoKTsvL19kZXNjdG9wX2hlYWRlcl9mdW5jLmpzXHJcbiAgICBcclxuICAgIFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnBhZ2VVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSwgODAwKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnVwUGFnZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAzMCkge1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5hZGRDbGFzcyhcImd0LXZpc2libGVcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXBCdXR0b24ucmVtb3ZlQ2xhc3MoXCJndC12aXNpYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdXBCdXR0b24ub24oXCJjbGlja1wiLCBzZWxmLnBhZ2VVcCk7XHJcbiAgICBcclxuICAgIGRvY1dpbmRvdy5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYudXBQYWdlQnV0dG9uKCk7Ly9fdXBfYnV0dG9uLmpzXHJcbiAgICAgICAgaWYgKCQoXCIuZ3QtaGVhZGVyLW1lbnVcIikuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICBzZWxmLmRlc2tUb3BNZW51U2Nyb2xsKCk7Ly9fZGVzY3RvcF9oZWFkZXJfZnVuYy5qc1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZG9jV2luZG93LnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5kZXNrVG9wTWVudVNjcm9sbCgpO1xyXG4gICAgICAgIHNlbGYuZm9vdGVySGVpZ2h0KCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoZ3RIZWFkZXIuaGFzQ2xhc3MoXCJndC1vcGVuXCIpKSBzZWxmLm1vYmlsZU1lbnVDbG9zZSgpO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtaW1nLWhvbGRlci1hYnNcIikpIHtcclxuICAgICAgICAgICAgJChcIi5ndC1pbWctaG9sZGVyLWFic1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJndC13aWR0aFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJndC1oZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmltZ0hvbGRlckZ1bmMoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpKSB7XHJcbiAgICAgICAgICAgICQoXCIuZ3QtaW1nLWhvbGRlci1hYnNcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmltZ0hvbGRlckZ1bmMoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGJvZHkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQudGFyZ2V0KTtcclxuICAgIFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiLmd0LW1lbnUtbmV3c1wiKSkge1xyXG4gICAgICAgICQoJy5ndC1tZW51LW5ld3MnKS5maW5kKCdhJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICQoJy5ndC1tZW51LW5ld3MnKS5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0ZW1wIGZ1bmMnKVxyXG4gICAgICAgIH0pXHJcbiAgICBcclxuICAgICAgICAvLyB0b2RvIHRlbXAgZnVuY1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIC8vLy8vLy9zZWFyY2gtYmxvY2tcclxuICAgIHZhciBzZWFyY2hCbG9jayA9ICQoJyNndC1zZWFyY2gtYmxvY2snKTtcclxuICAgIHZhciBzZWFyY2hCbG9ja0lucHV0ID0gJCgnI2d0LXNlYXJjaC1ibG9jay1pbnB1dCcpO1xyXG4gICAgXHJcbiAgICBcclxuICAgICQoJy5ndC1vcGVuLXNlYXJjaCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLm9wZW5TZWFyY2hCbG9jaygpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgJCgnI2d0LXNlYXJjaC1ibG9jay1jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmNsb3NlU2VhcmNoQmxvY2soKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBzZWFyY2hCbG9ja0lucHV0Lm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc2hvd0Nyb3NzSW5TZWFyY2hCbG9jaygpXHJcbiAgICB9KTtcclxuICAgICQoJyNndC1zZWFyY2gtYmxvY2stY2xlYXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jbGVhclNlYXJjaEJsb2NrSW5wdXQoKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5vcGVuU2VhcmNoQmxvY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5maXhCb2R5KCk7XHJcbiAgICAgICAgc2VhcmNoQmxvY2suYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgIH07XHJcbiAgICB0aGlzLmNsb3NlU2VhcmNoQmxvY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi51bmZpeEJvZHkoKTtcclxuICAgICAgICBzZWxmLmNsZWFyU2VhcmNoQmxvY2tJbnB1dCgpO1xyXG4gICAgICAgIHNlYXJjaEJsb2NrLnJlbW92ZUNsYXNzKCdndC1vcGVuJylcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5zaG93Q3Jvc3NJblNlYXJjaEJsb2NrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkLnRyaW0oc2VhcmNoQmxvY2tJbnB1dC52YWwoKSkpIHtcclxuICAgICAgICAgICAgaWYgKCFzZWFyY2hCbG9ja0lucHV0Lmhhc0NsYXNzKCdndC1kaXJ0eScpKSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hCbG9ja0lucHV0LmFkZENsYXNzKCdndC1kaXJ0eScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoc2VhcmNoQmxvY2tJbnB1dC5oYXNDbGFzcygnZ3QtZGlydHknKSkge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoQmxvY2tJbnB1dC5yZW1vdmVDbGFzcygnZ3QtZGlydHknKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jbGVhclNlYXJjaEJsb2NrSW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VhcmNoQmxvY2tJbnB1dC52YWwoJycpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHNlYXJjaEJsb2NrSW5wdXQudmFsKCkpO1xyXG4gICAgICAgIGlmIChzZWFyY2hCbG9ja0lucHV0Lmhhc0NsYXNzKCdndC1kaXJ0eScpKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaEJsb2NrSW5wdXQucmVtb3ZlQ2xhc3MoJ2d0LWRpcnR5JylcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxufTtcclxuJChkb2N1bWVudCkucmVhZHkoXHJcblxyXG4gICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBnb1RvVHJpcCA9IG5ldyBHb1RvVHJpcCgpO1xyXG4gICAgfVxyXG4pOyJdfQ==
