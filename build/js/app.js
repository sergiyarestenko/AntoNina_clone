GoToTrip=function(){var t=this,e=$(document.body),i=$(document),s=$(window),n={top:!1,left:!1},o=$("#gt-is-360"),a=($("#gt-is-480"),$("#gt-is-667")),r=$("#gt-is-768"),c=$("#gt-is-1024"),l=($("#gt-is-1231"),$("header")),d=$("footer"),g=$("#gt-wrapper"),u=$("#gt-up"),h=$("#gt-mobile-menu-switch"),f=$(".gt-enter"),p=$("#gt-header-enter-wrapper"),v=$("#gt-header-enter"),m=$("#gt-header-enter-chose"),C=$("#gt-header-enter-close");$("html").niceScroll({cursorborder:"1px solid #6d6d6d",mousescrollstep:"60",bouncescroll:!0,cursorcolor:"#6d6d6d"}),this.fixBody=function(){n.top||n.left||(n.top=i.scrollTop(),n.left=e.offset().left,e.css({position:"fixed",left:n.left+"px",top:-1*n.top+"px"}))},this.unfixBody=function(){e.css({position:"",left:"",top:""}),i.scrollTop(n.top),n.top=!1,n.left=!1},this.footerHeight=function(){d.outerHeight()>s.height()-50?(d.css("position","static"),g.css("margin-bottom",""),u.css("position","static")):(d.css("position",""),u.css("position",""),g.css("margin-bottom",d.outerHeight()+"px"))},this.deskTopMenuScroll=function(){s.scrollTop()>l.outerHeight()?l.addClass("gt-header-scrolled"):l.removeClass("gt-header-scrolled")},$("*").is(".gt-top-plane")&&$(".gt-header").addClass("gt-header-plane-top"),this.mobileMenuClose=function(){t.unfixBody(),h.removeClass("gt-open"),l.removeClass("gt-open")},this.mobileMenuOpen=function(){t.fixBody(),l.addClass("gt-open"),h.addClass("gt-open")},h.on("click",function(){$(this).hasClass("gt-open")?t.mobileMenuClose():t.mobileMenuOpen()}),this.openEnterForm=function(){p.addClass("gt-open"),setTimeout(function(){$("#gt-header-registered").addClass("gt-open"),v.addClass("gt-open"),C.addClass("gt-open")})},this.closeEnterForm=function(){C.removeClass("gt-open"),v.removeClass("gt-open"),$("#gt-header-registered").removeClass("gt-open"),t.closeRestorePass(),setTimeout(function(){p.removeClass("gt-open")},750)},this.changeEnterRegistration=function(t){v.hasClass($(t.target).attr("class"))||v.removeClass("gt-chosen-enter").removeClass("gt-chosen-registration").addClass($(t.target).attr("class"))},this.openRestorePass=function(){$("#gt-enter-pass-restore-wrapper").addClass("gt-open")},this.closeRestorePass=function(){$("#gt-enter-pass-restore-wrapper").removeClass("gt-open")},f.each(function(){$(this).on("click",t.openEnterForm)}),C.on("click",t.closeEnterForm),m.on("click",function(e){t.changeEnterRegistration(e)}),$("#gt-enter-form-restore-pass").on("click",t.openRestorePass),$("#gt-enter-pass-restore-submit").on("click",t.closeRestorePass),this.setBackground=function(){$(".gt-img-holder").each(function(){if($(this).attr("data-bg")){var t=$(this).attr("data-bg");a.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/phone/'+t+'")'):c.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/tablet/'+t+'")'):$(this).css("background-image",'url("./img/backgrounds/desktop/'+t+'")')}})},this.imgHolderFunc=function(t){$(t).removeClass("gt-width"),$(t).removeClass("gt-height"),$(t).removeClass("gt-visible");var e=t.outerHeight()/t.outerWidth(),i=t.find("img");i.outerHeight()/i.outerWidth()>e?$(t).addClass("gt-width"):$(t).addClass("gt-height"),$(t).addClass("gt-visible")},$("div").is(".gt-img-holder")&&t.setBackground(),this.createSlider=function(e,i){function n(){if(S>w){var t="";M&&(t='<div class="gt-slider-arrow-num"><i class="gt-slider-num-curr"></i><i>из</i><i class="gt-slider-num-max"></i></div>'),e.find(".gt-slider-arrow-holder").html('<span class = "gt-slider-arrow left"></span>'+t+'<span class = "gt-slider-arrow right"></span>'),e.find(".left").on("click",function(){l(!1)}),e.find(".right").on("click",function(){l(!0)}),M&&u(),u()}b=!0}function c(t){var i=t||e;i.find(".left").off(),i.find(".right").off(),i.find(".gt-slider-arrow-holder").html(""),b=!1}function l(i,s){var n,o;if(s||0===s?T=s:i?T++:T--,P&&(T>S-w&&(T=0),T<0&&(T=S-w),g()),A&&(T>S-w&&(n=x.children().first().clone(),o=x.children().first(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(o),t.createViewCardListeners(n)),x.css("left",-(T-2)*C+"px"),x.append(n),o.remove(),T--),T<0?(n=x.children().last(),o=x.children().last(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(o),t.createViewCardListeners(n)),x.css("left",-(T+2)*C+"px"),x.prepend(n.clone()),o.remove(),T++,d()):d()),M&&u(),V){var a=e.find(".gt-slider-nav span");a.removeClass("gt-active"),$(a[x.find(".gt-open").attr("data-count")]).addClass("gt-active")}}function d(){x.children().removeClass("gt-open"),x.animate({left:-T*C},H),x.children().eq(T).addClass("gt-open")}function g(t){var e=t||T;$(k).removeClass("gt-open"),$(k[e]).addClass("gt-open")}function u(){e.find(".gt-slider-num-curr").text(+x.find(".gt-open").attr("data-count")+1),e.find(".gt-slider-num-max").text(S)}function h(){var t=0,i=0;e.on("touchstart",function(e){var i=e.originalEvent;t=Math.abs(i.touches[0].pageX),console.log("touchstart")}),e.on("touchend",function(e){var s=e.originalEvent;i=Math.abs(s.changedTouches[0].pageX),Math.abs(t-i)>50&&l(t>i?!0:!1)})}function f(t){(t||e).off()}function p(){e.attr("data-count")&&(w=parseInt(e.attr("data-count")),$(r).is(":visible")&&(w=3),$(a).is(":visible")&&(w=2),$(o).is(":visible")&&(w=1))}function v(){console.log("setBaseWidth"),C=e.outerWidth()/w,e.find(".gt-slider-container").outerWidth((S+1)*C),k.each(function(){$(this).outerWidth(C),$(this).attr("data-count",$(this).index())})}var m,C,w=1,b=!1,k=e.find(".gt-slider-inner"),x=e.find(".gt-slider-container"),S=k.length,T=i||0,y=e.hasClass("gt-slider-has-arrow"),V=e.hasClass("gt-slider-has-dots"),M=e.hasClass("gt-slider-num"),A=e.hasClass("gt-slider-tram"),H=+e.attr("data-duration")||300,P=e.hasClass("gt-slider-fade"),E=e.hasClass("gt-slider-has-clone");P&&g(i),A&&(p(),v(),d()),y&&(e.append('<div class="gt-slider-arrow-holder"></div>'),n()),V&&function(){e.append('<div class="gt-slider-nav"></div>');for(var t=e.find(".gt-slider-nav"),i="",s=0;s<S;s++)i+="<span data-num = "+s+"></span>";t.html(i),t.find("span").first().addClass("gt-active"),e.find(".gt-slider-nav span").on("click",function(){l(!0,+$(this).attr("data-num"))})}(),S>w&&h(),E&&e.find(".gt-slider-inner-cover").each(function(){$(this).on("click",function(){!function(i){if(!$("div").is("#gt-clone")){t.fixBody();var s=$("#gt-body-wrapper");s.append('<div id = "gt-clone-wrapper"   class="container"><div id = "gt-clone" class="gt-slider gt-slider-clone gt-slider-fade gt-slider-num  gt-slider-has-arrow"><div id = "gt-clone-close" class = "gt-slider-clone-close"></div><div  id = "gt-clone-container" class="gt-slider-container"></div></div></div>'),s.show();var n=$("#gt-clone");e.find(".gt-slider-inner").clone(!0).each(function(){$(this).outerWidth(""),$("#gt-clone-container").append($(this))}),t.createSlider(n,i),$("#gt-clone-close").on("click",function(){!function(e){c(e),f(e),$("#gt-clone-close").off(),$("#gt-clone-wrapper").remove(),$("#gt-body-wrapper").hide(),t.unfixBody()}(n)})}}($(this).parent().index())})}),s.resize(function(){m||(m=setTimeout(function(){m=null,f(),A&&(p(),v(),T>S-w&&(T=S-w),S<=w&&(T=0),d()),b&&(c(),n()),S>w&&h()},132))})},$("div").is(".gt-slider")&&$(".gt-slider").each(function(){t.createSlider($(this))}),this.numberCollectionArticle=function(t){t.find(".gt-collection-link-wrapper").each(function(){$(this).find(".gt-collection-link-slider-wrapper").after('<div class = "gt-collection-link-number"><span>'+($(this).index()+1)+"</span></div>")})},$("div").is(".gt-collection-wrapper-num")&&$(".gt-collection-wrapper-num").each(function(){t.numberCollectionArticle($(this))}),this.manageGtActiveUlMenu=function(t){"li"!=t.tagName&&(t=$(t).closest("li")),$(t).closest($("ul")).find("li").removeClass("gt-active"),$(t).addClass("gt-active")},$("*").is(".gt-button-menu")&&$(".gt-button-menu").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),$("*").is(".gt-menu-news_items")&&$(".gt-menu-news_items").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),this.setPlayers=function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.youtube.com/player_api";var i=$("script")[$("script").length-1];i.parentNode.insertBefore(e,i);$(".gt-video").each(function(){var e=$(this);e.find(".gt-video-switch").on("click",function(){$(this).addClass("gt-open"),e.addClass("gt-open"),t.addYouTube(e)})})},this.addYouTube=function(t){function e(){s.mute(),s.playVideo(),t.addClass("gt-video-on"),t.find(".gt-video-uncover").on("click",i),t.find(".gt-video-pause").on("click",function(){s.pauseVideo()}),t.find(".gt-video-play").on("click",function(){s.playVideo()})}function i(){console.log("playFullScreen");var e=t.find("iframe")[0],i=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen;i&&i.bind(e)()}var s,n="gt-video-"+t.index();t.find(".gt-video-switch").hide("slow"),t.find(".gt-video-inner").attr("id",n).addClass("gt-video-foreground"),s=new YT.Player(n,{width:600,height:400,videoId:t.attr("data-youtube"),playerVars:{playlist:t.attr("data-youtube"),color:"white",loop:1,autoplay:1},events:{onReady:e}})},$("div").is(".gt-video")&&t.setPlayers(),this.fixArticleScrollTablePosition=function(t){var e=t,s=e.parent(),n=e.outerHeight(),o=s.position().top,a=o+s.outerHeight(),r=e.outerWidth(),c=i.scrollTop();o+90>c&&e.hasClass("gt-fixed")&&(e.removeClass("gt-fixed"),e.css({left:"",width:""})),o<c+90&&(e.hasClass("gt-fixed")||(e.css({left:e.offset().left+"px",width:r}),e.addClass("gt-fixed")),c-a+n+90>=0?e.addClass("gt-fixed-bottom"):e.removeClass("gt-fixed-bottom"))},this.createArticteScrollTable=function(){if($("div").is(".gt-article")){var e=$(".gt-article"),i=$("#gt-article-scroll-table"),s="";e.each(function(){s+='<div class = "gt-article-scroll"   data-href= "'+$(this).attr("id")+'" ><div class = "gt-article-scroll-shadow"></div><p>'+$(this).find("h2").text()+"</p></div>"}),i.html(s),i.find(".gt-article-scroll").each(function(){$(this).on("click",function(){t.scrollToArticle($(this).attr("data-href"))})})}},this.scrollToArticle=function(t){$("html").animate({scrollTop:$("#"+t).offset().top-110},1100)},this.showArtidleShadow=function(){$(".gt-article").each(function(){var t=$(this).position().top,e=$(this).outerHeight(),i=$(document).scrollTop(),s=0;(s=t>i?0:(i-t)/e)>1&&(s=1);var n=$(".gt-article-scroll")[$(this).index()];$(n).find(".gt-article-scroll-shadow").css("width",100*s+"%")})},$("div").is(".gt-article-table-wrapper")&&$(".gt-article-table-wrapper").each(function(){function e(){r&&(n||(n=setTimeout(function(){n=null,t.fixArticleScrollTablePosition(o),a&&t.showArtidleShadow()})))}function i(){o.outerHeight()>o.parent().outerHeight()?(r=!1,o.css({position:"relative",right:"15px"})):(r=!0,o.css({position:"",right:""}))}var n,o=$(this),a=!1,r=!0;$("div").is(".gt-article-scroll-table")&&(a=!0,t.createArticteScrollTable(),t.showArtidleShadow()),i(),s.scroll(e),s.resize(function(){i(),e()})}),this.setCurrTime=function(){t.currTime();setInterval(t.currTime,3e4)},this.currTime=function(){$(".gt-curr-time").each(function(){var t=new Date;$(this).attr("data-gmt")&&t.setUTCHours(+$(this).attr("data-gmt"));var e=t.getHours(),i=t.getMinutes(),s=t.getDay(),n=t.getDate(),o=t.getMonth(),a=t.getFullYear();e<10&&(e="0"+e),i<10&&(i="0"+i),s=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][s],o=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][o],$(".gt-curr-time-time")&&$(".gt-curr-time-time").html(e+":"+i),$(".gt-curr-time-date")&&$(".gt-curr-time-date").html(s+", "+n+" "+o+" "+a)})},$("div").is(".gt-curr-time")&&t.setCurrTime(),$("div").is(".gt-inner-scroll")&&$(".gt-inner-scroll").each(function(){$(this).niceScroll({cursoropacitymin:"1",cursoropacitymax:"1",cursorwidth:"2px",cursorborder:"none",mousescrollstep:"60",background:"#CECECE",railoffset:"left",zindex:"auto",cursorcolor:"#CECECE"})}),this.tabSlider=function(){$(".gt-tabs").each(function(){var e=$(this);e.find(".gt-tabs-button").each(function(){$(this).on("click",function(){t.tabSliderAction(e,$(this).index())})}),t.tabSliderAction(e,0,!0)})},this.tabSliderAction=function(t,e,i){var s=$(t.find(".gt-tabs-button")),n=$(t.find(".gt-tabs-main"));t.find(".gt-inner-scroll-tab").each(function(){$("#"+$(this).attr("data-scroll")).hide()}),s.removeClass("active"),n.removeClass("active"),$(s[e]).addClass("active"),$(n[e]).addClass("active"),(0!=$("#"+$(n[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).find(".gt-scroll-cursor").height()||i)&&$("#"+$(n[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).show()},$("div").is(".gt-tabs")&&t.tabSlider(),this.columnPartnership=function(){$("#gt-partnership").addClass("gt-partnership-column")},this.rowPartnership=function(){$("#gt-partnership").removeClass("gt-partnership-column")},$("*").is("#gt-partnership")&&($("#gt-partnership-row").on("click",t.columnPartnership),$("#gt-partnership-column").on("click",t.rowPartnership),$("*").is("#gt-partnership-menu")&&$("#gt-partnership-menu").find("div").each(function(){$(this).on("click",function(){t.scrollToArticle($(this).attr("data-href"))})})),this.createSelectWrapper=function(t){var e,i=t.find("option"),s=i.length,n=i.filter(":selected");e=t.attr("data-name")&&void 0!=t.attr("data-name")&&null!=t.attr("data-name")?t.attr("data-name"):$(n[0]).text(),t.hide(),t.wrap('<div class="select gt-select"></div>'),$("<div>",{class:"select__gap",html:"<p>"+e+"</p>"}).insertAfter(t);var o=t.next(".select__gap");$("<ul>",{class:"select__list"}).insertAfter(o);for(var a=o.next(".select__list"),r=0;r<s;r++)$("<li>",{class:"select__item",html:$("<span>",{text:i.eq(r).text()})}).attr("data-value",i.eq(r).val()).appendTo(a);var c=a.find("li");a.slideUp(0),o.on("click",function(){$(this).hasClass("on")?($(this).removeClass("on"),a.slideUp(500)):($(this).addClass("on"),a.slideDown(500),c.on("click",function(){var t=$(this).data("value");$("select").val(t).attr("selected","selected"),o.text($(this).find("span").text()),a.slideUp(500),o.removeClass("on")}))})},$("select").is(".js-gt-select")&&$(".js-gt-select").each(function(){t.createSelectWrapper($(this))}),this.createViewCardListeners=function(e){e.find(".gt-view-cards-icons-visit").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickVisitViewCard(e)}),e.find(".gt-view-cards-icons-pin-plus").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickSeenViewCard(e)}),e.find(".gt-view-cards-icons-bookmarks").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickMarkViewCard(e)}),e.find(".gt-view-cards-icons-share").on("click",function(i){event.stopPropagation(),t.clickShareViewCard(e)}),e.find(".gt-view-cards-icons-share").find("a").on("click",function(e,i){e.preventDefault(),t.viewCardSocial(i)}),e.on("click  mouseleave",function(){$(e).find(".gt-view-cards-icons-share").parent().removeClass("gt-active"),t.closeShareViewCard(e)})},this.destroyViewCardListeners=function(t){t.find(".gt-view-cards-icons-visit").off(),t.find(".gt-view-cards-icons-pin-plus").off(),t.find(".gt-view-cards-icons-bookmarks").off(),t.find(".gt-view-cards-icons-share").off(),t.find(".gt-view-cards-icons-share").find("a").off(),t.off()},this.viewCardSocial=function(e){console.log("click social"),t.closeShareViewCard(e)},this.openShareViewCard=function(t){$(t).addClass("gt-active")},this.closeShareViewCard=function(t){$(t).removeClass("gt-active")},this.clickShareViewCard=function(e){var i=e.find(".gt-view-cards-icons-share").parent();i.hasClass("gt-active")?(i.removeClass("gt-active"),t.closeShareViewCard(e)):(i.addClass("gt-active"),t.openShareViewCard(e))},this.clickVisitViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-visit").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not visited now")):(e.addClass("gt-active"),console.log("click visit"))}},this.clickSeenViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-pin-plus").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not seen now")):(e.addClass("gt-active"),console.log("click seen"))}},this.clickMarkViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-bookmarks").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click delete bookmark")):(e.addClass("gt-active"),console.log("click add bookmark"))}},$("*").is(".gt-view-cards-inner")&&$(".gt-view-cards-inner").each(function(){t.createViewCardListeners($(this))}),$("#gt-enter-form-facebook").on("click",function(){t.socialEnter("facebook")}),$("#gt-enter-form-twitter").on("click",function(){t.socialEnter("twitter")}),$("#gt-enter-form-google").on("click",function(){t.socialEnter("google")}),$("#gt-reg-form-facebook").on("click",function(){t.socialRegistration("facebook")}),$("#gt-reg-form-twitter").on("click",function(){t.socialRegistration("twitter")}),$("#gt-reg-form-google").on("click",function(){t.socialRegistration("google")}),this.socialRegistration=function(t){alert("Регистрация через "+t)},this.socialEnter=function(t){alert("Вход через "+t)},this.cutNews=function(t){var e,i,s,n=t.parent(),o=n.height(),a=t.find("p");n.children().each(function(){o-=$(this).outerHeight(!0)}),o=o+t.height()-20,a.each(function(){(e=$(this).outerHeight(!0))<o?o-=e:o?(i=Math.floor($(this).text().length*o/e),s=$(this).text().substring(0,i-5),$(this).text(s+"..."),o=0):$(this).css("display","none")})},$("div").is(".js-news-cut")&&($(".js-news-cut").each(function(){t.cutNews($(this))}),s.resize(function(){$(".js-news-cut").each(function(){t.cutNews($(this))})})),this.cutReadMoreSlider=function(){$(".gt-read-more-slider-text-inner").each(function(){t.cutting($(this),160)})},this.cutting=function(t,e){var i=t.text();i.length>e&&(i=i.slice(0,e)+"...",t.text(i))},$("p").is(".gt-read-more-slider-text-inner")&&t.cutReadMoreSlider(),i.ready(function(){t.footerHeight(),t.deskTopMenuScroll()}),this.pageUp=function(){return $("html, body").animate({scrollTop:0},800),!1},this.upPageButton=function(){$(document).scrollTop()>30?u.addClass("gt-visible"):u.removeClass("gt-visible")},u.on("click",t.pageUp),s.scroll(function(){t.upPageButton(),$(".gt-header-menu").is(":visible")&&t.deskTopMenuScroll()}),s.resize(function(){t.deskTopMenuScroll(),t.footerHeight(),l.hasClass("gt-open")&&t.mobileMenuClose(),$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){$(this).removeClass("gt-width"),$(this).removeClass("gt-height"),t.imgHolderFunc($(this))})}),$(window).on("load",function(){$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){t.imgHolderFunc($(this))})}),e.on("click",function(t){}),$("*").is(".gt-menu-news")&&$(".gt-menu-news").find("a").on("click",function(t){t.preventDefault(),$(".gt-menu-news").find("li").removeClass("gt-active"),$(this).parent().addClass("gt-active"),console.log("temp func")})},$(document).ready(function(){new GoToTrip});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJHb1RvVHJpcCIsInNlbGYiLCJ0aGlzIiwiYm9keSIsIiQiLCJkb2N1bWVudCIsImRvYyIsImRvY1dpbmRvdyIsIndpbmRvdyIsImJvZHlQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0b2tlbjM2MCIsInRva2VuNjY3IiwidG9rZW43NjgiLCJ0b2tlbjEwMjQiLCJndEhlYWRlciIsImd0Rm9vdGVyIiwiZ3RXcmFwcGVyIiwidXBCdXR0b24iLCJtb2JpbGVNZW51U3dpdGNoIiwiZW50ZXJCdXR0b24iLCJlbnRlcldyYXBwZXIiLCJlbnRlckZvcm0iLCJlbnRlckNob3NlIiwiZW50ZXJDbG9zZSIsIm5pY2VTY3JvbGwiLCJjdXJzb3Jib3JkZXIiLCJtb3VzZXNjcm9sbHN0ZXAiLCJib3VuY2VzY3JvbGwiLCJjdXJzb3Jjb2xvciIsImZpeEJvZHkiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJjc3MiLCJwb3NpdGlvbiIsInVuZml4Qm9keSIsImZvb3RlckhlaWdodCIsIm91dGVySGVpZ2h0IiwiaGVpZ2h0IiwiZGVza1RvcE1lbnVTY3JvbGwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaXMiLCJtb2JpbGVNZW51Q2xvc2UiLCJtb2JpbGVNZW51T3BlbiIsIm9uIiwiaGFzQ2xhc3MiLCJvcGVuRW50ZXJGb3JtIiwic2V0VGltZW91dCIsImNsb3NlRW50ZXJGb3JtIiwiY2xvc2VSZXN0b3JlUGFzcyIsImNoYW5nZUVudGVyUmVnaXN0cmF0aW9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJhdHRyIiwib3BlblJlc3RvcmVQYXNzIiwiZWFjaCIsInNldEJhY2tncm91bmQiLCJwYXRoIiwiaW1nSG9sZGVyRnVuYyIsImVsIiwiaG9sZGVyQ29uc3QiLCJvdXRlcldpZHRoIiwiaW1nIiwiZmluZCIsImNyZWF0ZVNsaWRlciIsImN1cnJTbGlkZXIiLCJjcmVhdGVBcnJvd3MiLCJpbm5lckNvdW50Iiwic2NyZWVuQ29uc3QiLCJudW1Jbm5lciIsIm51bVBhbmVsIiwiaHRtbCIsIm9uZU1vdmVGdW5jdGlvbiIsInNob3dOdW0iLCJhcnJvd3NSZWFkeSIsImRlc3Ryb3lBcnJvd3MiLCJjbG9uZSIsIm9mZiIsImJ1bCIsIm51bSIsImRlbGV0ZWQiLCJjdXJyUG9zaXRpb24iLCJmYWRlIiwiZmFkZVNsaWRlck1vdmUiLCJ0cmFtIiwiY29udGFpbmVyIiwiY2hpbGRyZW4iLCJmaXJzdCIsImRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyIsImNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzIiwiYmFzZVdpZHRoIiwiYXBwZW5kIiwicmVtb3ZlIiwibGFzdCIsInByZXBlbmQiLCJ0cmFtU2xpZGVyTW92ZSIsImRvdHMiLCJhbGxEb3RzIiwiYW5pbWF0ZSIsInRyYW1BbmltYXRpb24iLCJlcSIsImluZGV4IiwiaW5uZXIiLCJ0ZXh0IiwiY3JlYXRlVG91Y2giLCJpbml0aWFsUG9pbnQiLCJmaW5hbFBvaW50IiwiZSIsIm9yaWdpbmFsRXZlbnQiLCJNYXRoIiwiYWJzIiwidG91Y2hlcyIsInBhZ2VYIiwiY29uc29sZSIsImxvZyIsImNoYW5nZWRUb3VjaGVzIiwiZGVzdHJveVRvdWNoIiwiZmluZFNjcmVlbkNvbnN0IiwicGFyc2VJbnQiLCJzZXRCYXNlV2lkdGgiLCJzbGlkZXJUaW1lT3V0IiwibGVuZ3RoIiwiYXJyb3ciLCJoYXNDbG9uZSIsIm5hdiIsInNwYW5zIiwiaSIsImNyZWF0ZURvdHMiLCJjbGlja1Bvc2l0aW9uIiwiYm9keVdyYXBwZXIiLCJzaG93IiwiY2xvbmVTbGlkZXIiLCJoaWRlIiwiZGVzdHJveUNsb25lU2xpZGVyIiwiY3JlYXRlQ2xvbmVTbGlkZXIiLCJwYXJlbnQiLCJyZXNpemUiLCJudW1iZXJDb2xsZWN0aW9uQXJ0aWNsZSIsImFmdGVyIiwibWFuYWdlR3RBY3RpdmVVbE1lbnUiLCJ0YWdOYW1lIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0Iiwic2V0UGxheWVycyIsInRhZyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwic3JjIiwibGFzdFNjcmlwdFRhZyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJjdXJyZW50UGxheWVyIiwiYWRkWW91VHViZSIsImluaXRpYWxpemUiLCJwbGF5ZXIiLCJtdXRlIiwicGxheVZpZGVvIiwicGxheUZ1bGxTY3JlZW4iLCJwYXVzZVZpZGVvIiwiaWZyYW1lIiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIiwiYmluZCIsImVsSWQiLCJZVCIsIlBsYXllciIsIndpZHRoIiwidmlkZW9JZCIsInBsYXllclZhcnMiLCJwbGF5bGlzdCIsImNvbG9yIiwibG9vcCIsImF1dG9wbGF5IiwiZXZlbnRzIiwib25SZWFkeSIsImZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uIiwiY3VyclRhYmxlIiwidGFibGUiLCJ0YWJsZVBhcmVudCIsInRhYmxlSGVpZ2h0IiwidGFibGVQYXJlbnRUb3AiLCJ0YWJsZVBhcmVudEJvdHRvbSIsInRhYmxlV2lkdGgiLCJ3aW5kb3dUb3AiLCJjcmVhdGVBcnRpY3RlU2Nyb2xsVGFibGUiLCJhcnRpY2xlcyIsInNjcm9sbFRvQXJ0aWNsZSIsInNob3dBcnRpZGxlU2hhZG93IiwiZWxIZWlnaHQiLCJ3aW5kb3dQb3NpdGlvbiIsIngiLCJjdXJyU2hhZG93Iiwic2Nyb2xsVGhyb3R0bGVyIiwic2Nyb2xsIiwic2Nyb2xsVGltZW91dCIsInNoYWRvdyIsImNoZWNrVGFibGVIZWlnaHQiLCJyaWdodCIsInNldEN1cnJUaW1lIiwiY3VyclRpbWUiLCJzZXRJbnRlcnZhbCIsImRhdGUiLCJEYXRlIiwic2V0VVRDSG91cnMiLCJob3VycyIsImdldEhvdXJzIiwibWludXRlcyIsImdldE1pbnV0ZXMiLCJ3ZWVrZGF5IiwiZ2V0RGF5IiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJjdXJzb3JvcGFjaXR5bWluIiwiY3Vyc29yb3BhY2l0eW1heCIsImN1cnNvcndpZHRoIiwiYmFja2dyb3VuZCIsInJhaWxvZmZzZXQiLCJ6aW5kZXgiLCJ0YWJTbGlkZXIiLCJjdXJyVGFicyIsInRhYlNsaWRlckFjdGlvbiIsImluaXQiLCJidXR0b25zIiwibWFpbiIsImNvbHVtblBhcnRuZXJzaGlwIiwicm93UGFydG5lcnNoaXAiLCJjcmVhdGVTZWxlY3RXcmFwcGVyIiwiY3VyclNlbGVjdCIsInBsYWNlaG9sZGVyIiwic2VsZWN0T3B0aW9uIiwic2VsZWN0T3B0aW9uTGVuZ3RoIiwic2VsZWN0ZWRPcHRpb24iLCJmaWx0ZXIiLCJ1bmRlZmluZWQiLCJ3cmFwIiwiY2xhc3MiLCJpbnNlcnRBZnRlciIsInNlbGVjdEdhcCIsIm5leHQiLCJzZWxlY3RMaXN0IiwidmFsIiwiYXBwZW5kVG8iLCJzZWxlY3RJdGVtIiwic2xpZGVVcCIsInNsaWRlRG93biIsImNob29zZUl0ZW0iLCJkYXRhIiwiY2xvc2VTaGFyZVZpZXdDYXJkIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xpY2tWaXNpdFZpZXdDYXJkIiwiY2xpY2tTZWVuVmlld0NhcmQiLCJjbGlja01hcmtWaWV3Q2FyZCIsImV2ZW50ZyIsImNsaWNrU2hhcmVWaWV3Q2FyZCIsInZpZXdDYXJkU29jaWFsIiwib3BlblNoYXJlVmlld0NhcmQiLCJidXR0b24iLCJzb2NpYWxFbnRlciIsInNvY2lhbFJlZ2lzdHJhdGlvbiIsInRva2VuIiwiYWxlcnQiLCJjdXROZXdzIiwiY3VyckhlaWdodCIsImN1dHRpbmdMZW5naHQiLCJuZXdUZXh0IiwibWF4SGVpZ2h0IiwiY3V0dGluZ0VsIiwiZmxvb3IiLCJzdWJzdHJpbmciLCJjdXRSZWFkTW9yZVNsaWRlciIsImN1dHRpbmciLCJuZXdzVGV4dCIsInNsaWNlIiwicmVhZHkiLCJwYWdlVXAiLCJ1cFBhZ2VCdXR0b24iXSwibWFwcGluZ3MiOiJBQUtBQSxTQUFXLFdBRVAsSUFBSUMsRUFBT0MsS0FDUEMsRUFBT0MsRUFBRUMsU0FBU0YsTUFDbEJHLEVBQU1GLEVBQUVDLFVBQ1JFLEVBQVlI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ZUFFRHJCLEVBQVMrQixTQUFTLFlBQVk5QyxFQUFLMkMsa0JBRW5DeEMsRUFBRSxPQUFPdUMsR0FBRyx1QkFDWnZDLEVBQUUsc0JBQXNCcUQsS0FBSyxXQUN6QnJELEVBQUVGLE1BQU13QyxZQUFZLFlBQ3BCdEMsRUFBRUYsTUFBTXdDLFlBQVksYUFDcEJ6QyxFQUFLMkQsY0FBY3hELEVBQUVGLFdBSWpDRSxFQUFFSSxRQUFRc0MsR0FBRyxPQUFRLFdBQ2IxQyxFQUFFLE9BQU91QyxHQUFHLHVCQUNadkMsRUFBRSxzQkFBc0JxRCxLQUFLLFdBQ3pCeEQsRUFBSzJELGNBQWN4RCxFQUFFRixXQUtqQ0MsRUFBSzJDLEdBQUcsUUFBUyxTQUFVTyxNQVN2QmpELEVBQUUsS0FBS3VDLEdBQUcsa0JBQ1Z2QyxFQUFFLGlCQUFpQjZELEtBQUssS0FBS25CLEdBQUcsUUFBUyxTQUFVTyxHQUMvQ0EsRUFBTTJGLGlCQUNONUksRUFBRSxpQkFBaUI2RCxLQUFLLE1BQU12QixZQUFZLGFBQzFDdEMsRUFBRUYsTUFBTXVJLFNBQVNoRyxTQUFTLGFBQzFCMEUsUUFBUUMsSUFBSSxnQkFheEJoSCxFQUFFQyxVQUFVbVIsTUFFUixXQUNtQixJQUFJeFIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/RhNGD0L3QutGG0LjRjywg0L7Qv9GA0LXQtNC10LvRj9GO0YnQsNGPINC30LDRgNC10LPQuNGB0YLQstC40YDQvtCy0LDQvdC90YvQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LjQu9C4INC90LXRglxyXG5cclxuLy8g0L/RgNC10LTRg9GB0LzQvtGC0YDQtdGC0Ywg0LLRi9GF0L7QtCDQuNC3INCw0LrQutCw0YPQvdGC0LBcclxuXHJcblxyXG5Hb1RvVHJpcCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgYm9keSA9ICQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgZG9jID0gJChkb2N1bWVudCksXHJcbiAgICAgICAgZG9jV2luZG93ID0gJCh3aW5kb3cpLFxyXG4gICAgICAgIGJvZHlQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgdG9wOiBmYWxzZSxcclxuICAgICAgICAgICAgbGVmdDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRva2VuMzYwID0gJChcIiNndC1pcy0zNjBcIiksXHJcbiAgICAgICAgdG9rZW40ODAgPSAkKFwiI2d0LWlzLTQ4MFwiKSxcclxuICAgICAgICB0b2tlbjY2NyA9ICQoXCIjZ3QtaXMtNjY3XCIpLFxyXG4gICAgICAgIHRva2VuNzY4ID0gJChcIiNndC1pcy03NjhcIiksXHJcbiAgICAgICAgdG9rZW4xMDI0ID0gJChcIiNndC1pcy0xMDI0XCIpLFxyXG4gICAgICAgIHRva2VuMTIzMSA9ICQoXCIjZ3QtaXMtMTIzMVwiKSxcclxuICAgICAgICBndEhlYWRlciA9ICQoXCJoZWFkZXJcIiksXHJcbiAgICAgICAgZ3RGb290ZXIgPSAkKFwiZm9vdGVyXCIpLFxyXG4gICAgICAgIGd0V3JhcHBlciA9ICQoXCIjZ3Qtd3JhcHBlclwiKSxcclxuICAgICAgICB1cEJ1dHRvbiA9ICQoXCIjZ3QtdXBcIiksXHJcbiAgICAgICAgbW9iaWxlTWVudVN3aXRjaCA9ICQoXCIjZ3QtbW9iaWxlLW1lbnUtc3dpdGNoXCIpLFxyXG4gICAgICAgIGVudGVyQnV0dG9uID0gJCgnLmd0LWVudGVyJyksXHJcbiAgICAgICAgZW50ZXJXcmFwcGVyID0gJCgnI2d0LWhlYWRlci1lbnRlci13cmFwcGVyJyksXHJcbiAgICAgICAgZW50ZXJGb3JtID0gJCgnI2d0LWhlYWRlci1lbnRlcicpLFxyXG4gICAgICAgIGVudGVyQ2hvc2UgPSAkKCcjZ3QtaGVhZGVyLWVudGVyLWNob3NlJyksXHJcbiAgICAgICAgZW50ZXJDbG9zZSA9ICQoJyNndC1oZWFkZXItZW50ZXItY2xvc2UnKTtcclxuICAgICQoXCJodG1sXCIpLm5pY2VTY3JvbGwoe1xyXG4gICAgICAgIGN1cnNvcmJvcmRlcjogJzFweCBzb2xpZCAjNmQ2ZDZkJyxcclxuICAgICAgICBtb3VzZXNjcm9sbHN0ZXA6ICc2MCcsXHJcbiAgICAgICAgYm91bmNlc2Nyb2xsOiB0cnVlLFxyXG4gICAgICAgIGN1cnNvcmNvbG9yOiAnIzZkNmQ2ZCdcclxuICAgIH0pXHJcblxyXG5cclxuICAgIHRoaXMuZml4Qm9keSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoYm9keVBvc2l0aW9uLnRvcCB8fCBib2R5UG9zaXRpb24ubGVmdCkgcmV0dXJuO1xyXG4gICAgICAgIGJvZHlQb3NpdGlvbi50b3AgPSBkb2Muc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLmxlZnQgPSBib2R5Lm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgYm9keS5jc3Moe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxyXG4gICAgICAgICAgICBsZWZ0OiBib2R5UG9zaXRpb24ubGVmdCArIFwicHhcIixcclxuICAgICAgICAgICAgdG9wOiAtMSAqIGJvZHlQb3NpdGlvbi50b3AgKyBcInB4XCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudW5maXhCb2R5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGJvZHkuY3NzKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFwiXCIsXHJcbiAgICAgICAgICAgIGxlZnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIHRvcDogXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvYy5zY3JvbGxUb3AoYm9keVBvc2l0aW9uLnRvcCk7XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLnRvcCA9IGZhbHNlO1xyXG4gICAgICAgIGJvZHlQb3NpdGlvbi5sZWZ0ID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9vdGVySGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmb290ZXJIZWlnaHQgPSBndEZvb3Rlci5vdXRlckhlaWdodCgpO1xyXG4gICAgICAgIGlmIChmb290ZXJIZWlnaHQgPiBkb2NXaW5kb3cuaGVpZ2h0KCkgLSA1MCkge1xyXG4gICAgICAgICAgICBndEZvb3Rlci5jc3MoXCJwb3NpdGlvblwiLCBcInN0YXRpY1wiKTtcclxuICAgICAgICAgICAgZ3RXcmFwcGVyLmNzcyhcIm1hcmdpbi1ib3R0b21cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmNzcyhcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGd0Rm9vdGVyLmNzcyhcInBvc2l0aW9uXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5jc3MoXCJwb3NpdGlvblwiLCBcIlwiKTtcclxuICAgICAgICAgICAgZ3RXcmFwcGVyLmNzcyhcIm1hcmdpbi1ib3R0b21cIiwgZ3RGb290ZXIub3V0ZXJIZWlnaHQoKSArIFwicHhcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuZGVza1RvcE1lbnVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGRvY1dpbmRvdy5zY3JvbGxUb3AoKSA+IGd0SGVhZGVyLm91dGVySGVpZ2h0KCkpIHtcclxuICAgICAgICAgICAgZ3RIZWFkZXIuYWRkQ2xhc3MoXCJndC1oZWFkZXItc2Nyb2xsZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ3RIZWFkZXIucmVtb3ZlQ2xhc3MoXCJndC1oZWFkZXItc2Nyb2xsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtdG9wLXBsYW5lXCIpKSB7XHJcbiAgICAgICAgJCgnLmd0LWhlYWRlcicpLmFkZENsYXNzKCdndC1oZWFkZXItcGxhbmUtdG9wJylcclxuICAgIH07XHJcblxyXG4gICAgXHJcbiAgICB0aGlzLm1vYmlsZU1lbnVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnVuZml4Qm9keSgpO1xyXG4gICAgICAgIG1vYmlsZU1lbnVTd2l0Y2gucmVtb3ZlQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgIGd0SGVhZGVyLnJlbW92ZUNsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMubW9iaWxlTWVudU9wZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5maXhCb2R5KCk7XHJcbiAgICAgICAgZ3RIZWFkZXIuYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgIG1vYmlsZU1lbnVTd2l0Y2guYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIG1vYmlsZU1lbnVTd2l0Y2gub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJndC1vcGVuXCIpKSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9iaWxlTWVudUNsb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5tb2JpbGVNZW51T3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vcGVuRW50ZXJGb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVudGVyV3JhcHBlci5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoc2hvdyk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcclxuICAgICAgICAgICAgJCgnI2d0LWhlYWRlci1yZWdpc3RlcmVkJykuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAgICAgZW50ZXJGb3JtLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGVudGVyQ2xvc2UuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNsb3NlRW50ZXJGb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVudGVyQ2xvc2UucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBlbnRlckZvcm0ucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAkKCcjZ3QtaGVhZGVyLXJlZ2lzdGVyZWQnKS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIHNlbGYuY2xvc2VSZXN0b3JlUGFzcygpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoaGlkZSwgNzUwKTtcclxuICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xyXG4gICAgICAgICAgICBlbnRlcldyYXBwZXIucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNoYW5nZUVudGVyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGVudGVyRm9ybS5oYXNDbGFzcygkKGV2ZW50LnRhcmdldCkuYXR0cihcImNsYXNzXCIpKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGVudGVyRm9ybS5yZW1vdmVDbGFzcyhcImd0LWNob3Nlbi1lbnRlclwiKS5yZW1vdmVDbGFzcyhcImd0LWNob3Nlbi1yZWdpc3RyYXRpb25cIikuYWRkQ2xhc3MoJChldmVudC50YXJnZXQpLmF0dHIoXCJjbGFzc1wiKSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMub3BlblJlc3RvcmVQYXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJyNndC1lbnRlci1wYXNzLXJlc3RvcmUtd3JhcHBlcicpLmFkZENsYXNzKCdndC1vcGVuJylcclxuICAgIFxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xvc2VSZXN0b3JlUGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcjZ3QtZW50ZXItcGFzcy1yZXN0b3JlLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGVudGVyQnV0dG9uLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykub24oJ2NsaWNrJywgc2VsZi5vcGVuRW50ZXJGb3JtKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGVudGVyQ2xvc2Uub24oJ2NsaWNrJywgc2VsZi5jbG9zZUVudGVyRm9ybSk7XHJcbiAgICBcclxuICAgIGVudGVyQ2hvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgc2VsZi5jaGFuZ2VFbnRlclJlZ2lzdHJhdGlvbihldmVudCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tcmVzdG9yZS1wYXNzJykub24oJ2NsaWNrJyxzZWxmLm9wZW5SZXN0b3JlUGFzcyk7XHJcbiAgICAkKCcjZ3QtZW50ZXItcGFzcy1yZXN0b3JlLXN1Ym1pdCcpLm9uKCdjbGljaycsc2VsZi5jbG9zZVJlc3RvcmVQYXNzKTtcclxuXHJcbiAgICB0aGlzLnNldEJhY2tncm91bmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGltZ0hvbGRlcnMgPSAkKFwiLmd0LWltZy1ob2xkZXJcIik7XHJcbiAgICAgICAgaW1nSG9sZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmF0dHIoXCJkYXRhLWJnXCIpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBwYXRoID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1iZ1wiKTtcclxuICAgICAgICAgICAgaWYgKHRva2VuNjY3LmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICd1cmwoXCIuL2ltZy9iYWNrZ3JvdW5kcy9waG9uZS8nICsgcGF0aCArICdcIiknXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbjEwMjQuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWltYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybChcIi4vaW1nL2JhY2tncm91bmRzL3RhYmxldC8nICsgcGF0aCArICdcIiknXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKFxyXG4gICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWltYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAndXJsKFwiLi9pbWcvYmFja2dyb3VuZHMvZGVza3RvcC8nICsgcGF0aCArICdcIiknXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuaW1nSG9sZGVyRnVuYyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3Qtd2lkdGhcIik7XHJcbiAgICAgICAgJChlbCkucmVtb3ZlQ2xhc3MoXCJndC1oZWlnaHRcIik7XHJcbiAgICAgICAgJChlbCkucmVtb3ZlQ2xhc3MoXCJndC12aXNpYmxlXCIpO1xyXG4gICAgICAgIHZhciBob2xkZXJDb25zdCA9IGVsLm91dGVySGVpZ2h0KCkgLyBlbC5vdXRlcldpZHRoKCksXHJcbiAgICAgICAgICAgIGltZyA9IGVsLmZpbmQoJ2ltZycpLFxyXG4gICAgICAgICAgICBpbWdDb25zdCA9IGltZy5vdXRlckhlaWdodCgpIC8gaW1nLm91dGVyV2lkdGgoKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChpbWdDb25zdCA+IGhvbGRlckNvbnN0KSB7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3Qtd2lkdGhcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LWhlaWdodFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJndC12aXNpYmxlXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbWctaG9sZGVyXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRCYWNrZ3JvdW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jcmVhdGVTbGlkZXIgPSBmdW5jdGlvbiAoY3VyclNsaWRlciwgcG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgc2xpZGVyVGltZU91dCxcclxuICAgICAgICAgICAgc2NyZWVuQ29uc3QgPSAxLFxyXG4gICAgICAgICAgICBiYXNlV2lkdGgsXHJcbiAgICAgICAgICAgIGFycm93c1JlYWR5ID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGlubmVyID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1pbm5lclwiKSxcclxuICAgICAgICAgICAgY29udGFpbmVyID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1jb250YWluZXJcIiksXHJcbiAgICAgICAgICAgIGlubmVyQ291bnQgPSBpbm5lci5sZW5ndGgsXHJcbiAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IHBvc2l0aW9uIHx8IDAsXHJcbiAgICAgICAgICAgIGFycm93ID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtYXJyb3dcIiksXHJcbiAgICAgICAgICAgIGRvdHMgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWhhcy1kb3RzXCIpLFxyXG4gICAgICAgICAgICBudW1QYW5lbCA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItbnVtXCIpLFxyXG4gICAgICAgICAgICB0cmFtID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci10cmFtXCIpLFxyXG4gICAgICAgICAgICB0cmFtQW5pbWF0aW9uID0gK2N1cnJTbGlkZXIuYXR0cignZGF0YS1kdXJhdGlvbicpIHx8IDMwMCxcclxuICAgICAgICAgICAgZmFkZSA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItZmFkZVwiKSxcclxuICAgICAgICAgICAgaGFzQ2xvbmUgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWhhcy1jbG9uZVwiKTtcclxuICAgICAgICBpZiAoZmFkZSkge1xyXG4gICAgICAgICAgICBmYWRlU2xpZGVyTW92ZShwb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0cmFtKSB7XHJcbiAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICBzZXRCYXNlV2lkdGgoKTtcclxuICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFycm93KSB7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICBjcmVhdGVBcnJvd3MoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvdHMpIHtcclxuICAgICAgICAgICAgY3JlYXRlRG90cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVRvdWNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoYXNDbG9uZSkge1xyXG4gICAgICAgICAgICBjcmVhdGVDbG9uZUxpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lTGlzdGVuZXJzKCkge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoJy5ndC1zbGlkZXItaW5uZXItY292ZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNsb25lU2xpZGVyKCQodGhpcykucGFyZW50KCkuaW5kZXgoKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQXJyb3dzKCkge1xyXG4gICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtSW5uZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChudW1QYW5lbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG51bUlubmVyID0gJzxkaXYgY2xhc3M9XCJndC1zbGlkZXItYXJyb3ctbnVtXCI+PGkgY2xhc3M9XCJndC1zbGlkZXItbnVtLWN1cnJcIj48L2k+PGk+0LjQtzwvaT48aSBjbGFzcz1cImd0LXNsaWRlci1udW0tbWF4XCI+PC9pPjwvZGl2PidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItYXJyb3ctaG9sZGVyXCIpLmh0bWwoXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzID0gXCJndC1zbGlkZXItYXJyb3cgbGVmdFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiICsgbnVtSW5uZXIgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWFycm93IHJpZ2h0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3NwYW4+XCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBcnJvd3NMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHNob3dOdW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveUFycm93cyhjbG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBjbG9uZSB8fCBjdXJyU2xpZGVyO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmxlZnRcIikub2ZmKCk7XHJcbiAgICAgICAgICAgIGVsLmZpbmQoXCIucmlnaHRcIikub2ZmKCk7XHJcbiAgICAgICAgICAgIGVsLmZpbmQoXCIuZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiKS5odG1sKFwiXCIpO1xyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFycm93c0xpc3RlbmVycygpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLmxlZnRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLnJpZ2h0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKG51bVBhbmVsKSBzaG93TnVtKClcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEb3RzKCkge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmFwcGVuZCgnPGRpdiBjbGFzcz1cImd0LXNsaWRlci1uYXZcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgdmFyIG5hdiA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItbmF2XCIpLFxyXG4gICAgICAgICAgICAgICAgc3BhbnMgPSBcIlwiO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlubmVyQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3BhbnMgKz0gXCI8c3BhbiBkYXRhLW51bSA9IFwiICsgaSArIFwiPjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuYXYuaHRtbChzcGFucyk7XHJcbiAgICAgICAgICAgIG5hdi5maW5kKFwic3BhblwiKS5maXJzdCgpLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLW5hdiBzcGFuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKHRydWUsICskKHRoaXMpLmF0dHIoXCJkYXRhLW51bVwiKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uZU1vdmVGdW5jdGlvbihidWwsIG51bSkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmUsZGVsZXRlZDtcclxuICAgICAgICAgICAgaWYgKG51bSB8fCBudW0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IG51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGJ1bCkge1xyXG4gICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24tLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKGZhZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmFkZVNsaWRlck1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0cmFtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSAgY29udGFpbmVyLmNoaWxkcmVuKCkuZmlyc3QoKS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQgPSBjb250YWluZXIuY2hpbGRyZW4oKS5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnJTbGlkZXIuaGFzQ2xhc3MoJ2d0LXZpZXctY2FyZHMtc2xpZGVyJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyhkZWxldGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoJ2xlZnQnLCAoLShjdXJyUG9zaXRpb24gLSAyKSAqIGJhc2VXaWR0aCkgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbi0tO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lID0gY29udGFpbmVyLmNoaWxkcmVuKCkubGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQgPSBjb250YWluZXIuY2hpbGRyZW4oKS5sYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyclNsaWRlci5oYXNDbGFzcygnZ3Qtdmlldy1jYXJkcy1zbGlkZXInKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveVZpZXdDYXJkTGlzdGVuZXJzKGRlbGV0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzKGNsb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNzcygnbGVmdCcsICgtKGN1cnJQb3NpdGlvbiArIDIpICogYmFzZVdpZHRoKSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wcmVwZW5kKGNsb25lLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFtU2xpZGVyTW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAobnVtUGFuZWwpIHNob3dOdW0oKTtcclxuICAgICAgICAgICAgaWYgKGRvdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbGxEb3RzID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1uYXYgc3BhblwiKTtcclxuICAgICAgICAgICAgICAgIGFsbERvdHMucmVtb3ZlQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAkKGFsbERvdHNbY29udGFpbmVyLmZpbmQoJy5ndC1vcGVuJykuYXR0cignZGF0YS1jb3VudCcpXSkuYWRkQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gdHJhbVNsaWRlck1vdmUoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hbmltYXRlKHtsZWZ0OiAtY3VyclBvc2l0aW9uICogYmFzZVdpZHRofSwgdHJhbUFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbigpLmVxKGN1cnJQb3NpdGlvbikuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZhZGVTbGlkZXJNb3ZlKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBvc2l0aW9uIHx8IGN1cnJQb3NpdGlvbjtcclxuICAgICAgICAgICAgJChpbm5lcikucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAgICAgJChpbm5lcltpbmRleF0pLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd051bSgpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLW51bS1jdXJyJykudGV4dCgrKGNvbnRhaW5lci5maW5kKCcuZ3Qtb3BlbicpLmF0dHIoJ2RhdGEtY291bnQnKSkgKyAxKTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLW51bS1tYXgnKS50ZXh0KGlubmVyQ291bnQpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRvdWNoKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5pdGlhbFBvaW50ID0gMCxcclxuICAgICAgICAgICAgICAgIGZpbmFsUG9pbnQgPSAwO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLm9uKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxQb2ludCA9IE1hdGguYWJzKGUudG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInRvdWNoc3RhcnRcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLm9uKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBmaW5hbFBvaW50ID0gTWF0aC5hYnMoZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5pdGlhbFBvaW50IC0gZmluYWxQb2ludCkgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsUG9pbnQgPiBmaW5hbFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveVRvdWNoKGNsb25lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IGNsb25lIHx8IGN1cnJTbGlkZXI7XHJcbiAgICAgICAgICAgIGVsLm9mZigpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbmRTY3JlZW5Db25zdCgpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJTbGlkZXIuYXR0cihcImRhdGEtY291bnRcIikpIHtcclxuICAgICAgICAgICAgICAgIHNjcmVlbkNvbnN0ID0gcGFyc2VJbnQoY3VyclNsaWRlci5hdHRyKFwiZGF0YS1jb3VudFwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0b2tlbjc2OCkuaXMoXCI6dmlzaWJsZVwiKSkgc2NyZWVuQ29uc3QgPSAzO1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodG9rZW42NjcpLmlzKFwiOnZpc2libGVcIikpIHNjcmVlbkNvbnN0ID0gMjtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRva2VuMzYwKS5pcyhcIjp2aXNpYmxlXCIpKSBzY3JlZW5Db25zdCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBzZXRCYXNlV2lkdGgoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRCYXNlV2lkdGgnKVxyXG4gICAgICAgICAgICBiYXNlV2lkdGggPSBjdXJyU2xpZGVyLm91dGVyV2lkdGgoKSAvIHNjcmVlbkNvbnN0O1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLWNvbnRhaW5lclwiKS5vdXRlcldpZHRoKChpbm5lckNvdW50ICsgMSkgKiBiYXNlV2lkdGgpO1xyXG4gICAgICAgICAgICBpbm5lci5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub3V0ZXJXaWR0aChiYXNlV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNvdW50JywgJCh0aGlzKS5pbmRleCgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVTbGlkZXIoY2xpY2tQb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIiNndC1jbG9uZVwiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBzZWxmLmZpeEJvZHkoKTtcclxuICAgICAgICAgICAgdmFyIGJvZHlXcmFwcGVyID0gJChcIiNndC1ib2R5LXdyYXBwZXJcIik7XHJcbiAgICAgICAgICAgIGJvZHlXcmFwcGVyLmFwcGVuZCgnPGRpdiBpZCA9IFwiZ3QtY2xvbmUtd3JhcHBlclwiICAgY2xhc3M9XCJjb250YWluZXJcIj48ZGl2IGlkID0gXCJndC1jbG9uZVwiIGNsYXNzPVwiZ3Qtc2xpZGVyIGd0LXNsaWRlci1jbG9uZSBndC1zbGlkZXItZmFkZSBndC1zbGlkZXItbnVtICBndC1zbGlkZXItaGFzLWFycm93XCI+PGRpdiBpZCA9IFwiZ3QtY2xvbmUtY2xvc2VcIiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWNsb25lLWNsb3NlXCI+PC9kaXY+PGRpdiAgaWQgPSBcImd0LWNsb25lLWNvbnRhaW5lclwiIGNsYXNzPVwiZ3Qtc2xpZGVyLWNvbnRhaW5lclwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG4gICAgICAgICAgICBib2R5V3JhcHBlci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZVNsaWRlciA9ICQoJyNndC1jbG9uZScpLFxyXG4gICAgICAgICAgICAgICAgaW5uZXJzID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1pbm5lclwiKS5jbG9uZSh0cnVlKTtcclxuICAgICAgICAgICAgaW5uZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vdXRlcldpZHRoKCcnKTtcclxuICAgICAgICAgICAgICAgICQoJyNndC1jbG9uZS1jb250YWluZXInKS5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVNsaWRlcihjbG9uZVNsaWRlciwgY2xpY2tQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtY2xvc2VcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95Q2xvbmVTbGlkZXIoY2xvbmVTbGlkZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95Q2xvbmVTbGlkZXIoY2xvbmVTbGlkZXIpIHtcclxuICAgICAgICAgICAgZGVzdHJveUFycm93cyhjbG9uZVNsaWRlcik7XHJcbiAgICAgICAgICAgIGRlc3Ryb3lUb3VjaChjbG9uZVNsaWRlcik7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtY2xvc2VcIikub2ZmKCk7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtd3JhcHBlclwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJChcIiNndC1ib2R5LXdyYXBwZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnVuZml4Qm9keSgpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vLy8vLy8vLy9yZXNpemVTbGlkZXJcclxuICAgICAgICBmdW5jdGlvbiByZXNpemVTbGlkZXIoKSB7XHJcbiAgICAgICAgICAgIGlmICghc2xpZGVyVGltZU91dCkge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVyVGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlclRpbWVPdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZUZ1bmMoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEzMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBkb2NXaW5kb3cucmVzaXplKHJlc2l6ZVNsaWRlcik7XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiByZXNpemVGdW5jKCkge1xyXG4gICAgICAgICAgICBkZXN0cm95VG91Y2goKTtcclxuICAgICAgICAgICAgaWYgKHRyYW0pIHtcclxuICAgICAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICAgICAgc2V0QmFzZVdpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICByZXNpemVNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB0cmFtU2xpZGVyTW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJvd3NSZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUFycm93cygpO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQXJyb3dzKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVUb3VjaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZU1vdmUoKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3QpXHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3Q7XHJcbiAgICAgICAgICAgIGlmIChpbm5lckNvdW50IDw9IHNjcmVlbkNvbnN0KSBjdXJyUG9zaXRpb24gPSAwO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1zbGlkZXJcIikpIHtcclxuICAgICAgICAkKFwiLmd0LXNsaWRlclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5jcmVhdGVTbGlkZXIoJCh0aGlzKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLm51bWJlckNvbGxlY3Rpb25BcnRpY2xlID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwuZmluZChcIi5ndC1jb2xsZWN0aW9uLWxpbmstd3JhcHBlclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuZ3QtY29sbGVjdGlvbi1saW5rLXNsaWRlci13cmFwcGVyJykuYWZ0ZXIoJzxkaXYgY2xhc3MgPSBcImd0LWNvbGxlY3Rpb24tbGluay1udW1iZXJcIj48c3Bhbj4nICsgKCQodGhpcykuaW5kZXgoKSArIDEpICsgJzwvc3Bhbj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKHRoaXMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1jb2xsZWN0aW9uLXdyYXBwZXItbnVtXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1jb2xsZWN0aW9uLXdyYXBwZXItbnVtXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLm51bWJlckNvbGxlY3Rpb25BcnRpY2xlKCQodGhpcykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tYW5hZ2VHdEFjdGl2ZVVsTWVudSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmIChlbC50YWdOYW1lICE9IFwibGlcIilcclxuICAgICAgICAgICAgZWwgPSAkKGVsKS5jbG9zZXN0KFwibGlcIik7XHJcbiAgICBcclxuICAgICAgICAkKGVsKS5jbG9zZXN0KCQoXCJ1bFwiKSkuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICAvLyBpZiAoJChcIipcIikuaXMoXCIuZ3QtaHVuZHJlZC1tZW51XCIpKSB7XHJcbiAgICAvLyAgICAgJChcIi5ndC1odW5kcmVkLW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIC8vICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC1idXR0b24tbWVudVwiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtYnV0dG9uLW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtbWVudS1uZXdzX2l0ZW1zXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1tZW51LW5ld3NfaXRlbXNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0UGxheWVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuICAgICAgICB0YWcudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiAgICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWVyX2FwaVwiO1xyXG4gICAgICAgIHZhciBsYXN0U2NyaXB0VGFnID0gJChcInNjcmlwdFwiKVskKFwic2NyaXB0XCIpLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGxhc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBsYXN0U2NyaXB0VGFnKTtcclxuICAgICAgICB2YXIgZ3RWaWRlb3MgPSAkKFwiLmd0LXZpZGVvXCIpO1xyXG4gICAgICAgIGd0VmlkZW9zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFBsYXllciA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuZmluZChcIi5ndC12aWRlby1zd2l0Y2hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRZb3VUdWJlKGN1cnJlbnRQbGF5ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuYWRkWW91VHViZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBwbGF5ZXIsXHJcbiAgICAgICAgICAgIGVsSWQgPSBcImd0LXZpZGVvLVwiICsgZWwuaW5kZXgoKTtcclxuICAgIFxyXG4gICAgICAgIGVsLmZpbmQoXCIuZ3QtdmlkZW8tc3dpdGNoXCIpLmhpZGUoJ3Nsb3cnKTtcclxuICAgIFxyXG4gICAgICAgIGVsXHJcbiAgICAgICAgICAgIC5maW5kKFwiLmd0LXZpZGVvLWlubmVyXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgZWxJZClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiZ3QtdmlkZW8tZm9yZWdyb3VuZFwiKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKGVsSWQsIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWxpc3Q6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWtiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogaW5pdGlhbGl6ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICAgICAgcGxheWVyLm11dGUoKTtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcyhcImd0LXZpZGVvLW9uXCIpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXVuY292ZXJcIikub24oJ2NsaWNrJywgcGxheUZ1bGxTY3JlZW4pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBhdXNlXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlGdWxsU2NyZWVuKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncGxheUZ1bGxTY3JlZW4nKTtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGVsLmZpbmQoJ2lmcmFtZScpWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdEZ1bGxTY3JlZW4gPSBpZnJhbWUucmVxdWVzdEZ1bGxTY3JlZW4gfHwgaWZyYW1lLm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGlmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbjtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3RGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RnVsbFNjcmVlbi5iaW5kKGlmcmFtZSkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LXZpZGVvXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRQbGF5ZXJzKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uID0gZnVuY3Rpb24gKGN1cnJUYWJsZSkge1xyXG4gICAgICAgIHZhciB0YWJsZSA9Y3VyclRhYmxlLFxyXG4gICAgICAgICAgICB0YWJsZVBhcmVudCA9IHRhYmxlLnBhcmVudCgpLFxyXG4gICAgICAgICAgICB0YWJsZUhlaWdodCA9IHRhYmxlLm91dGVySGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50VG9wID0gdGFibGVQYXJlbnQucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50Qm90dG9tID0gdGFibGVQYXJlbnRUb3AgKyB0YWJsZVBhcmVudC5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICB0YWJsZVdpZHRoID0gdGFibGUub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICB3aW5kb3dUb3AgPSBkb2Muc2Nyb2xsVG9wKCk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgaWYgKHRhYmxlUGFyZW50VG9wICsgOTAgPiB3aW5kb3dUb3ApIHtcclxuICAgICAgICAgICAgaWYgKHRhYmxlLmhhc0NsYXNzKFwiZ3QtZml4ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZUNsYXNzKFwiZ3QtZml4ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKHRhYmxlUGFyZW50VG9wIDwgd2luZG93VG9wICsgOTApIHtcclxuICAgICAgICAgICAgaWYgKCF0YWJsZS5oYXNDbGFzcyhcImd0LWZpeGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRhYmxlLm9mZnNldCgpLmxlZnQgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRhYmxlV2lkdGhcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGFibGUuYWRkQ2xhc3MoXCJndC1maXhlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2luZG93VG9wIC0gdGFibGVQYXJlbnRCb3R0b20gKyB0YWJsZUhlaWdodCArIDkwID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmFkZENsYXNzKFwiZ3QtZml4ZWQtYm90dG9tXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlQ2xhc3MoXCJndC1maXhlZC1ib3R0b21cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISQoXCJkaXZcIikuaXMoXCIuZ3QtYXJ0aWNsZVwiKSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGFydGljbGVzID0gJChcIi5ndC1hcnRpY2xlXCIpLFxyXG4gICAgICAgICAgICB0YWJsZSA9ICQoXCIjZ3QtYXJ0aWNsZS1zY3JvbGwtdGFibGVcIiksXHJcbiAgICAgICAgICAgIGh0bWwgPSBcIlwiO1xyXG4gICAgICAgIGFydGljbGVzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzID0gXCJndC1hcnRpY2xlLXNjcm9sbFwiICAgZGF0YS1ocmVmPSBcIicgKyAkKHRoaXMpLmF0dHIoXCJpZFwiKSArICdcIiA+PGRpdiBjbGFzcyA9IFwiZ3QtYXJ0aWNsZS1zY3JvbGwtc2hhZG93XCI+PC9kaXY+PHA+JyArXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJoMlwiKS50ZXh0KCkgK1xyXG4gICAgICAgICAgICAgICAgXCI8L3A+PC9kaXY+XCI7XHJcbiAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0YWJsZS5odG1sKGh0bWwpO1xyXG4gICAgICAgIHRhYmxlLmZpbmQoJy5ndC1hcnRpY2xlLXNjcm9sbCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2Nyb2xsVG9BcnRpY2xlKCQodGhpcykuYXR0cignZGF0YS1ocmVmJykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnNjcm9sbFRvQXJ0aWNsZSA9IGZ1bmN0aW9uIChhdHRyKSB7XHJcbiAgICAgICAgJCgnaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgnIycgKyBhdHRyKS5vZmZzZXQoKS50b3AgLSAxMTB9LCAxMTAwKTtcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5zaG93QXJ0aWRsZVNoYWRvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiLmd0LWFydGljbGVcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyUG9zaXRpb24gPSAkKHRoaXMpLnBvc2l0aW9uKCkudG9wLFxyXG4gICAgICAgICAgICAgICAgZWxIZWlnaHQgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCksXHJcbiAgICAgICAgICAgICAgICB3aW5kb3dQb3NpdGlvbiA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiB3aW5kb3dQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gKHdpbmRvd1Bvc2l0aW9uIC0gY3VyclBvc2l0aW9uKSAvIGVsSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh4ID4gMSkgeCA9IDE7XHJcbiAgICAgICAgICAgIHZhciBjdXJyU2hhZG93ID0gJChcIi5ndC1hcnRpY2xlLXNjcm9sbFwiKVskKHRoaXMpLmluZGV4KCldO1xyXG4gICAgICAgICAgICAkKGN1cnJTaGFkb3cpXHJcbiAgICAgICAgICAgICAgICAuZmluZChcIi5ndC1hcnRpY2xlLXNjcm9sbC1zaGFkb3dcIilcclxuICAgICAgICAgICAgICAgIC5jc3MoXCJ3aWR0aFwiLCB4ICogMTAwICsgXCIlXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJCgnZGl2JykuaXMoJy5ndC1hcnRpY2xlLXRhYmxlLXdyYXBwZXInKSkge1xyXG4gICAgICAgICQoJy5ndC1hcnRpY2xlLXRhYmxlLXdyYXBwZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJUYWJsZSA9ICQodGhpcyk7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIHNoYWRvdyA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRpbWVvdXQ7XHJcbiAgICAgICAgICAgIGlmICgkKCdkaXYnKS5pcyhcIi5ndC1hcnRpY2xlLXNjcm9sbC10YWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgc2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQXJ0aWN0ZVNjcm9sbFRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dBcnRpZGxlU2hhZG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNjcm9sbFRocm90dGxlcigpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFzY3JvbGwpIHJldHVybjtcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNjcm9sbFRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uKGN1cnJUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2hvd0FydGlkbGVTaGFkb3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBjaGVja1RhYmxlSGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIGRvY1dpbmRvdy5zY3JvbGwoc2Nyb2xsVGhyb3R0bGVyKTtcclxuICAgICAgICAgICAgZG9jV2luZG93LnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja1RhYmxlSGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaHJvdHRsZXIoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1RhYmxlSGVpZ2h0KCkge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclRhYmxlLm91dGVySGVpZ2h0KCkgPiBjdXJyVGFibGUucGFyZW50KCkub3V0ZXJIZWlnaHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJUYWJsZS5jc3Moeydwb3NpdGlvbic6ICdyZWxhdGl2ZScsICdyaWdodCc6ICcxNXB4J30pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJUYWJsZS5jc3Moeydwb3NpdGlvbic6ICcnLCAncmlnaHQnOiAnJ30pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICBcclxuICAgIH1cclxuICAgIHRoaXMuc2V0Q3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jdXJyVGltZSgpO1xyXG4gICAgICAgIHZhciB0ID0gc2V0SW50ZXJ2YWwoc2VsZi5jdXJyVGltZSwgMzAwMDApO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuY3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC1jdXJyLXRpbWVcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImRhdGEtZ210XCIpKSBkYXRlLnNldFVUQ0hvdXJzKCskKHRoaXMpLmF0dHIoXCJkYXRhLWdtdFwiKSk7XHJcbiAgICAgICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSBkYXRlLmdldERheSgpLFxyXG4gICAgICAgICAgICAgICAgZGF5ID0gZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgICAgIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICAgICAgICB3ZWVrZGF5cyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBcItCS0L7RgdC60YDQtdGB0LXQvdGM0LVcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCf0L7QvdC10LTQtdC70YzQvdC40LpcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCS0YLQvtGA0L3QuNC6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQodGA0LXQtNCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQp9C10YLQstC10YDQs1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0J/Rj9GC0L3QuNGG0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCh0YPQsdCx0L7RgtCwXCJcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBtb250aGVzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIFwi0Y/QvdCy0LDRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLRhNC10LLRgNCw0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LzQsNGA0YLQsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQv9GA0LXQu9GPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvNCw0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC40Y7QvdGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQuNGO0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQstCz0YPRgdGC0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItGB0LXQvdGC0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC+0LrRgtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvdC+0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC00LXQutCw0LHRgNGPXCJcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmIChob3VycyA8IDEwKSBob3VycyA9IFwiMFwiICsgaG91cnM7XHJcbiAgICAgICAgICAgIGlmIChtaW51dGVzIDwgMTApIG1pbnV0ZXMgPSBcIjBcIiArIG1pbnV0ZXM7XHJcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3ZWVrZGF5c1t3ZWVrZGF5XTtcclxuICAgICAgICAgICAgbW9udGggPSBtb250aGVzW21vbnRoXTtcclxuICAgICAgICAgICAgaWYgKCQoXCIuZ3QtY3Vyci10aW1lLXRpbWVcIikpXHJcbiAgICAgICAgICAgICAgICAkKFwiLmd0LWN1cnItdGltZS10aW1lXCIpLmh0bWwoaG91cnMgKyBcIjpcIiArIG1pbnV0ZXMpO1xyXG4gICAgICAgICAgICBpZiAoJChcIi5ndC1jdXJyLXRpbWUtZGF0ZVwiKSlcclxuICAgICAgICAgICAgICAgICQoXCIuZ3QtY3Vyci10aW1lLWRhdGVcIikuaHRtbChcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ICsgXCIsIFwiICsgZGF5ICsgXCIgXCIgKyBtb250aCArIFwiIFwiICsgeWVhclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtY3Vyci10aW1lXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRDdXJyVGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWlubmVyLXNjcm9sbFwiKSkge1xyXG4gICAgICAgICQoJy5ndC1pbm5lci1zY3JvbGwnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAkKHRoaXMpLm5pY2VTY3JvbGwoe1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yb3BhY2l0eW1pbjogJzEnLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yb3BhY2l0eW1heDogJzEnLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yd2lkdGg6ICcycHgnLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICBtb3VzZXNjcm9sbHN0ZXA6ICc2MCcsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNDRUNFQ0VcIixcclxuICAgICAgICAgICAgICAgIHJhaWxvZmZzZXQ6ICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgIHppbmRleDogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3Jjb2xvcjogXCIjQ0VDRUNFXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8vIF9pbm5lcl9zY3JvbGwgIG11c3QgYmUgYmVmb3JlIF90YWJfc2xpZGVyIC0gIWltcG9ydGFudFxyXG5cclxuICAgIHRoaXMudGFiU2xpZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0YWJTbGlkZXJzID0gJChcIi5ndC10YWJzXCIpO1xyXG4gICAgICAgIHRhYlNsaWRlcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyVGFicyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGN1cnJUYWJzLmZpbmQoXCIuZ3QtdGFicy1idXR0b25cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudGFiU2xpZGVyQWN0aW9uKGN1cnJUYWJzLCAkKHRoaXMpLmluZGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLnRhYlNsaWRlckFjdGlvbihjdXJyVGFicywwLHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy50YWJTbGlkZXJBY3Rpb24gPSBmdW5jdGlvbiAoZWwsIG51bSAsaW5pdCkge1xyXG4gICAgICAgIHZhciBidXR0b25zID0gJChlbC5maW5kKFwiLmd0LXRhYnMtYnV0dG9uXCIpKSxcclxuICAgICAgICAgICAgbWFpbiA9ICAkKGVsLmZpbmQoXCIuZ3QtdGFicy1tYWluXCIpKVxyXG4gICAgICAgIGVsLmZpbmQoJy5ndC1pbm5lci1zY3JvbGwtdGFiJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyMnICsgJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbCcpKS5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnV0dG9ucy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICBtYWluLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoYnV0dG9uc1tudW1dKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKG1haW5bbnVtXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBcclxuICAgICAgICBpZigkKCcjJyArICQobWFpbltudW1dKS5maW5kKCcuZ3QtaW5uZXItc2Nyb2xsLXRhYicpLmF0dHIoJ2RhdGEtc2Nyb2xsJykpLmZpbmQoJy5ndC1zY3JvbGwtY3Vyc29yJykuaGVpZ2h0KCkgIT0gMCB8fCBpbml0KXtcclxuICAgICAgICAgICAgJCgnIycgKyAkKG1haW5bbnVtXSkuZmluZCgnLmd0LWlubmVyLXNjcm9sbC10YWInKS5hdHRyKCdkYXRhLXNjcm9sbCcpKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtdGFic1wiKSkge1xyXG4gICAgICAgIHNlbGYudGFiU2xpZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb2x1bW5QYXJ0bmVyc2hpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI2d0LXBhcnRuZXJzaGlwXCIpLmFkZENsYXNzKCdndC1wYXJ0bmVyc2hpcC1jb2x1bW4nKTtcclxuICAgIH07XHJcbiAgICB0aGlzLnJvd1BhcnRuZXJzaGlwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIjZ3QtcGFydG5lcnNoaXBcIikucmVtb3ZlQ2xhc3MoJ2d0LXBhcnRuZXJzaGlwLWNvbHVtbicpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIjZ3QtcGFydG5lcnNoaXBcIikpIHtcclxuICAgICAgICAkKCcjZ3QtcGFydG5lcnNoaXAtcm93Jykub24oJ2NsaWNrJywgc2VsZi5jb2x1bW5QYXJ0bmVyc2hpcCk7XHJcbiAgICAgICAgJCgnI2d0LXBhcnRuZXJzaGlwLWNvbHVtbicpLm9uKCdjbGljaycsIHNlbGYucm93UGFydG5lcnNoaXApO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCQoXCIqXCIpLmlzKFwiI2d0LXBhcnRuZXJzaGlwLW1lbnVcIikpIHtcclxuICAgICAgICAgICAgJChcIiNndC1wYXJ0bmVyc2hpcC1tZW51XCIpLmZpbmQoJ2RpdicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zY3JvbGxUb0FydGljbGUoJCh0aGlzKS5hdHRyKCdkYXRhLWhyZWYnKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3JlYXRlU2VsZWN0V3JhcHBlciA9IGZ1bmN0aW9uIChjdXJyU2VsZWN0KSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdE9wdGlvbiA9IGN1cnJTZWxlY3QuZmluZCgnb3B0aW9uJyksXHJcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbkxlbmd0aCA9IHNlbGVjdE9wdGlvbi5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0T3B0aW9uLmZpbHRlcignOnNlbGVjdGVkJyksXHJcbiAgICAgICAgICAgIGR1ciA9IDUwMCxcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI7XHJcbiAgICBcclxuICAgICAgICBpZiAoIWN1cnJTZWxlY3QuYXR0cignZGF0YS1uYW1lJykgfHwgY3VyclNlbGVjdC5hdHRyKCdkYXRhLW5hbWUnKSA9PSB1bmRlZmluZWQgfHwgY3VyclNlbGVjdC5hdHRyKCdkYXRhLW5hbWUnKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gJChzZWxlY3RlZE9wdGlvblswXSkudGV4dCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gY3VyclNlbGVjdC5hdHRyKCdkYXRhLW5hbWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VyclNlbGVjdC5oaWRlKCk7XHJcbiAgICBcclxuICAgICAgICBjdXJyU2VsZWN0LndyYXAoJzxkaXYgY2xhc3M9XCJzZWxlY3QgZ3Qtc2VsZWN0XCI+PC9kaXY+Jyk7XHJcbiAgICBcclxuICAgICAgICAkKCc8ZGl2PicsIHtcclxuICAgICAgICAgICAgY2xhc3M6ICdzZWxlY3RfX2dhcCcsXHJcbiAgICAgICAgICAgIGh0bWw6ICc8cD4nICsgcGxhY2Vob2xkZXIgKyAnPC9wPidcclxuICAgICAgICB9KS5pbnNlcnRBZnRlcihjdXJyU2VsZWN0KTtcclxuICAgICAgICB2YXIgc2VsZWN0R2FwID0gY3VyclNlbGVjdC5uZXh0KCcuc2VsZWN0X19nYXAnKTtcclxuICAgICAgICAkKCc8dWw+Jyx7XHJcbiAgICAgICAgICAgIGNsYXNzOiAnc2VsZWN0X19saXN0J1xyXG4gICAgICAgIH0pLmluc2VydEFmdGVyKHNlbGVjdEdhcCk7XHJcbiAgICBcclxuICAgICAgICB2YXIgc2VsZWN0TGlzdCA9IHNlbGVjdEdhcC5uZXh0KCcuc2VsZWN0X19saXN0Jyk7XHJcbiAgICAgICAgLy8gQWRkIGxpIC0gb3B0aW9uIGl0ZW1zXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNlbGVjdE9wdGlvbkxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgJCgnPGxpPicse1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdzZWxlY3RfX2l0ZW0nLFxyXG4gICAgICAgICAgICAgICAgaHRtbDogJCgnPHNwYW4+Jyx7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogc2VsZWN0T3B0aW9uLmVxKGkpLnRleHQoKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXZhbHVlJywgc2VsZWN0T3B0aW9uLmVxKGkpLnZhbCgpKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKHNlbGVjdExpc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc2VsZWN0SXRlbSA9IHNlbGVjdExpc3QuZmluZCgnbGknKTtcclxuICAgIFxyXG4gICAgICAgIHNlbGVjdExpc3Quc2xpZGVVcCgwKTtcclxuICAgICAgICBzZWxlY3RHYXAub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ29uJykpe1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdExpc3Quc2xpZGVEb3duKGR1cik7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHNlbGVjdEl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hvb3NlSXRlbSA9ICQodGhpcykuZGF0YSgndmFsdWUnKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICQoJ3NlbGVjdCcpLnZhbChjaG9vc2VJdGVtKS5hdHRyKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEdhcC50ZXh0KCQodGhpcykuZmluZCgnc3BhbicpLnRleHQoKSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RMaXN0LnNsaWRlVXAoZHVyKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RHYXAucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdExpc3Quc2xpZGVVcChkdXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpZiAoJChcInNlbGVjdFwiKS5pcyhcIi5qcy1ndC1zZWxlY3RcIikpIHtcclxuICAgICAgICAkKCcuanMtZ3Qtc2VsZWN0JykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVNlbGVjdFdyYXBwZXIoJCh0aGlzKSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9kb2VzIG5vdCB3b3JrXHJcblxyXG4gICAgdGhpcy5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0Jykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja1Zpc2l0Vmlld0NhcmQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXBpbi1wbHVzJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja1NlZW5WaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3MnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrTWFya1ZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnRnKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5maW5kKCdhJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQsZWwpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgICAgICAgICBzZWxmLnZpZXdDYXJkU29jaWFsKGVsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5vbignY2xpY2sgIG1vdXNlbGVhdmUnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChlbCkuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0Jykub2ZmKCk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtcGluLXBsdXMnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3MnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLm9mZigpO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykuZmluZCgnYScpLm9mZigpO1xyXG4gICAgICAgIGVsLm9mZigpO1xyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMudmlld0NhcmRTb2NpYWwgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgc29jaWFsJyk7XHJcbiAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMub3BlblNoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5jbG9zZVNoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5jbGlja1NoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgIFxyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgc2VsZi5vcGVuU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xpY2tWaXNpdFZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYoZWwuaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKSByZXR1cm47XHJcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0JykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBub3QgdmlzaXRlZCBub3cnKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIHZpc2l0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jbGlja1NlZW5WaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmKGVsLmhhc0NsYXNzKCdndC1hY3RpdmUnKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1waW4tcGx1cycpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgbm90IHNlZW4gbm93Jyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBzZWVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xpY2tNYXJrVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZihlbC5oYXNDbGFzcygnZ3QtYWN0aXZlJykpIHJldHVybjtcclxuICAgICAgICB2YXIgYnV0dG9uID0gZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtYm9va21hcmtzJykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBkZWxldGUgYm9va21hcmsnKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIGFkZCBib29rbWFyaycpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC12aWV3LWNhcmRzLWlubmVyXCIpKSB7XHJcbiAgICBcclxuICAgICAgICAkKCcuZ3Qtdmlldy1jYXJkcy1pbm5lcicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzKCQodGhpcykpO1xyXG4gICAgICAgIH0pXHJcbiAgICBcclxuICAgIFxyXG4gICAgfVxyXG4gICAgLy8g0L/RgNC+0LLQtdGA0LrQsCDQvdCwINC90LDQu9C40YfQuNC1IC0g0L7QsdGB0YPQtNC40YLRjCDRgSDQsdC10LrQvtC8INC/0L7QstC10LTQtdCz0YLQtVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tZmFjZWJvb2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxFbnRlcignZmFjZWJvb2snKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS10d2l0dGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsRW50ZXIoJ3R3aXR0ZXInKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS1nb29nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxFbnRlcignZ29vZ2xlJylcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcjZ3QtcmVnLWZvcm0tZmFjZWJvb2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxSZWdpc3RyYXRpb24oJ2ZhY2Vib29rJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LXJlZy1mb3JtLXR3aXR0ZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxSZWdpc3RyYXRpb24oJ3R3aXR0ZXInKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtcmVnLWZvcm0tZ29vZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsUmVnaXN0cmF0aW9uKCdnb29nbGUnKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRoaXMuc29jaWFsUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBcclxuICAgICAgICBhbGVydChcItCg0LXQs9C40YHRgtGA0LDRhtC40Y8g0YfQtdGA0LXQtyBcIiArIHRva2VuKVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgdGhpcy5zb2NpYWxFbnRlciA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgXHJcbiAgICAgICAgYWxlcnQoXCLQktGF0L7QtCDRh9C10YDQtdC3IFwiICsgdG9rZW4pXHJcbiAgICBcclxuICAgIH07XHJcbiAgIHRoaXMuY3V0TmV3cyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudCgpLFxyXG4gICAgICAgICAgIG1heEhlaWdodCA9IHBhcmVudC5oZWlnaHQoKSxcclxuICAgICAgICAgICBjdXR0aW5nRWwgPSBlbC5maW5kKCdwJyksXHJcbiAgICAgICAgICAgY3VyckhlaWdodCxcclxuICAgICAgICAgICBjdXR0aW5nTGVuZ2h0LFxyXG4gICAgICAgICAgIG5ld1RleHQ7XHJcbiAgICAgICBwYXJlbnQuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBtYXhIZWlnaHQgLT0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgIH0pO1xyXG4gICBcclxuICAgICAgIG1heEhlaWdodCA9IG1heEhlaWdodCArIGVsLmhlaWdodCgpIC0gMjA7XHJcbiAgIFxyXG4gICBcclxuICAgICAgIGN1dHRpbmdFbC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBjdXJySGVpZ2h0ID0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgXHJcbiAgICAgICAgICAgaWYgKGN1cnJIZWlnaHQgPCBtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgbWF4SGVpZ2h0IC09IGN1cnJIZWlnaHRcclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICBpZiAoIW1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgY3V0dGluZ0xlbmdodCA9IE1hdGguZmxvb3IoJCh0aGlzKS50ZXh0KCkubGVuZ3RoICogbWF4SGVpZ2h0IC8gY3VyckhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gJCh0aGlzKS50ZXh0KCkuc3Vic3RyaW5nKDAsIGN1dHRpbmdMZW5naHQgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgIC8vIGN1dExhc3RTeW1ib2woKTtcclxuICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgobmV3VGV4dCkgKyAnLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSk7XHJcbiAgICAgICAvL1xyXG4gICAgICAgLy8gZnVuY3Rpb24gY3V0TGFzdFN5bWJvbCgpIHtcclxuICAgICAgIC8vICAgICB2YXIgc3RyTGVuZ3RoID0gbmV3VGV4dC5sZW5ndGg7XHJcbiAgICAgICAvLyAgICAgaWYobmV3VGV4dC5jaGFyQXQoc3RyTGVuZ3RoIC0gMSkgPT0gJyAnKXtcclxuICAgICAgIC8vICAgICAgICAgbmV3VGV4dD0gbmV3VGV4dC5zdWJzdHJpbmcoMCwgc3RyTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAvLyAgICAgfWVsc2V7XHJcbiAgICAgICAvLyAgICAgICAgIG5ld1RleHQgPSBuZXdUZXh0LnN1YnN0cmluZygwLCBzdHJMZW5ndGggLSAxKTtcclxuICAgICAgIC8vICAgICAgICAgc2V0VGltZW91dChjdXRMYXN0U3ltYm9sKVxyXG4gICAgICAgLy8gICAgIH1cclxuICAgICAgIC8vIH1cclxuICAgXHJcbiAgIH07XHJcbiAgIFxyXG4gICBcclxuICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuanMtbmV3cy1jdXRcIikpIHtcclxuICAgICAgICQoXCIuanMtbmV3cy1jdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgc2VsZi5jdXROZXdzKCQodGhpcykpO1xyXG4gICAgICAgfSk7XHJcbiAgIFxyXG4gICBcclxuICAgICAgIGRvY1dpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICQoXCIuanMtbmV3cy1jdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgIHNlbGYuY3V0TmV3cygkKHRoaXMpKTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgIH0pO1xyXG4gICB9XHJcbiAgIFxyXG4gICBcclxuICAgdGhpcy5jdXRSZWFkTW9yZVNsaWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHZhciBjdXR0aW5ncyA9ICQoXCIuZ3QtcmVhZC1tb3JlLXNsaWRlci10ZXh0LWlubmVyXCIpO1xyXG4gICAgICAgY3V0dGluZ3MuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgc2VsZi5jdXR0aW5nKCQodGhpcyksIDE2MCk7XHJcbiAgICAgICB9KTtcclxuICAgfTtcclxuICAgXHJcbiAgIHRoaXMuY3V0dGluZyA9IGZ1bmN0aW9uIChlbCwgbnVtKSB7XHJcbiAgICAgICB2YXIgbmV3c1RleHQgPSBlbC50ZXh0KCk7XHJcbiAgICAgICBpZiAobmV3c1RleHQubGVuZ3RoID4gbnVtKSB7XHJcbiAgICAgICAgICAgbmV3c1RleHQgPSBuZXdzVGV4dC5zbGljZSgwLCBudW0pICsgXCIuLi5cIjtcclxuICAgICAgICAgICBlbC50ZXh0KG5ld3NUZXh0KTtcclxuICAgICAgIH1cclxuICAgfTtcclxuICAgXHJcbiAgIFxyXG4gICBpZiAoJChcInBcIikuaXMoXCIuZ3QtcmVhZC1tb3JlLXNsaWRlci10ZXh0LWlubmVyXCIpKSB7XHJcbiAgICAgICBzZWxmLmN1dFJlYWRNb3JlU2xpZGVyKCk7XHJcbiAgIH1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBkb2MucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICAgICAgc2VsZi5mb290ZXJIZWlnaHQoKTsvL19mb290ZXJfaGVpZ2h0LmpzXHJcbiAgICAgICAgc2VsZi5kZXNrVG9wTWVudVNjcm9sbCgpOy8vX2Rlc2N0b3BfaGVhZGVyX2Z1bmMuanNcclxuICAgIFxyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIHRoaXMucGFnZVVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudXBQYWdlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IDMwKSB7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmFkZENsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5yZW1vdmVDbGFzcyhcImd0LXZpc2libGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB1cEJ1dHRvbi5vbihcImNsaWNrXCIsIHNlbGYucGFnZVVwKTtcclxuICAgIFxyXG4gICAgZG9jV2luZG93LnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi51cFBhZ2VCdXR0b24oKTsvL191cF9idXR0b24uanNcclxuICAgICAgICBpZiAoJChcIi5ndC1oZWFkZXItbWVudVwiKS5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZGVza1RvcE1lbnVTY3JvbGwoKTsvL19kZXNjdG9wX2hlYWRlcl9mdW5jLmpzXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkb2NXaW5kb3cucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmRlc2tUb3BNZW51U2Nyb2xsKCk7XHJcbiAgICAgICAgc2VsZi5mb290ZXJIZWlnaHQoKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChndEhlYWRlci5oYXNDbGFzcyhcImd0LW9wZW5cIikpIHNlbGYubW9iaWxlTWVudUNsb3NlKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbWctaG9sZGVyLWFic1wiKSkge1xyXG4gICAgICAgICAgICAkKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImd0LWhlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW1nSG9sZGVyRnVuYygkKHRoaXMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtaW1nLWhvbGRlci1hYnNcIikpIHtcclxuICAgICAgICAgICAgJChcIi5ndC1pbWctaG9sZGVyLWFic1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW1nSG9sZGVyRnVuYygkKHRoaXMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYm9keS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC50YXJnZXQpO1xyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtbWVudS1uZXdzXCIpKSB7XHJcbiAgICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2EnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RlbXAgZnVuYycpXHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgICAgIC8vIHRvZG8gdGVtcCBmdW5jXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59O1xyXG4kKGRvY3VtZW50KS5yZWFkeShcclxuXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGdvVG9UcmlwID0gbmV3IEdvVG9UcmlwKCk7XHJcbiAgICB9XHJcbik7Il19
