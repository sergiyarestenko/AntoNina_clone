GoToTrip=function(){var t=this,e=$(document.body),i=$(document),s=$(window),n={top:!1,left:!1},o=$("#gt-is-360"),a=($("#gt-is-480"),$("#gt-is-667")),r=$("#gt-is-768"),c=$("#gt-is-1024"),l=($("#gt-is-1231"),$("header")),d=$("footer"),g=$("#gt-wrapper"),u=$("#gt-up"),h=$("#gt-mobile-menu-switch"),f=$(".gt-enter"),p=$("#gt-header-enter-wrapper"),v=$("#gt-header-enter"),m=$("#gt-header-enter-chose"),C=$("#gt-header-enter-close");$("html").niceScroll({cursorborder:"1px solid #6d6d6d",mousescrollstep:"60",bouncescroll:!0,cursorcolor:"#6d6d6d"}),this.fixBody=function(){n.top||n.left||(n.top=i.scrollTop(),n.left=e.offset().left,e.css({position:"fixed",left:n.left+"px",top:-1*n.top+"px"}))},this.unfixBody=function(){e.css({position:"",left:"",top:""}),i.scrollTop(n.top),n.top=!1,n.left=!1},this.footerHeight=function(){d.outerHeight()>s.height()-50?(d.css("position","static"),g.css("margin-bottom",""),u.css("position","static")):(d.css("position",""),u.css("position",""),g.css("margin-bottom",d.outerHeight()+"px"))},this.deskTopMenuScroll=function(){s.scrollTop()>l.outerHeight()?l.addClass("gt-header-scrolled"):l.removeClass("gt-header-scrolled")},$("*").is(".gt-top-plane")&&$(".gt-header").addClass("gt-header-plane-top"),this.mobileMenuClose=function(){t.unfixBody(),h.removeClass("gt-open"),l.removeClass("gt-open")},this.mobileMenuOpen=function(){t.fixBody(),l.addClass("gt-open"),h.addClass("gt-open")},h.on("click",function(){$(this).hasClass("gt-open")?t.mobileMenuClose():t.mobileMenuOpen()}),this.openEnterForm=function(){p.addClass("gt-open"),setTimeout(function(){$("#gt-header-registered").addClass("gt-open"),v.addClass("gt-open"),C.addClass("gt-open")})},this.closeEnterForm=function(){C.removeClass("gt-open"),v.removeClass("gt-open"),$("#gt-header-registered").removeClass("gt-open"),t.closeRestorePass(),setTimeout(function(){p.removeClass("gt-open")},750)},this.changeEnterRegistration=function(t){v.hasClass($(t.target).attr("class"))||v.removeClass("gt-chosen-enter").removeClass("gt-chosen-registration").addClass($(t.target).attr("class"))},this.openRestorePass=function(){$("#gt-enter-pass-restore-wrapper").addClass("gt-open")},this.closeRestorePass=function(){$("#gt-enter-pass-restore-wrapper").removeClass("gt-open")},f.each(function(){$(this).on("click",t.openEnterForm)}),C.on("click",t.closeEnterForm),m.on("click",function(e){t.changeEnterRegistration(e)}),$("#gt-enter-form-restore-pass").on("click",t.openRestorePass),$("#gt-enter-pass-restore-submit").on("click",t.closeRestorePass),this.setBackground=function(){$(".gt-img-holder").each(function(){if($(this).attr("data-bg")){var t=$(this).attr("data-bg");a.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/phone/'+t+'")'):c.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/tablet/'+t+'")'):$(this).css("background-image",'url("./img/backgrounds/desktop/'+t+'")')}})},this.imgHolderFunc=function(t){$(t).removeClass("gt-width"),$(t).removeClass("gt-height"),$(t).removeClass("gt-visible");var e=t.outerHeight()/t.outerWidth(),i=t.find("img");i.outerHeight()/i.outerWidth()>e?$(t).addClass("gt-width"):$(t).addClass("gt-height"),$(t).addClass("gt-visible")},$("div").is(".gt-img-holder")&&t.setBackground(),this.createSlider=function(e,i){function n(){if(S>w){var t="";M&&(t='<div class="gt-slider-arrow-num"><i class="gt-slider-num-curr"></i><i>из</i><i class="gt-slider-num-max"></i></div>'),e.find(".gt-slider-arrow-holder").html('<span class = "gt-slider-arrow left"></span>'+t+'<span class = "gt-slider-arrow right"></span>'),e.find(".left").on("click",function(){l(!1)}),e.find(".right").on("click",function(){l(!0)}),M&&u(),u()}b=!0}function c(t){var i=t||e;i.find(".left").off(),i.find(".right").off(),i.find(".gt-slider-arrow-holder").html(""),b=!1}function l(i,s){var n,o;if(s||0===s?T=s:i?T++:T--,E&&(T>S-w&&(T=0),T<0&&(T=S-w),g()),H&&(T>S-w&&(n=x.children().first().clone(),o=x.children().first(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(o),t.createViewCardListeners(n)),x.css("left",-(T-2)*C+"px"),x.append(n),o.remove(),T--),T<0?(n=x.children().last(),o=x.children().last(),e.hasClass("gt-view-cards-slider")&&(t.destroyViewCardListeners(o),t.createViewCardListeners(n)),x.css("left",-(T+2)*C+"px"),x.prepend(n.clone()),o.remove(),T++,d()):d()),M&&u(),V){var a=e.find(".gt-slider-nav span");a.removeClass("gt-active"),$(a[x.find(".gt-open").attr("data-count")]).addClass("gt-active")}}function d(){x.children().removeClass("gt-open"),x.animate({left:-T*C},P),x.children().eq(T).addClass("gt-open")}function g(t){var e=t||T;$(k).removeClass("gt-open"),$(k[e]).addClass("gt-open")}function u(){e.find(".gt-slider-num-curr").text(+x.find(".gt-open").attr("data-count")+1),e.find(".gt-slider-num-max").text(S)}function h(){var t=0,i=0;e.on("touchstart",function(e){var i=e.originalEvent;t=Math.abs(i.touches[0].pageX),console.log("touchstart")}),e.on("touchend",function(e){var s=e.originalEvent;i=Math.abs(s.changedTouches[0].pageX),Math.abs(t-i)>50&&l(t>i?!0:!1)})}function f(t){(t||e).off()}function p(){e.attr("data-count")&&(w=parseInt(e.attr("data-count")),$(r).is(":visible")&&(w=3),$(a).is(":visible")&&(w=2),$(o).is(":visible")&&(w=1))}function v(){C=e.outerWidth()/w,e.find(".gt-slider-container").outerWidth((S+1)*C),k.each(function(){$(this).outerWidth(C),$(this).attr("data-count",$(this).index())})}var m,C,w=1,b=!1,k=e.find(".gt-slider-inner"),x=e.find(".gt-slider-container"),S=k.length,T=i||0,y=e.hasClass("gt-slider-has-arrow"),V=e.hasClass("gt-slider-has-dots"),M=e.hasClass("gt-slider-num"),H=e.hasClass("gt-slider-tram"),P=+e.attr("data-duration")||300,E=e.hasClass("gt-slider-fade"),A=e.hasClass("gt-slider-has-clone");E&&g(i),H&&(p(),v(),d()),y&&(e.append('<div class="gt-slider-arrow-holder"></div>'),n()),V&&function(){e.append('<div class="gt-slider-nav"></div>');for(var t=e.find(".gt-slider-nav"),i="",s=0;s<S;s++)i+="<span data-num = "+s+"></span>";t.html(i),t.find("span").first().addClass("gt-active"),e.find(".gt-slider-nav span").on("click",function(){l(!0,+$(this).attr("data-num"))})}(),S>w&&h(),A&&e.find(".gt-slider-inner-cover").each(function(){$(this).on("click",function(){!function(i){if(!$("div").is("#gt-clone")){t.fixBody();var s=$("#gt-body-wrapper");s.append('<div id = "gt-clone-wrapper"   class="container"><div id = "gt-clone" class="gt-slider gt-slider-clone gt-slider-fade gt-slider-num  gt-slider-has-arrow"><div id = "gt-clone-close" class = "gt-slider-clone-close"></div><div  id = "gt-clone-container" class="gt-slider-container"></div></div></div>'),s.show();var n=$("#gt-clone");e.find(".gt-slider-inner").clone(!0).each(function(){$(this).outerWidth(""),$("#gt-clone-container").append($(this))}),t.createSlider(n,i),$("#gt-clone-close").on("click",function(){!function(e){c(e),f(e),$("#gt-clone-close").off(),$("#gt-clone-wrapper").remove(),$("#gt-body-wrapper").hide(),t.unfixBody()}(n)})}}($(this).parent().index())})}),s.resize(function(){m||(m=setTimeout(function(){m=null,f(),H&&(p(),v(),T>S-w&&(T=S-w),S<=w&&(T=0),d()),b&&(c(),n()),S>w&&h()},132))})},$("div").is(".gt-slider")&&$(".gt-slider").each(function(){t.createSlider($(this))}),this.numberCollectionArticle=function(t){t.find(".gt-collection-link-wrapper").each(function(){$(this).find(".gt-collection-link-slider-wrapper").after('<div class = "gt-collection-link-number"><span>'+($(this).index()+1)+"</span></div>")})},$("div").is(".gt-collection-wrapper-num")&&$(".gt-collection-wrapper-num").each(function(){t.numberCollectionArticle($(this))}),this.manageGtActiveUlMenu=function(t){"li"!=t.tagName&&(t=$(t).closest("li")),$(t).closest($("ul")).find("li").removeClass("gt-active"),$(t).addClass("gt-active")},$("*").is(".gt-button-menu")&&$(".gt-button-menu").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),$("*").is(".gt-menu-news_items")&&$(".gt-menu-news_items").on("click",function(e){e.preventDefault(),t.manageGtActiveUlMenu(e.target)}),this.setPlayers=function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.youtube.com/player_api";var i=$("script")[$("script").length-1];i.parentNode.insertBefore(e,i);$(".gt-video").each(function(){var e=$(this);e.find(".gt-video-switch").on("click",function(){$(this).addClass("gt-open"),e.addClass("gt-open"),t.addYouTube(e)})})},this.addYouTube=function(t){function e(){s.mute(),s.playVideo(),t.addClass("gt-video-on"),t.find(".gt-video-uncover").on("click",i),t.find(".gt-video-pause").on("click",function(){s.pauseVideo()}),t.find(".gt-video-play").on("click",function(){s.playVideo()})}function i(){console.log("playFullScreen");var e=t.find("iframe")[0],i=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen;i&&i.bind(e)()}var s,n="gt-video-"+t.index();t.find(".gt-video-switch").hide("slow"),t.find(".gt-video-inner").attr("id",n).addClass("gt-video-foreground"),s=new YT.Player(n,{width:600,height:400,videoId:t.attr("data-youtube"),playerVars:{playlist:t.attr("data-youtube"),color:"white",loop:1,autoplay:1},events:{onReady:e}})},$("div").is(".gt-video")&&t.setPlayers(),this.fixArticleScrollTablePosition=function(t){var e=t,s=e.parent(),n=e.outerHeight(),o=s.position().top,a=o+s.outerHeight(),r=e.outerWidth(),c=i.scrollTop();o+90>c&&e.hasClass("gt-fixed")&&(e.removeClass("gt-fixed"),e.css({left:"",width:""})),o<c+90&&(e.hasClass("gt-fixed")||(e.css({left:e.offset().left+"px",width:r}),e.addClass("gt-fixed")),c-a+n+90>=0?e.addClass("gt-fixed-bottom"):e.removeClass("gt-fixed-bottom"))},this.createArticteScrollTable=function(){if($("div").is(".gt-article")){var e=$(".gt-article"),i=$("#gt-article-scroll-table"),s="";e.each(function(){s+='<div class = "gt-article-scroll"   data-href= "'+$(this).attr("id")+'" ><div class = "gt-article-scroll-shadow"></div><p>'+$(this).find("h2").text()+"</p></div>"}),i.html(s),i.find(".gt-article-scroll").each(function(){$(this).on("click",function(){t.scrollToArticle($(this).attr("data-href"))})})}},this.scrollToArticle=function(t){$("html").animate({scrollTop:$("#"+t).offset().top-110},1100)},this.showArtidleShadow=function(){$(".gt-article").each(function(){var t=$(this).position().top,e=$(this).outerHeight(),i=$(document).scrollTop(),s=0;(s=t>i?0:(i-t)/e)>1&&(s=1);var n=$(".gt-article-scroll")[$(this).index()];$(n).find(".gt-article-scroll-shadow").css("width",100*s+"%")})},$("div").is(".gt-article-table-wrapper")&&$(".gt-article-table-wrapper").each(function(){function e(){r&&(n||(n=setTimeout(function(){n=null,t.fixArticleScrollTablePosition(o),a&&t.showArtidleShadow()})))}function i(){o.outerHeight()>o.parent().outerHeight()?(r=!1,o.css({position:"relative",right:"15px"})):(r=!0,o.css({position:"",right:""}))}var n,o=$(this),a=!1,r=!0;$("div").is(".gt-article-scroll-table")&&(a=!0,t.createArticteScrollTable(),t.showArtidleShadow()),i(),s.scroll(e),s.resize(function(){i(),e()})}),this.setCurrTime=function(){t.currTime();setInterval(t.currTime,3e4)},this.currTime=function(){$(".gt-curr-time").each(function(){var t=new Date;$(this).attr("data-gmt")&&t.setUTCHours(+$(this).attr("data-gmt"));var e=t.getHours(),i=t.getMinutes(),s=t.getDay(),n=t.getDate(),o=t.getMonth(),a=t.getFullYear();e<10&&(e="0"+e),i<10&&(i="0"+i),s=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][s],o=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][o],$(".gt-curr-time-time")&&$(".gt-curr-time-time").html(e+":"+i),$(".gt-curr-time-date")&&$(".gt-curr-time-date").html(s+", "+n+" "+o+" "+a)})},$("div").is(".gt-curr-time")&&t.setCurrTime(),$("div").is(".gt-inner-scroll")&&$(".gt-inner-scroll").each(function(){$(this).niceScroll({cursoropacitymin:"1",cursoropacitymax:"1",cursorwidth:"2px",cursorborder:"none",mousescrollstep:"60",background:"#CECECE",railoffset:"left",zindex:"auto",cursorcolor:"#CECECE"})}),this.tabSlider=function(){$(".gt-tabs").each(function(){var e=$(this);e.find(".gt-tabs-button").each(function(){$(this).on("click",function(){t.tabSliderAction(e,$(this).index())})}),t.tabSliderAction(e,0,!0)})},this.tabSliderAction=function(t,e,i){var s=$(t.find(".gt-tabs-button")),n=$(t.find(".gt-tabs-main"));t.find(".gt-inner-scroll-tab").each(function(){$("#"+$(this).attr("data-scroll")).hide()}),s.removeClass("active"),n.removeClass("active"),$(s[e]).addClass("active"),$(n[e]).addClass("active"),(0!=$("#"+$(n[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).find(".gt-scroll-cursor").height()||i)&&$("#"+$(n[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).show()},$("div").is(".gt-tabs")&&t.tabSlider(),this.columnPartnership=function(){$("#gt-partnership").addClass("gt-partnership-column")},this.rowPartnership=function(){$("#gt-partnership").removeClass("gt-partnership-column")},$("*").is("#gt-partnership")&&($("#gt-partnership-row").on("click",t.rowPartnership),$("#gt-partnership-column").on("click",t.columnPartnership)),this.createViewCardListeners=function(e){e.find(".gt-view-cards-icons-visit").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickVisitViewCard(e)}),e.find(".gt-view-cards-icons-pin-plus").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickSeenViewCard(e)}),e.find(".gt-view-cards-icons-bookmarks").on("click",function(i){t.closeShareViewCard(e),i.stopPropagation(),t.clickMarkViewCard(e)}),e.find(".gt-view-cards-icons-share").on("click",function(i){event.stopPropagation(),t.clickShareViewCard(e)}),e.find(".gt-view-cards-icons-share").find("a").on("click",function(e,i){e.preventDefault(),t.viewCardSocial(i)}),e.on("click  mouseleave",function(){$(e).find(".gt-view-cards-icons-share").parent().removeClass("gt-active"),t.closeShareViewCard(e)})},this.destroyViewCardListeners=function(t){t.find(".gt-view-cards-icons-visit").off(),t.find(".gt-view-cards-icons-pin-plus").off(),t.find(".gt-view-cards-icons-bookmarks").off(),t.find(".gt-view-cards-icons-share").off(),t.find(".gt-view-cards-icons-share").find("a").off(),t.off()},this.viewCardSocial=function(e){console.log("click social"),t.closeShareViewCard(e)},this.openShareViewCard=function(t){$(t).addClass("gt-active")},this.closeShareViewCard=function(t){$(t).removeClass("gt-active")},this.clickShareViewCard=function(e){var i=e.find(".gt-view-cards-icons-share").parent();i.hasClass("gt-active")?(i.removeClass("gt-active"),t.closeShareViewCard(e)):(i.addClass("gt-active"),t.openShareViewCard(e))},this.clickVisitViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-visit").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not visited now")):(e.addClass("gt-active"),console.log("click visit"))}},this.clickSeenViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-pin-plus").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not seen now")):(e.addClass("gt-active"),console.log("click seen"))}},this.clickMarkViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-bookmarks").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click delete bookmark")):(e.addClass("gt-active"),console.log("click add bookmark"))}},$("*").is(".gt-view-cards-inner")&&$(".gt-view-cards-inner").each(function(){t.createViewCardListeners($(this))}),$("#gt-enter-form-facebook").on("click",function(){t.socialEnter("facebook")}),$("#gt-enter-form-twitter").on("click",function(){t.socialEnter("twitter")}),$("#gt-enter-form-google").on("click",function(){t.socialEnter("google")}),$("#gt-reg-form-facebook").on("click",function(){t.socialRegistration("facebook")}),$("#gt-reg-form-twitter").on("click",function(){t.socialRegistration("twitter")}),$("#gt-reg-form-google").on("click",function(){t.socialRegistration("google")}),this.socialRegistration=function(t){alert("Регистрация через "+t)},this.socialEnter=function(t){alert("Вход через "+t)},this.cutNews=function(t){var e,i,s,n=t.parent(),o=n.height(),a=t.find("p");n.children().each(function(){o-=$(this).outerHeight(!0)}),o=o+t.height()-20,a.each(function(){(e=$(this).outerHeight(!0))<o?o-=e:o?(i=Math.floor($(this).text().length*o/e),s=$(this).text().substring(0,i-5),$(this).text(s+"..."),o=0):$(this).css("display","none")})},$("div").is(".js-news-cut")&&($(".js-news-cut").each(function(){t.cutNews($(this))}),s.resize(function(){$(".js-news-cut").each(function(){t.cutNews($(this))})})),this.cutReadMoreSlider=function(){$(".gt-read-more-slider-text-inner").each(function(){t.cutting($(this),160)})},this.cutting=function(t,e){var i=t.text();i.length>e&&(i=i.slice(0,e)+"...",t.text(i))},$("p").is(".gt-read-more-slider-text-inner")&&t.cutReadMoreSlider(),i.ready(function(){t.footerHeight(),t.deskTopMenuScroll()}),this.pageUp=function(){return $("html, body").animate({scrollTop:0},800),!1},this.upPageButton=function(){$(document).scrollTop()>30?u.addClass("gt-visible"):u.removeClass("gt-visible")},u.on("click",t.pageUp),s.scroll(function(){t.upPageButton(),$(".gt-header-menu").is(":visible")&&t.deskTopMenuScroll()}),s.resize(function(){t.deskTopMenuScroll(),t.footerHeight(),l.hasClass("gt-open")&&t.mobileMenuClose(),$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){$(this).removeClass("gt-width"),$(this).removeClass("gt-height"),t.imgHolderFunc($(this))})}),$(window).on("load",function(){$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){t.imgHolderFunc($(this))})}),e.on("click",function(t){}),$("*").is(".gt-menu-news")&&$(".gt-menu-news").find("a").on("click",function(t){t.preventDefault(),$(".gt-menu-news").find("li").removeClass("gt-active"),$(this).parent().addClass("gt-active"),console.log("temp func")})},$(document).ready(function(){new GoToTrip});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJHb1RvVHJpcCIsInNlbGYiLCJ0aGlzIiwiYm9keSIsIiQiLCJkb2N1bWVudCIsImRvYyIsImRvY1dpbmRvdyIsIndpbmRvdyIsImJvZHlQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0b2tlbjM2MCIsInRva2VuNjY3IiwidG9rZW43NjgiLCJ0b2tlbjEwMjQiLCJndEhlYWRlciIsImd0Rm9vdGVyIiwiZ3RXcmFwcGVyIiwidXBCdXR0b24iLCJtb2JpbGVNZW51U3dpdGNoIiwiZW50ZXJCdXR0b24iLCJlbnRlcldyYXBwZXIiLCJlbnRlckZvcm0iLCJlbnRlckNob3NlIiwiZW50ZXJDbG9zZSIsIm5pY2VTY3JvbGwiLCJjdXJzb3Jib3JkZXIiLCJtb3VzZXNjcm9sbHN0ZXAiLCJib3VuY2VzY3JvbGwiLCJjdXJzb3Jjb2xvciIsImZpeEJvZHkiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJjc3MiLCJwb3NpdGlvbiIsInVuZml4Qm9keSIsImZvb3RlckhlaWdodCIsIm91dGVySGVpZ2h0IiwiaGVpZ2h0IiwiZGVza1RvcE1lbnVTY3JvbGwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaXMiLCJtb2JpbGVNZW51Q2xvc2UiLCJtb2JpbGVNZW51T3BlbiIsIm9uIiwiaGFzQ2xhc3MiLCJvcGVuRW50ZXJGb3JtIiwic2V0VGltZW91dCIsImNsb3NlRW50ZXJGb3JtIiwiY2xvc2VSZXN0b3JlUGFzcyIsImNoYW5nZUVudGVyUmVnaXN0cmF0aW9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJhdHRyIiwib3BlblJlc3RvcmVQYXNzIiwiZWFjaCIsInNldEJhY2tncm91bmQiLCJwYXRoIiwiaW1nSG9sZGVyRnVuYyIsImVsIiwiaG9sZGVyQ29uc3QiLCJvdXRlcldpZHRoIiwiaW1nIiwiZmluZCIsImNyZWF0ZVNsaWRlciIsImN1cnJTbGlkZXIiLCJjcmVhdGVBcnJvd3MiLCJpbm5lckNvdW50Iiwic2NyZWVuQ29uc3QiLCJudW1Jbm5lciIsIm51bVBhbmVsIiwiaHRtbCIsIm9uZU1vdmVGdW5jdGlvbiIsInNob3dOdW0iLCJhcnJvd3NSZWFkeSIsImRlc3Ryb3lBcnJvd3MiLCJjbG9uZSIsIm9mZiIsImJ1bCIsIm51bSIsImRlbGV0ZWQiLCJjdXJyUG9zaXRpb24iLCJmYWRlIiwiZmFkZVNsaWRlck1vdmUiLCJ0cmFtIiwiY29udGFpbmVyIiwiY2hpbGRyZW4iLCJmaXJzdCIsImRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyIsImNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzIiwiYmFzZVdpZHRoIiwiYXBwZW5kIiwicmVtb3ZlIiwibGFzdCIsInByZXBlbmQiLCJ0cmFtU2xpZGVyTW92ZSIsImRvdHMiLCJhbGxEb3RzIiwiYW5pbWF0ZSIsInRyYW1BbmltYXRpb24iLCJlcSIsImluZGV4IiwiaW5uZXIiLCJ0ZXh0IiwiY3JlYXRlVG91Y2giLCJpbml0aWFsUG9pbnQiLCJmaW5hbFBvaW50IiwiZSIsIm9yaWdpbmFsRXZlbnQiLCJNYXRoIiwiYWJzIiwidG91Y2hlcyIsInBhZ2VYIiwiY29uc29sZSIsImxvZyIsImNoYW5nZWRUb3VjaGVzIiwiZGVzdHJveVRvdWNoIiwiZmluZFNjcmVlbkNvbnN0IiwicGFyc2VJbnQiLCJzZXRCYXNlV2lkdGgiLCJzbGlkZXJUaW1lT3V0IiwibGVuZ3RoIiwiYXJyb3ciLCJoYXNDbG9uZSIsIm5hdiIsInNwYW5zIiwiaSIsImNyZWF0ZURvdHMiLCJjbGlja1Bvc2l0aW9uIiwiYm9keVdyYXBwZXIiLCJzaG93IiwiY2xvbmVTbGlkZXIiLCJoaWRlIiwiZGVzdHJveUNsb25lU2xpZGVyIiwiY3JlYXRlQ2xvbmVTbGlkZXIiLCJwYXJlbnQiLCJyZXNpemUiLCJudW1iZXJDb2xsZWN0aW9uQXJ0aWNsZSIsImFmdGVyIiwibWFuYWdlR3RBY3RpdmVVbE1lbnUiLCJ0YWdOYW1lIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0Iiwic2V0UGxheWVycyIsInRhZyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwic3JjIiwibGFzdFNjcmlwdFRhZyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJjdXJyZW50UGxheWVyIiwiYWRkWW91VHViZSIsImluaXRpYWxpemUiLCJwbGF5ZXIiLCJtdXRlIiwicGxheVZpZGVvIiwicGxheUZ1bGxTY3JlZW4iLCJwYXVzZVZpZGVvIiwiaWZyYW1lIiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIiwiYmluZCIsImVsSWQiLCJZVCIsIlBsYXllciIsIndpZHRoIiwidmlkZW9JZCIsInBsYXllclZhcnMiLCJwbGF5bGlzdCIsImNvbG9yIiwibG9vcCIsImF1dG9wbGF5IiwiZXZlbnRzIiwib25SZWFkeSIsImZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uIiwiY3VyclRhYmxlIiwidGFibGUiLCJ0YWJsZVBhcmVudCIsInRhYmxlSGVpZ2h0IiwidGFibGVQYXJlbnRUb3AiLCJ0YWJsZVBhcmVudEJvdHRvbSIsInRhYmxlV2lkdGgiLCJ3aW5kb3dUb3AiLCJjcmVhdGVBcnRpY3RlU2Nyb2xsVGFibGUiLCJhcnRpY2xlcyIsInNjcm9sbFRvQXJ0aWNsZSIsInNob3dBcnRpZGxlU2hhZG93IiwiZWxIZWlnaHQiLCJ3aW5kb3dQb3NpdGlvbiIsIngiLCJjdXJyU2hhZG93Iiwic2Nyb2xsVGhyb3R0bGVyIiwic2Nyb2xsIiwic2Nyb2xsVGltZW91dCIsInNoYWRvdyIsImNoZWNrVGFibGVIZWlnaHQiLCJyaWdodCIsInNldEN1cnJUaW1lIiwiY3VyclRpbWUiLCJzZXRJbnRlcnZhbCIsImRhdGUiLCJEYXRlIiwic2V0VVRDSG91cnMiLCJob3VycyIsImdldEhvdXJzIiwibWludXRlcyIsImdldE1pbnV0ZXMiLCJ3ZWVrZGF5IiwiZ2V0RGF5IiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJjdXJzb3JvcGFjaXR5bWluIiwiY3Vyc29yb3BhY2l0eW1heCIsImN1cnNvcndpZHRoIiwiYmFja2dyb3VuZCIsInJhaWxvZmZzZXQiLCJ6aW5kZXgiLCJ0YWJTbGlkZXIiLCJjdXJyVGFicyIsInRhYlNsaWRlckFjdGlvbiIsImluaXQiLCJidXR0b25zIiwibWFpbiIsImNvbHVtblBhcnRuZXJzaGlwIiwicm93UGFydG5lcnNoaXAiLCJjbG9zZVNoYXJlVmlld0NhcmQiLCJzdG9wUHJvcGFnYXRpb24iLCJjbGlja1Zpc2l0Vmlld0NhcmQiLCJjbGlja1NlZW5WaWV3Q2FyZCIsImNsaWNrTWFya1ZpZXdDYXJkIiwiZXZlbnRnIiwiY2xpY2tTaGFyZVZpZXdDYXJkIiwidmlld0NhcmRTb2NpYWwiLCJvcGVuU2hhcmVWaWV3Q2FyZCIsImJ1dHRvbiIsInNvY2lhbEVudGVyIiwic29jaWFsUmVnaXN0cmF0aW9uIiwidG9rZW4iLCJhbGVydCIsImN1dE5ld3MiLCJjdXJySGVpZ2h0IiwiY3V0dGluZ0xlbmdodCIsIm5ld1RleHQiLCJtYXhIZWlnaHQiLCJjdXR0aW5nRWwiLCJmbG9vciIsInN1YnN0cmluZyIsImN1dFJlYWRNb3JlU2xpZGVyIiwiY3V0dGluZyIsIm5ld3NUZXh0Iiwic2xpY2UiLCJyZWFkeSIsInBhZ2VVcCIsInVwUGFnZUJ1dHRvbiJdLCJtYXBwaW5ncyI6IkFBS0FBLFNBQVcsV0FFUCxJQUFJQyxFQUFPQyxLQUNQQyxFQUFPQyxFQUFFQyxTQUFTRixNQUNsQkcsRUFBTUYsRUFBRUMsVUFDUkUsRUFBWUgsRUFBRUksUUFDZEMsR0FDSUMsS0FBSyxFQUNMQyxNQUFNLEdBRVZDLEVBQVdSLEVBQUUsY0FFYlMsR0FEV1QsRUFBRSxjQUNGQSxFQUFFLGVBQ2JVLEVBQVdWLEVBQUUsY0FDYlcsRUFBWVgsRUFBRSxlQUVkWSxHQURZWixFQUFFLGVBQ0hBLEVBQUUsV0FDYmEsRUFBV2IsRUFBRSxVQUNiYyxFQUFZZCxFQUFFLGVBQ2RlLEVBQVdmLEVBQUUsVUFDYmdCLEVBQW1CaEIsRUFBRSwwQkFDckJpQixFQUFjakIsRUFBRSxhQUNoQmtCLEVBQWVsQixFQUFFLDRC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0Y8sINC+0L/RgNC10LTQtdC70Y/RjtGJ0LDRjyDQt9Cw0YDQtdCz0LjRgdGC0LLQuNGA0L7QstCw0L3QvdGL0Lkg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC40LvQuCDQvdC10YJcclxuXHJcbi8vINC/0YDQtdC00YPRgdC80L7RgtGA0LXRgtGMINCy0YvRhdC+0LQg0LjQtyDQsNC60LrQsNGD0L3RgtCwXHJcblxyXG5cclxuR29Ub1RyaXAgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGJvZHkgPSAkKGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgIGRvYyA9ICQoZG9jdW1lbnQpLFxyXG4gICAgICAgIGRvY1dpbmRvdyA9ICQod2luZG93KSxcclxuICAgICAgICBib2R5UG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHRvcDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxlZnQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b2tlbjM2MCA9ICQoXCIjZ3QtaXMtMzYwXCIpLFxyXG4gICAgICAgIHRva2VuNDgwID0gJChcIiNndC1pcy00ODBcIiksXHJcbiAgICAgICAgdG9rZW42NjcgPSAkKFwiI2d0LWlzLTY2N1wiKSxcclxuICAgICAgICB0b2tlbjc2OCA9ICQoXCIjZ3QtaXMtNzY4XCIpLFxyXG4gICAgICAgIHRva2VuMTAyNCA9ICQoXCIjZ3QtaXMtMTAyNFwiKSxcclxuICAgICAgICB0b2tlbjEyMzEgPSAkKFwiI2d0LWlzLTEyMzFcIiksXHJcbiAgICAgICAgZ3RIZWFkZXIgPSAkKFwiaGVhZGVyXCIpLFxyXG4gICAgICAgIGd0Rm9vdGVyID0gJChcImZvb3RlclwiKSxcclxuICAgICAgICBndFdyYXBwZXIgPSAkKFwiI2d0LXdyYXBwZXJcIiksXHJcbiAgICAgICAgdXBCdXR0b24gPSAkKFwiI2d0LXVwXCIpLFxyXG4gICAgICAgIG1vYmlsZU1lbnVTd2l0Y2ggPSAkKFwiI2d0LW1vYmlsZS1tZW51LXN3aXRjaFwiKSxcclxuICAgICAgICBlbnRlckJ1dHRvbiA9ICQoJy5ndC1lbnRlcicpLFxyXG4gICAgICAgIGVudGVyV3JhcHBlciA9ICQoJyNndC1oZWFkZXItZW50ZXItd3JhcHBlcicpLFxyXG4gICAgICAgIGVudGVyRm9ybSA9ICQoJyNndC1oZWFkZXItZW50ZXInKSxcclxuICAgICAgICBlbnRlckNob3NlID0gJCgnI2d0LWhlYWRlci1lbnRlci1jaG9zZScpLFxyXG4gICAgICAgIGVudGVyQ2xvc2UgPSAkKCcjZ3QtaGVhZGVyLWVudGVyLWNsb3NlJyk7XHJcbiAgICAkKFwiaHRtbFwiKS5uaWNlU2Nyb2xsKHtcclxuICAgICAgICBjdXJzb3Jib3JkZXI6ICcxcHggc29saWQgIzZkNmQ2ZCcsXHJcbiAgICAgICAgbW91c2VzY3JvbGxzdGVwOiAnNjAnLFxyXG4gICAgICAgIGJvdW5jZXNjcm9sbDogdHJ1ZSxcclxuICAgICAgICBjdXJzb3Jjb2xvcjogJyM2ZDZkNmQnXHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICB0aGlzLmZpeEJvZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGJvZHlQb3NpdGlvbi50b3AgfHwgYm9keVBvc2l0aW9uLmxlZnQpIHJldHVybjtcclxuICAgICAgICBib2R5UG9zaXRpb24udG9wID0gZG9jLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgIGJvZHlQb3NpdGlvbi5sZWZ0ID0gYm9keS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgIGJvZHkuY3NzKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcclxuICAgICAgICAgICAgbGVmdDogYm9keVBvc2l0aW9uLmxlZnQgKyBcInB4XCIsXHJcbiAgICAgICAgICAgIHRvcDogLTEgKiBib2R5UG9zaXRpb24udG9wICsgXCJweFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnVuZml4Qm9keSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBib2R5LmNzcyh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICBsZWZ0OiBcIlwiLFxyXG4gICAgICAgICAgICB0b3A6IFwiXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2Muc2Nyb2xsVG9wKGJvZHlQb3NpdGlvbi50b3ApO1xyXG4gICAgICAgIGJvZHlQb3NpdGlvbi50b3AgPSBmYWxzZTtcclxuICAgICAgICBib2R5UG9zaXRpb24ubGVmdCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZvb3RlckhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm9vdGVySGVpZ2h0ID0gZ3RGb290ZXIub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICBpZiAoZm9vdGVySGVpZ2h0ID4gZG9jV2luZG93LmhlaWdodCgpIC0gNTApIHtcclxuICAgICAgICAgICAgZ3RGb290ZXIuY3NzKFwicG9zaXRpb25cIiwgXCJzdGF0aWNcIik7XHJcbiAgICAgICAgICAgIGd0V3JhcHBlci5jc3MoXCJtYXJnaW4tYm90dG9tXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5jc3MoXCJwb3NpdGlvblwiLCBcInN0YXRpY1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBndEZvb3Rlci5jc3MoXCJwb3NpdGlvblwiLCBcIlwiKTtcclxuICAgICAgICAgICAgdXBCdXR0b24uY3NzKFwicG9zaXRpb25cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIGd0V3JhcHBlci5jc3MoXCJtYXJnaW4tYm90dG9tXCIsIGd0Rm9vdGVyLm91dGVySGVpZ2h0KCkgKyBcInB4XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLmRlc2tUb3BNZW51U2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChkb2NXaW5kb3cuc2Nyb2xsVG9wKCkgPiBndEhlYWRlci5vdXRlckhlaWdodCgpKSB7XHJcbiAgICAgICAgICAgIGd0SGVhZGVyLmFkZENsYXNzKFwiZ3QtaGVhZGVyLXNjcm9sbGVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGd0SGVhZGVyLnJlbW92ZUNsYXNzKFwiZ3QtaGVhZGVyLXNjcm9sbGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiLmd0LXRvcC1wbGFuZVwiKSkge1xyXG4gICAgICAgICQoJy5ndC1oZWFkZXInKS5hZGRDbGFzcygnZ3QtaGVhZGVyLXBsYW5lLXRvcCcpXHJcbiAgICB9O1xyXG5cclxuICAgIFxyXG4gICAgdGhpcy5tb2JpbGVNZW51Q2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi51bmZpeEJvZHkoKTtcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoLnJlbW92ZUNsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICBndEhlYWRlci5yZW1vdmVDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLm1vYmlsZU1lbnVPcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuZml4Qm9keSgpO1xyXG4gICAgICAgIGd0SGVhZGVyLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBtb2JpbGVNZW51U3dpdGNoLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZ3Qtb3BlblwiKSkge1xyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZU1lbnVDbG9zZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9iaWxlTWVudU9wZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub3BlbkVudGVyRm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlbnRlcldyYXBwZXIuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBzZXRUaW1lb3V0KHNob3cpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHNob3coKSB7XHJcbiAgICAgICAgICAgICQoJyNndC1oZWFkZXItcmVnaXN0ZXJlZCcpLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGVudGVyRm9ybS5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgICAgICBlbnRlckNsb3NlLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jbG9zZUVudGVyRm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlbnRlckNsb3NlLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgZW50ZXJGb3JtLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgJCgnI2d0LWhlYWRlci1yZWdpc3RlcmVkJykucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBzZWxmLmNsb3NlUmVzdG9yZVBhc3MoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGhpZGUsIDc1MCk7XHJcbiAgICAgICAgZnVuY3Rpb24gaGlkZSgpIHtcclxuICAgICAgICAgICAgZW50ZXJXcmFwcGVyLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jaGFuZ2VFbnRlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChlbnRlckZvcm0uaGFzQ2xhc3MoJChldmVudC50YXJnZXQpLmF0dHIoXCJjbGFzc1wiKSkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBlbnRlckZvcm0ucmVtb3ZlQ2xhc3MoXCJndC1jaG9zZW4tZW50ZXJcIikucmVtb3ZlQ2xhc3MoXCJndC1jaG9zZW4tcmVnaXN0cmF0aW9uXCIpLmFkZENsYXNzKCQoZXZlbnQudGFyZ2V0KS5hdHRyKFwiY2xhc3NcIikpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLm9wZW5SZXN0b3JlUGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcjZ3QtZW50ZXItcGFzcy1yZXN0b3JlLXdyYXBwZXInKS5hZGRDbGFzcygnZ3Qtb3BlbicpXHJcbiAgICBcclxuICAgIH07XHJcbiAgICB0aGlzLmNsb3NlUmVzdG9yZVBhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnI2d0LWVudGVyLXBhc3MtcmVzdG9yZS13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBlbnRlckJ1dHRvbi5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIHNlbGYub3BlbkVudGVyRm9ybSlcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBlbnRlckNsb3NlLm9uKCdjbGljaycsIHNlbGYuY2xvc2VFbnRlckZvcm0pO1xyXG4gICAgXHJcbiAgICBlbnRlckNob3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHNlbGYuY2hhbmdlRW50ZXJSZWdpc3RyYXRpb24oZXZlbnQpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICQoJyNndC1lbnRlci1mb3JtLXJlc3RvcmUtcGFzcycpLm9uKCdjbGljaycsc2VsZi5vcGVuUmVzdG9yZVBhc3MpO1xyXG4gICAgJCgnI2d0LWVudGVyLXBhc3MtcmVzdG9yZS1zdWJtaXQnKS5vbignY2xpY2snLHNlbGYuY2xvc2VSZXN0b3JlUGFzcyk7XHJcblxyXG4gICAgdGhpcy5zZXRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbWdIb2xkZXJzID0gJChcIi5ndC1pbWctaG9sZGVyXCIpO1xyXG4gICAgICAgIGltZ0hvbGRlcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5hdHRyKFwiZGF0YS1iZ1wiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgcGF0aCA9ICQodGhpcykuYXR0cihcImRhdGEtYmdcIik7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbjY2Ny5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcclxuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtaW1hZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAndXJsKFwiLi9pbWcvYmFja2dyb3VuZHMvcGhvbmUvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4xMDI0LmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICd1cmwoXCIuL2ltZy9iYWNrZ3JvdW5kcy90YWJsZXQvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcyhcclxuICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgJ3VybChcIi4vaW1nL2JhY2tncm91bmRzL2Rlc2t0b3AvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmltZ0hvbGRlckZ1bmMgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5yZW1vdmVDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3QtaGVpZ2h0XCIpO1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB2YXIgaG9sZGVyQ29uc3QgPSBlbC5vdXRlckhlaWdodCgpIC8gZWwub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICBpbWcgPSBlbC5maW5kKCdpbWcnKSxcclxuICAgICAgICAgICAgaW1nQ29uc3QgPSBpbWcub3V0ZXJIZWlnaHQoKSAvIGltZy5vdXRlcldpZHRoKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoaW1nQ29uc3QgPiBob2xkZXJDb25zdCkge1xyXG4gICAgICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJndC1oZWlnaHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtaW1nLWhvbGRlclwiKSkge1xyXG4gICAgICAgIHNlbGYuc2V0QmFja2dyb3VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3JlYXRlU2xpZGVyID0gZnVuY3Rpb24gKGN1cnJTbGlkZXIsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlclRpbWVPdXQsXHJcbiAgICAgICAgICAgIHNjcmVlbkNvbnN0ID0gMSxcclxuICAgICAgICAgICAgYmFzZVdpZHRoLFxyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpbm5lciA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItaW5uZXJcIiksXHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItY29udGFpbmVyXCIpLFxyXG4gICAgICAgICAgICBpbm5lckNvdW50ID0gaW5uZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBwb3NpdGlvbiB8fCAwLFxyXG4gICAgICAgICAgICBhcnJvdyA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItaGFzLWFycm93XCIpLFxyXG4gICAgICAgICAgICBkb3RzID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtZG90c1wiKSxcclxuICAgICAgICAgICAgbnVtUGFuZWwgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLW51bVwiKSxcclxuICAgICAgICAgICAgdHJhbSA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItdHJhbVwiKSxcclxuICAgICAgICAgICAgdHJhbUFuaW1hdGlvbiA9ICtjdXJyU2xpZGVyLmF0dHIoJ2RhdGEtZHVyYXRpb24nKSB8fCAzMDAsXHJcbiAgICAgICAgICAgIGZhZGUgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWZhZGVcIiksXHJcbiAgICAgICAgICAgIGhhc0Nsb25lID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtY2xvbmVcIik7XHJcbiAgICAgICAgaWYgKGZhZGUpIHtcclxuICAgICAgICAgICAgZmFkZVNsaWRlck1vdmUocG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHJhbSkge1xyXG4gICAgICAgICAgICBmaW5kU2NyZWVuQ29uc3QoKTtcclxuICAgICAgICAgICAgc2V0QmFzZVdpZHRoKCk7XHJcbiAgICAgICAgICAgIHRyYW1TbGlkZXJNb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcnJvdykge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmFwcGVuZCgnPGRpdiBjbGFzcz1cImd0LXNsaWRlci1hcnJvdy1ob2xkZXJcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgY3JlYXRlQXJyb3dzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkb3RzKSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZURvdHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlubmVyQ291bnQgPiBzY3JlZW5Db25zdCkge1xyXG4gICAgICAgICAgICBjcmVhdGVUb3VjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGFzQ2xvbmUpIHtcclxuICAgICAgICAgICAgY3JlYXRlQ2xvbmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDbG9uZUxpc3RlbmVycygpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLWlubmVyLWNvdmVyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDbG9uZVNsaWRlcigkKHRoaXMpLnBhcmVudCgpLmluZGV4KCkpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFycm93cygpIHtcclxuICAgICAgICAgICAgaWYgKGlubmVyQ291bnQgPiBzY3JlZW5Db25zdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG51bUlubmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtUGFuZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBudW1Jbm5lciA9ICc8ZGl2IGNsYXNzPVwiZ3Qtc2xpZGVyLWFycm93LW51bVwiPjxpIGNsYXNzPVwiZ3Qtc2xpZGVyLW51bS1jdXJyXCI+PC9pPjxpPtC40Lc8L2k+PGkgY2xhc3M9XCJndC1zbGlkZXItbnVtLW1heFwiPjwvaT48L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiKS5odG1sKFxyXG4gICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWFycm93IGxlZnRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvc3Bhbj5cIiArIG51bUlubmVyICtcclxuICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3MgPSBcImd0LXNsaWRlci1hcnJvdyByaWdodFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQXJyb3dzTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICBzaG93TnVtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXJyb3dzUmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lBcnJvd3MoY2xvbmUpIHtcclxuICAgICAgICAgICAgdmFyIGVsID0gY2xvbmUgfHwgY3VyclNsaWRlcjtcclxuICAgICAgICAgICAgZWwuZmluZChcIi5sZWZ0XCIpLm9mZigpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLnJpZ2h0XCIpLm9mZigpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXNsaWRlci1hcnJvdy1ob2xkZXJcIikuaHRtbChcIlwiKTtcclxuICAgICAgICAgICAgYXJyb3dzUmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVBcnJvd3NMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5sZWZ0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5yaWdodFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChudW1QYW5lbCkgc2hvd051bSgpXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRG90cygpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5hcHBlbmQoJzxkaXYgY2xhc3M9XCJndC1zbGlkZXItbmF2XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIHZhciBuYXYgPSBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLW5hdlwiKSxcclxuICAgICAgICAgICAgICAgIHNwYW5zID0gXCJcIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbm5lckNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNwYW5zICs9IFwiPHNwYW4gZGF0YS1udW0gPSBcIiArIGkgKyBcIj48L3NwYW4+XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmF2Lmh0bWwoc3BhbnMpO1xyXG4gICAgICAgICAgICBuYXYuZmluZChcInNwYW5cIikuZmlyc3QoKS5hZGRDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1uYXYgc3BhblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlLCArJCh0aGlzKS5hdHRyKFwiZGF0YS1udW1cIikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBvbmVNb3ZlRnVuY3Rpb24oYnVsLCBudW0pIHtcclxuICAgICAgICAgICAgdmFyIGNsb25lLGRlbGV0ZWQ7XHJcbiAgICAgICAgICAgIGlmIChudW0gfHwgbnVtID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBudW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBlbHNlIGlmIChidWwpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChmYWRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3Q7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZhZGVTbGlkZXJNb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodHJhbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA+IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lID0gIGNvbnRhaW5lci5jaGlsZHJlbigpLmZpcnN0KCkuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkID0gY29udGFpbmVyLmNoaWxkcmVuKCkuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJyU2xpZGVyLmhhc0NsYXNzKCdndC12aWV3LWNhcmRzLXNsaWRlcicpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kZXN0cm95Vmlld0NhcmRMaXN0ZW5lcnMoZGVsZXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlVmlld0NhcmRMaXN0ZW5lcnMoY2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuY3NzKCdsZWZ0JywgKC0oY3VyclBvc2l0aW9uIC0gMikgKiBiYXNlV2lkdGgpICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlZC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24tLTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IGNvbnRhaW5lci5jaGlsZHJlbigpLmxhc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkID0gY29udGFpbmVyLmNoaWxkcmVuKCkubGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnJTbGlkZXIuaGFzQ2xhc3MoJ2d0LXZpZXctY2FyZHMtc2xpZGVyJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyhkZWxldGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoJ2xlZnQnLCAoLShjdXJyUG9zaXRpb24gKyAyKSAqIGJhc2VXaWR0aCkgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucHJlcGVuZChjbG9uZS5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW1TbGlkZXJNb3ZlKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKG51bVBhbmVsKSBzaG93TnVtKCk7XHJcbiAgICAgICAgICAgIGlmIChkb3RzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWxsRG90cyA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItbmF2IHNwYW5cIik7XHJcbiAgICAgICAgICAgICAgICBhbGxEb3RzLnJlbW92ZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgJChhbGxEb3RzW2NvbnRhaW5lci5maW5kKCcuZ3Qtb3BlbicpLmF0dHIoJ2RhdGEtY291bnQnKV0pLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHRyYW1TbGlkZXJNb3ZlKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYW5pbWF0ZSh7bGVmdDogLWN1cnJQb3NpdGlvbiAqIGJhc2VXaWR0aH0sIHRyYW1BbmltYXRpb24pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4oKS5lcShjdXJyUG9zaXRpb24pLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBmYWRlU2xpZGVyTW92ZShwb3NpdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwb3NpdGlvbiB8fCBjdXJyUG9zaXRpb247XHJcbiAgICAgICAgICAgICQoaW5uZXIpLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgICQoaW5uZXJbaW5kZXhdKS5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dOdW0oKSB7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZCgnLmd0LXNsaWRlci1udW0tY3VycicpLnRleHQoKyhjb250YWluZXIuZmluZCgnLmd0LW9wZW4nKS5hdHRyKCdkYXRhLWNvdW50JykpICsgMSk7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZCgnLmd0LXNsaWRlci1udW0tbWF4JykudGV4dChpbm5lckNvdW50KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb3VjaCgpIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxQb2ludCA9IDAsXHJcbiAgICAgICAgICAgICAgICBmaW5hbFBvaW50ID0gMDtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5vbihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsUG9pbnQgPSBNYXRoLmFicyhlLnRvdWNoZXNbMF0ucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0b3VjaHN0YXJ0XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5vbihcInRvdWNoZW5kXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICAgICAgICAgICAgZmluYWxQb2ludCA9IE1hdGguYWJzKGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGluaXRpYWxQb2ludCAtIGZpbmFsUG9pbnQpID4gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFBvaW50ID4gZmluYWxQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lUb3VjaChjbG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBjbG9uZSB8fCBjdXJyU2xpZGVyO1xyXG4gICAgICAgICAgICBlbC5vZmYoKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBmaW5kU2NyZWVuQ29uc3QoKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyU2xpZGVyLmF0dHIoXCJkYXRhLWNvdW50XCIpKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JlZW5Db25zdCA9IHBhcnNlSW50KGN1cnJTbGlkZXIuYXR0cihcImRhdGEtY291bnRcIikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodG9rZW43NjgpLmlzKFwiOnZpc2libGVcIikpIHNjcmVlbkNvbnN0ID0gMztcclxuICAgICAgICAgICAgICAgIGlmICgkKHRva2VuNjY3KS5pcyhcIjp2aXNpYmxlXCIpKSBzY3JlZW5Db25zdCA9IDI7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0b2tlbjM2MCkuaXMoXCI6dmlzaWJsZVwiKSkgc2NyZWVuQ29uc3QgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QmFzZVdpZHRoKCkge1xyXG4gICAgICAgICAgICBiYXNlV2lkdGggPSBjdXJyU2xpZGVyLm91dGVyV2lkdGgoKSAvIHNjcmVlbkNvbnN0O1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLWNvbnRhaW5lclwiKS5vdXRlcldpZHRoKChpbm5lckNvdW50ICsgMSkgKiBiYXNlV2lkdGgpO1xyXG4gICAgICAgICAgICBpbm5lci5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub3V0ZXJXaWR0aChiYXNlV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNvdW50JywgJCh0aGlzKS5pbmRleCgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVTbGlkZXIoY2xpY2tQb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIiNndC1jbG9uZVwiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBzZWxmLmZpeEJvZHkoKTtcclxuICAgICAgICAgICAgdmFyIGJvZHlXcmFwcGVyID0gJChcIiNndC1ib2R5LXdyYXBwZXJcIik7XHJcbiAgICAgICAgICAgIGJvZHlXcmFwcGVyLmFwcGVuZCgnPGRpdiBpZCA9IFwiZ3QtY2xvbmUtd3JhcHBlclwiICAgY2xhc3M9XCJjb250YWluZXJcIj48ZGl2IGlkID0gXCJndC1jbG9uZVwiIGNsYXNzPVwiZ3Qtc2xpZGVyIGd0LXNsaWRlci1jbG9uZSBndC1zbGlkZXItZmFkZSBndC1zbGlkZXItbnVtICBndC1zbGlkZXItaGFzLWFycm93XCI+PGRpdiBpZCA9IFwiZ3QtY2xvbmUtY2xvc2VcIiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWNsb25lLWNsb3NlXCI+PC9kaXY+PGRpdiAgaWQgPSBcImd0LWNsb25lLWNvbnRhaW5lclwiIGNsYXNzPVwiZ3Qtc2xpZGVyLWNvbnRhaW5lclwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG4gICAgICAgICAgICBib2R5V3JhcHBlci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZVNsaWRlciA9ICQoJyNndC1jbG9uZScpLFxyXG4gICAgICAgICAgICAgICAgaW5uZXJzID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1pbm5lclwiKS5jbG9uZSh0cnVlKTtcclxuICAgICAgICAgICAgaW5uZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vdXRlcldpZHRoKCcnKTtcclxuICAgICAgICAgICAgICAgICQoJyNndC1jbG9uZS1jb250YWluZXInKS5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVNsaWRlcihjbG9uZVNsaWRlciwgY2xpY2tQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtY2xvc2VcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95Q2xvbmVTbGlkZXIoY2xvbmVTbGlkZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95Q2xvbmVTbGlkZXIoY2xvbmVTbGlkZXIpIHtcclxuICAgICAgICAgICAgZGVzdHJveUFycm93cyhjbG9uZVNsaWRlcik7XHJcbiAgICAgICAgICAgIGRlc3Ryb3lUb3VjaChjbG9uZVNsaWRlcik7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtY2xvc2VcIikub2ZmKCk7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUtd3JhcHBlclwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJChcIiNndC1ib2R5LXdyYXBwZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnVuZml4Qm9keSgpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vLy8vLy8vLy9yZXNpemVTbGlkZXJcclxuICAgICAgICBmdW5jdGlvbiByZXNpemVTbGlkZXIoKSB7XHJcbiAgICAgICAgICAgIGlmICghc2xpZGVyVGltZU91dCkge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVyVGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlclRpbWVPdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZUZ1bmMoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEzMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBkb2NXaW5kb3cucmVzaXplKHJlc2l6ZVNsaWRlcik7XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiByZXNpemVGdW5jKCkge1xyXG4gICAgICAgICAgICBkZXN0cm95VG91Y2goKTtcclxuICAgICAgICAgICAgaWYgKHRyYW0pIHtcclxuICAgICAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICAgICAgc2V0QmFzZVdpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICByZXNpemVNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB0cmFtU2xpZGVyTW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJvd3NSZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUFycm93cygpO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQXJyb3dzKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVUb3VjaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZU1vdmUoKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3QpXHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3Q7XHJcbiAgICAgICAgICAgIGlmIChpbm5lckNvdW50IDw9IHNjcmVlbkNvbnN0KSBjdXJyUG9zaXRpb24gPSAwO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1zbGlkZXJcIikpIHtcclxuICAgICAgICAkKFwiLmd0LXNsaWRlclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5jcmVhdGVTbGlkZXIoJCh0aGlzKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLm51bWJlckNvbGxlY3Rpb25BcnRpY2xlID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwuZmluZChcIi5ndC1jb2xsZWN0aW9uLWxpbmstd3JhcHBlclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuZ3QtY29sbGVjdGlvbi1saW5rLXNsaWRlci13cmFwcGVyJykuYWZ0ZXIoJzxkaXYgY2xhc3MgPSBcImd0LWNvbGxlY3Rpb24tbGluay1udW1iZXJcIj48c3Bhbj4nICsgKCQodGhpcykuaW5kZXgoKSArIDEpICsgJzwvc3Bhbj48L2Rpdj4nKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKHRoaXMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1jb2xsZWN0aW9uLXdyYXBwZXItbnVtXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1jb2xsZWN0aW9uLXdyYXBwZXItbnVtXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLm51bWJlckNvbGxlY3Rpb25BcnRpY2xlKCQodGhpcykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tYW5hZ2VHdEFjdGl2ZVVsTWVudSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmIChlbC50YWdOYW1lICE9IFwibGlcIilcclxuICAgICAgICAgICAgZWwgPSAkKGVsKS5jbG9zZXN0KFwibGlcIik7XHJcbiAgICBcclxuICAgICAgICAkKGVsKS5jbG9zZXN0KCQoXCJ1bFwiKSkuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICAvLyBpZiAoJChcIipcIikuaXMoXCIuZ3QtaHVuZHJldC1tZW51XCIpKSB7XHJcbiAgICAvLyAgICAgJChcIi5ndC1odW5kcmV0LW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIC8vICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC1idXR0b24tbWVudVwiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtYnV0dG9uLW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtbWVudS1uZXdzX2l0ZW1zXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1tZW51LW5ld3NfaXRlbXNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0UGxheWVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuICAgICAgICB0YWcudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiAgICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWVyX2FwaVwiO1xyXG4gICAgICAgIHZhciBsYXN0U2NyaXB0VGFnID0gJChcInNjcmlwdFwiKVskKFwic2NyaXB0XCIpLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGxhc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBsYXN0U2NyaXB0VGFnKTtcclxuICAgICAgICB2YXIgZ3RWaWRlb3MgPSAkKFwiLmd0LXZpZGVvXCIpO1xyXG4gICAgICAgIGd0VmlkZW9zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFBsYXllciA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuZmluZChcIi5ndC12aWRlby1zd2l0Y2hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRZb3VUdWJlKGN1cnJlbnRQbGF5ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuYWRkWW91VHViZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBwbGF5ZXIsXHJcbiAgICAgICAgICAgIGVsSWQgPSBcImd0LXZpZGVvLVwiICsgZWwuaW5kZXgoKTtcclxuICAgIFxyXG4gICAgICAgIGVsLmZpbmQoXCIuZ3QtdmlkZW8tc3dpdGNoXCIpLmhpZGUoJ3Nsb3cnKTtcclxuICAgIFxyXG4gICAgICAgIGVsXHJcbiAgICAgICAgICAgIC5maW5kKFwiLmd0LXZpZGVvLWlubmVyXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgZWxJZClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiZ3QtdmlkZW8tZm9yZWdyb3VuZFwiKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKGVsSWQsIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWxpc3Q6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWtiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogaW5pdGlhbGl6ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICAgICAgcGxheWVyLm11dGUoKTtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcyhcImd0LXZpZGVvLW9uXCIpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXVuY292ZXJcIikub24oJ2NsaWNrJywgcGxheUZ1bGxTY3JlZW4pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBhdXNlXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlGdWxsU2NyZWVuKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncGxheUZ1bGxTY3JlZW4nKTtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGVsLmZpbmQoJ2lmcmFtZScpWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdEZ1bGxTY3JlZW4gPSBpZnJhbWUucmVxdWVzdEZ1bGxTY3JlZW4gfHwgaWZyYW1lLm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGlmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbjtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3RGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RnVsbFNjcmVlbi5iaW5kKGlmcmFtZSkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LXZpZGVvXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRQbGF5ZXJzKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uID0gZnVuY3Rpb24gKGN1cnJUYWJsZSkge1xyXG4gICAgICAgIHZhciB0YWJsZSA9Y3VyclRhYmxlLFxyXG4gICAgICAgICAgICB0YWJsZVBhcmVudCA9IHRhYmxlLnBhcmVudCgpLFxyXG4gICAgICAgICAgICB0YWJsZUhlaWdodCA9IHRhYmxlLm91dGVySGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50VG9wID0gdGFibGVQYXJlbnQucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50Qm90dG9tID0gdGFibGVQYXJlbnRUb3AgKyB0YWJsZVBhcmVudC5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICB0YWJsZVdpZHRoID0gdGFibGUub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICB3aW5kb3dUb3AgPSBkb2Muc2Nyb2xsVG9wKCk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgaWYgKHRhYmxlUGFyZW50VG9wICsgOTAgPiB3aW5kb3dUb3ApIHtcclxuICAgICAgICAgICAgaWYgKHRhYmxlLmhhc0NsYXNzKFwiZ3QtZml4ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZUNsYXNzKFwiZ3QtZml4ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKHRhYmxlUGFyZW50VG9wIDwgd2luZG93VG9wICsgOTApIHtcclxuICAgICAgICAgICAgaWYgKCF0YWJsZS5oYXNDbGFzcyhcImd0LWZpeGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRhYmxlLm9mZnNldCgpLmxlZnQgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRhYmxlV2lkdGhcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGFibGUuYWRkQ2xhc3MoXCJndC1maXhlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2luZG93VG9wIC0gdGFibGVQYXJlbnRCb3R0b20gKyB0YWJsZUhlaWdodCArIDkwID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmFkZENsYXNzKFwiZ3QtZml4ZWQtYm90dG9tXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlQ2xhc3MoXCJndC1maXhlZC1ib3R0b21cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISQoXCJkaXZcIikuaXMoXCIuZ3QtYXJ0aWNsZVwiKSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGFydGljbGVzID0gJChcIi5ndC1hcnRpY2xlXCIpLFxyXG4gICAgICAgICAgICB0YWJsZSA9ICQoXCIjZ3QtYXJ0aWNsZS1zY3JvbGwtdGFibGVcIiksXHJcbiAgICAgICAgICAgIGh0bWwgPSBcIlwiO1xyXG4gICAgICAgIGFydGljbGVzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzID0gXCJndC1hcnRpY2xlLXNjcm9sbFwiICAgZGF0YS1ocmVmPSBcIicgKyAkKHRoaXMpLmF0dHIoXCJpZFwiKSArICdcIiA+PGRpdiBjbGFzcyA9IFwiZ3QtYXJ0aWNsZS1zY3JvbGwtc2hhZG93XCI+PC9kaXY+PHA+JyArXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJoMlwiKS50ZXh0KCkgK1xyXG4gICAgICAgICAgICAgICAgXCI8L3A+PC9kaXY+XCI7XHJcbiAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0YWJsZS5odG1sKGh0bWwpO1xyXG4gICAgICAgIHRhYmxlLmZpbmQoJy5ndC1hcnRpY2xlLXNjcm9sbCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgc2VsZi5zY3JvbGxUb0FydGljbGUoJCh0aGlzKS5hdHRyKCdkYXRhLWhyZWYnKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuc2Nyb2xsVG9BcnRpY2xlID0gZnVuY3Rpb24gKGF0dHIpIHtcclxuICAgICAgICAkKCdodG1sJykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKCcjJyArIGF0dHIpLm9mZnNldCgpLnRvcCAtIDExMH0sIDExMDApO1xyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuc2hvd0FydGlkbGVTaGFkb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC1hcnRpY2xlXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VyclBvc2l0aW9uID0gJCh0aGlzKS5wb3NpdGlvbigpLnRvcCxcclxuICAgICAgICAgICAgICAgIGVsSGVpZ2h0ID0gJCh0aGlzKS5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICAgICAgd2luZG93UG9zaXRpb24gPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSxcclxuICAgICAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gd2luZG93UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeCA9ICh3aW5kb3dQb3NpdGlvbiAtIGN1cnJQb3NpdGlvbikgLyBlbEhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeCA+IDEpIHggPSAxO1xyXG4gICAgICAgICAgICB2YXIgY3VyclNoYWRvdyA9ICQoXCIuZ3QtYXJ0aWNsZS1zY3JvbGxcIilbJCh0aGlzKS5pbmRleCgpXTtcclxuICAgICAgICAgICAgJChjdXJyU2hhZG93KVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoXCIuZ3QtYXJ0aWNsZS1zY3JvbGwtc2hhZG93XCIpXHJcbiAgICAgICAgICAgICAgICAuY3NzKFwid2lkdGhcIiwgeCAqIDEwMCArIFwiJVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoJ2RpdicpLmlzKCcuZ3QtYXJ0aWNsZS10YWJsZS13cmFwcGVyJykpIHtcclxuICAgICAgICAkKCcuZ3QtYXJ0aWNsZS10YWJsZS13cmFwcGVyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyVGFibGUgPSAkKHRoaXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBzaGFkb3cgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNjcm9sbCA9IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0O1xyXG4gICAgICAgICAgICBpZiAoJCgnZGl2JykuaXMoXCIuZ3QtYXJ0aWNsZS1zY3JvbGwtdGFibGVcIikpIHtcclxuICAgICAgICAgICAgICAgIHNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zaG93QXJ0aWRsZVNoYWRvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzY3JvbGxUaHJvdHRsZXIoKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghc2Nyb2xsKSByZXR1cm47XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFzY3JvbGxUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maXhBcnRpY2xlU2Nyb2xsVGFibGVQb3NpdGlvbihjdXJyVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3dBcnRpZGxlU2hhZG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgY2hlY2tUYWJsZUhlaWdodCgpO1xyXG4gICAgICAgICAgICBkb2NXaW5kb3cuc2Nyb2xsKHNjcm9sbFRocm90dGxlcik7XHJcbiAgICAgICAgICAgIGRvY1dpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tUYWJsZUhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVGhyb3R0bGVyKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tUYWJsZUhlaWdodCgpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJUYWJsZS5vdXRlckhlaWdodCgpID4gY3VyclRhYmxlLnBhcmVudCgpLm91dGVySGVpZ2h0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyVGFibGUuY3NzKHsncG9zaXRpb24nOiAncmVsYXRpdmUnLCAncmlnaHQnOiAnMTVweCd9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyVGFibGUuY3NzKHsncG9zaXRpb24nOiAnJywgJ3JpZ2h0JzogJyd9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgXHJcbiAgICB9XHJcbiAgICB0aGlzLnNldEN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY3VyclRpbWUoKTtcclxuICAgICAgICB2YXIgdCA9IHNldEludGVydmFsKHNlbGYuY3VyclRpbWUsIDMwMDAwKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIuZ3QtY3Vyci10aW1lXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJkYXRhLWdtdFwiKSkgZGF0ZS5zZXRVVENIb3VycygrJCh0aGlzKS5hdHRyKFwiZGF0YS1nbXRcIikpO1xyXG4gICAgICAgICAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCksXHJcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCksXHJcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gZGF0ZS5nZXREYXkoKSxcclxuICAgICAgICAgICAgICAgIGRheSA9IGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgbW9udGggPSBkYXRlLmdldE1vbnRoKCksXHJcbiAgICAgICAgICAgICAgICB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgICAgICAgICAgd2Vla2RheXMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQktC+0YHQutGA0LXRgdC10L3RjNC1XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQn9C+0L3QtdC00LXQu9GM0L3QuNC6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQktGC0L7RgNC90LjQulwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0KHRgNC10LTQsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0KfQtdGC0LLQtdGA0LNcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCf0Y/RgtC90LjRhtCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQodGD0LHQsdC+0YLQsFwiXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbW9udGhlcyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBcItGP0L3QstCw0YDRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0YTQtdCy0YDQsNC70Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC80LDRgNGC0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCw0L/RgNC10LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LzQsNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQuNGO0L3Rj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LjRjtC70Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItCw0LLQs9GD0YHRgtCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLRgdC10L3RgtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvtC60YLRj9Cx0YDRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0L3QvtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQtNC10LrQsNCx0YDRj1wiXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBpZiAoaG91cnMgPCAxMCkgaG91cnMgPSBcIjBcIiArIGhvdXJzO1xyXG4gICAgICAgICAgICBpZiAobWludXRlcyA8IDEwKSBtaW51dGVzID0gXCIwXCIgKyBtaW51dGVzO1xyXG4gICAgICAgICAgICB3ZWVrZGF5ID0gd2Vla2RheXNbd2Vla2RheV07XHJcbiAgICAgICAgICAgIG1vbnRoID0gbW9udGhlc1ttb250aF07XHJcbiAgICAgICAgICAgIGlmICgkKFwiLmd0LWN1cnItdGltZS10aW1lXCIpKVxyXG4gICAgICAgICAgICAgICAgJChcIi5ndC1jdXJyLXRpbWUtdGltZVwiKS5odG1sKGhvdXJzICsgXCI6XCIgKyBtaW51dGVzKTtcclxuICAgICAgICAgICAgaWYgKCQoXCIuZ3QtY3Vyci10aW1lLWRhdGVcIikpXHJcbiAgICAgICAgICAgICAgICAkKFwiLmd0LWN1cnItdGltZS1kYXRlXCIpLmh0bWwoXHJcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheSArIFwiLCBcIiArIGRheSArIFwiIFwiICsgbW9udGggKyBcIiBcIiArIHllYXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWN1cnItdGltZVwiKSkge1xyXG4gICAgICAgIHNlbGYuc2V0Q3VyclRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbm5lci1zY3JvbGxcIikpIHtcclxuICAgICAgICAkKCcuZ3QtaW5uZXItc2Nyb2xsJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgJCh0aGlzKS5uaWNlU2Nyb2xsKHtcclxuICAgICAgICAgICAgICAgIGN1cnNvcm9wYWNpdHltaW46ICcxJyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcm9wYWNpdHltYXg6ICcxJyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcndpZHRoOiAnMnB4JyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcmJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgbW91c2VzY3JvbGxzdGVwOiAnNjAnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjQ0VDRUNFXCIsXHJcbiAgICAgICAgICAgICAgICByYWlsb2Zmc2V0OiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICB6aW5kZXg6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yY29sb3I6IFwiI0NFQ0VDRVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyBfaW5uZXJfc2Nyb2xsICBtdXN0IGJlIGJlZm9yZSBfdGFiX3NsaWRlciAtICFpbXBvcnRhbnRcclxuXHJcbiAgICB0aGlzLnRhYlNsaWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGFiU2xpZGVycyA9ICQoXCIuZ3QtdGFic1wiKTtcclxuICAgICAgICB0YWJTbGlkZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VyclRhYnMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBjdXJyVGFicy5maW5kKFwiLmd0LXRhYnMtYnV0dG9uXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRhYlNsaWRlckFjdGlvbihjdXJyVGFicywgJCh0aGlzKS5pbmRleCgpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2VsZi50YWJTbGlkZXJBY3Rpb24oY3VyclRhYnMsMCx0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudGFiU2xpZGVyQWN0aW9uID0gZnVuY3Rpb24gKGVsLCBudW0gLGluaXQpIHtcclxuICAgICAgICB2YXIgYnV0dG9ucyA9ICQoZWwuZmluZChcIi5ndC10YWJzLWJ1dHRvblwiKSksXHJcbiAgICAgICAgICAgIG1haW4gPSAgJChlbC5maW5kKFwiLmd0LXRhYnMtbWFpblwiKSlcclxuICAgICAgICBlbC5maW5kKCcuZ3QtaW5uZXItc2Nyb2xsLXRhYicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcjJyArICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnKSkuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJ1dHRvbnMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgbWFpbi5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKGJ1dHRvbnNbbnVtXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChtYWluW251bV0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgXHJcbiAgICAgICAgaWYoJCgnIycgKyAkKG1haW5bbnVtXSkuZmluZCgnLmd0LWlubmVyLXNjcm9sbC10YWInKS5hdHRyKCdkYXRhLXNjcm9sbCcpKS5maW5kKCcuZ3Qtc2Nyb2xsLWN1cnNvcicpLmhlaWdodCgpICE9IDAgfHwgaW5pdCl7XHJcbiAgICAgICAgICAgICQoJyMnICsgJChtYWluW251bV0pLmZpbmQoJy5ndC1pbm5lci1zY3JvbGwtdGFiJykuYXR0cignZGF0YS1zY3JvbGwnKSkuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LXRhYnNcIikpIHtcclxuICAgICAgICBzZWxmLnRhYlNsaWRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29sdW1uUGFydG5lcnNoaXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIiNndC1wYXJ0bmVyc2hpcFwiKS5hZGRDbGFzcygnZ3QtcGFydG5lcnNoaXAtY29sdW1uJyk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5yb3dQYXJ0bmVyc2hpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI2d0LXBhcnRuZXJzaGlwXCIpLnJlbW92ZUNsYXNzKCdndC1wYXJ0bmVyc2hpcC1jb2x1bW4nKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiI2d0LXBhcnRuZXJzaGlwXCIpKSB7XHJcbiAgICBcclxuICAgICAgICAkKCcjZ3QtcGFydG5lcnNoaXAtcm93Jykub24oJ2NsaWNrJyxzZWxmLnJvd1BhcnRuZXJzaGlwKVxyXG4gICAgICAgICQoJyNndC1wYXJ0bmVyc2hpcC1jb2x1bW4nKS5vbignY2xpY2snLHNlbGYuY29sdW1uUGFydG5lcnNoaXApXHJcbiAgICBcclxuICAgIFxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9kb2VzIG5vdCB3b3JrXHJcblxyXG4gICAgdGhpcy5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0Jykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja1Zpc2l0Vmlld0NhcmQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXBpbi1wbHVzJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5jbGlja1NlZW5WaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3MnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrTWFya1ZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnRnKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5maW5kKCdhJykub24oJ2NsaWNrJyxmdW5jdGlvbiAoZXZlbnQsZWwpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgICAgICAgICBzZWxmLnZpZXdDYXJkU29jaWFsKGVsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5vbignY2xpY2sgIG1vdXNlbGVhdmUnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChlbCkuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0Jykub2ZmKCk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtcGluLXBsdXMnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3MnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLm9mZigpO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykuZmluZCgnYScpLm9mZigpO1xyXG4gICAgICAgIGVsLm9mZigpO1xyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMudmlld0NhcmRTb2NpYWwgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgc29jaWFsJyk7XHJcbiAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMub3BlblNoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5jbG9zZVNoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5jbGlja1NoYXJlVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgIFxyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgc2VsZi5vcGVuU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xpY2tWaXNpdFZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYoZWwuaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKSByZXR1cm47XHJcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXZpc2l0JykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBub3QgdmlzaXRlZCBub3cnKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIHZpc2l0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jbGlja1NlZW5WaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmKGVsLmhhc0NsYXNzKCdndC1hY3RpdmUnKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1waW4tcGx1cycpLnBhcmVudCgpO1xyXG4gICAgICAgIGlmKGJ1dHRvbi5oYXNDbGFzcygnZ3QtYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgbm90IHNlZW4gbm93Jyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBzZWVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuY2xpY2tNYXJrVmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZihlbC5oYXNDbGFzcygnZ3QtYWN0aXZlJykpIHJldHVybjtcclxuICAgICAgICB2YXIgYnV0dG9uID0gZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtYm9va21hcmtzJykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBkZWxldGUgYm9va21hcmsnKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIGFkZCBib29rbWFyaycpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC12aWV3LWNhcmRzLWlubmVyXCIpKSB7XHJcbiAgICBcclxuICAgICAgICAkKCcuZ3Qtdmlldy1jYXJkcy1pbm5lcicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzKCQodGhpcykpO1xyXG4gICAgICAgIH0pXHJcbiAgICBcclxuICAgIFxyXG4gICAgfVxyXG4gICAgLy8g0L/RgNC+0LLQtdGA0LrQsCDQvdCwINC90LDQu9C40YfQuNC1IC0g0L7QsdGB0YPQtNC40YLRjCDRgSDQsdC10LrQvtC8INC/0L7QstC10LTQtdCz0YLQtVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tZmFjZWJvb2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxFbnRlcignZmFjZWJvb2snKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS10d2l0dGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsRW50ZXIoJ3R3aXR0ZXInKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS1nb29nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxFbnRlcignZ29vZ2xlJylcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcjZ3QtcmVnLWZvcm0tZmFjZWJvb2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxSZWdpc3RyYXRpb24oJ2ZhY2Vib29rJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LXJlZy1mb3JtLXR3aXR0ZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxSZWdpc3RyYXRpb24oJ3R3aXR0ZXInKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtcmVnLWZvcm0tZ29vZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsUmVnaXN0cmF0aW9uKCdnb29nbGUnKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRoaXMuc29jaWFsUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBcclxuICAgICAgICBhbGVydChcItCg0LXQs9C40YHRgtGA0LDRhtC40Y8g0YfQtdGA0LXQtyBcIiArIHRva2VuKVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgdGhpcy5zb2NpYWxFbnRlciA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgXHJcbiAgICAgICAgYWxlcnQoXCLQktGF0L7QtCDRh9C10YDQtdC3IFwiICsgdG9rZW4pXHJcbiAgICBcclxuICAgIH07XHJcbiAgIHRoaXMuY3V0TmV3cyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudCgpLFxyXG4gICAgICAgICAgIG1heEhlaWdodCA9IHBhcmVudC5oZWlnaHQoKSxcclxuICAgICAgICAgICBjdXR0aW5nRWwgPSBlbC5maW5kKCdwJyksXHJcbiAgICAgICAgICAgY3VyckhlaWdodCxcclxuICAgICAgICAgICBjdXR0aW5nTGVuZ2h0LFxyXG4gICAgICAgICAgIG5ld1RleHQ7XHJcbiAgICAgICBwYXJlbnQuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBtYXhIZWlnaHQgLT0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgIH0pO1xyXG4gICBcclxuICAgICAgIG1heEhlaWdodCA9IG1heEhlaWdodCArIGVsLmhlaWdodCgpIC0gMjA7XHJcbiAgIFxyXG4gICBcclxuICAgICAgIGN1dHRpbmdFbC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBjdXJySGVpZ2h0ID0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgXHJcbiAgICAgICAgICAgaWYgKGN1cnJIZWlnaHQgPCBtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgbWF4SGVpZ2h0IC09IGN1cnJIZWlnaHRcclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICBpZiAoIW1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgY3V0dGluZ0xlbmdodCA9IE1hdGguZmxvb3IoJCh0aGlzKS50ZXh0KCkubGVuZ3RoICogbWF4SGVpZ2h0IC8gY3VyckhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gJCh0aGlzKS50ZXh0KCkuc3Vic3RyaW5nKDAsIGN1dHRpbmdMZW5naHQgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgIC8vIGN1dExhc3RTeW1ib2woKTtcclxuICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgobmV3VGV4dCkgKyAnLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSk7XHJcbiAgICAgICAvL1xyXG4gICAgICAgLy8gZnVuY3Rpb24gY3V0TGFzdFN5bWJvbCgpIHtcclxuICAgICAgIC8vICAgICB2YXIgc3RyTGVuZ3RoID0gbmV3VGV4dC5sZW5ndGg7XHJcbiAgICAgICAvLyAgICAgaWYobmV3VGV4dC5jaGFyQXQoc3RyTGVuZ3RoIC0gMSkgPT0gJyAnKXtcclxuICAgICAgIC8vICAgICAgICAgbmV3VGV4dD0gbmV3VGV4dC5zdWJzdHJpbmcoMCwgc3RyTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAvLyAgICAgfWVsc2V7XHJcbiAgICAgICAvLyAgICAgICAgIG5ld1RleHQgPSBuZXdUZXh0LnN1YnN0cmluZygwLCBzdHJMZW5ndGggLSAxKTtcclxuICAgICAgIC8vICAgICAgICAgc2V0VGltZW91dChjdXRMYXN0U3ltYm9sKVxyXG4gICAgICAgLy8gICAgIH1cclxuICAgICAgIC8vIH1cclxuICAgXHJcbiAgIH07XHJcbiAgIFxyXG4gICBcclxuICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuanMtbmV3cy1jdXRcIikpIHtcclxuICAgICAgICQoXCIuanMtbmV3cy1jdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgc2VsZi5jdXROZXdzKCQodGhpcykpO1xyXG4gICAgICAgfSk7XHJcbiAgIFxyXG4gICBcclxuICAgICAgIGRvY1dpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICQoXCIuanMtbmV3cy1jdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgIHNlbGYuY3V0TmV3cygkKHRoaXMpKTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgIH0pO1xyXG4gICB9XHJcbiAgIFxyXG4gICBcclxuICAgdGhpcy5jdXRSZWFkTW9yZVNsaWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHZhciBjdXR0aW5ncyA9ICQoXCIuZ3QtcmVhZC1tb3JlLXNsaWRlci10ZXh0LWlubmVyXCIpO1xyXG4gICAgICAgY3V0dGluZ3MuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgc2VsZi5jdXR0aW5nKCQodGhpcyksIDE2MCk7XHJcbiAgICAgICB9KTtcclxuICAgfTtcclxuICAgXHJcbiAgIHRoaXMuY3V0dGluZyA9IGZ1bmN0aW9uIChlbCwgbnVtKSB7XHJcbiAgICAgICB2YXIgbmV3c1RleHQgPSBlbC50ZXh0KCk7XHJcbiAgICAgICBpZiAobmV3c1RleHQubGVuZ3RoID4gbnVtKSB7XHJcbiAgICAgICAgICAgbmV3c1RleHQgPSBuZXdzVGV4dC5zbGljZSgwLCBudW0pICsgXCIuLi5cIjtcclxuICAgICAgICAgICBlbC50ZXh0KG5ld3NUZXh0KTtcclxuICAgICAgIH1cclxuICAgfTtcclxuICAgXHJcbiAgIFxyXG4gICBpZiAoJChcInBcIikuaXMoXCIuZ3QtcmVhZC1tb3JlLXNsaWRlci10ZXh0LWlubmVyXCIpKSB7XHJcbiAgICAgICBzZWxmLmN1dFJlYWRNb3JlU2xpZGVyKCk7XHJcbiAgIH1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBkb2MucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICAgICAgc2VsZi5mb290ZXJIZWlnaHQoKTsvL19mb290ZXJfaGVpZ2h0LmpzXHJcbiAgICAgICAgc2VsZi5kZXNrVG9wTWVudVNjcm9sbCgpOy8vX2Rlc2N0b3BfaGVhZGVyX2Z1bmMuanNcclxuICAgIFxyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIHRoaXMucGFnZVVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudXBQYWdlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IDMwKSB7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmFkZENsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5yZW1vdmVDbGFzcyhcImd0LXZpc2libGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB1cEJ1dHRvbi5vbihcImNsaWNrXCIsIHNlbGYucGFnZVVwKTtcclxuICAgIFxyXG4gICAgZG9jV2luZG93LnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi51cFBhZ2VCdXR0b24oKTsvL191cF9idXR0b24uanNcclxuICAgICAgICBpZiAoJChcIi5ndC1oZWFkZXItbWVudVwiKS5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZGVza1RvcE1lbnVTY3JvbGwoKTsvL19kZXNjdG9wX2hlYWRlcl9mdW5jLmpzXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkb2NXaW5kb3cucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmRlc2tUb3BNZW51U2Nyb2xsKCk7XHJcbiAgICAgICAgc2VsZi5mb290ZXJIZWlnaHQoKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChndEhlYWRlci5oYXNDbGFzcyhcImd0LW9wZW5cIikpIHNlbGYubW9iaWxlTWVudUNsb3NlKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbWctaG9sZGVyLWFic1wiKSkge1xyXG4gICAgICAgICAgICAkKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImd0LWhlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW1nSG9sZGVyRnVuYygkKHRoaXMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtaW1nLWhvbGRlci1hYnNcIikpIHtcclxuICAgICAgICAgICAgJChcIi5ndC1pbWctaG9sZGVyLWFic1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW1nSG9sZGVyRnVuYygkKHRoaXMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYm9keS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC50YXJnZXQpO1xyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtbWVudS1uZXdzXCIpKSB7XHJcbiAgICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2EnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RlbXAgZnVuYycpXHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgICAgIC8vIHRvZG8gdGVtcCBmdW5jXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59O1xyXG4kKGRvY3VtZW50KS5yZWFkeShcclxuXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGdvVG9UcmlwID0gbmV3IEdvVG9UcmlwKCk7XHJcbiAgICB9XHJcbik7Il19
